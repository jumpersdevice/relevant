{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../common/lib/globalConstants.js","webpack:///../common/lib/index.js","webpack:///./public/img/missing.png","webpack:///./public/img/r-emoji.png","webpack:///./public/img/relevantcoin.png","webpack:///./public/img/upvote.png","webpack:///./public/img/x.png","webpack:///./src/core/actionTypes.js","webpack:///./src/modules/activity/activity.reducer.js","webpack:///./src/modules/animation/animation.reducer.js","webpack:///./src/modules/auth/auth.reducer.js","webpack:///./src/modules/admin/admin.reducer.js","webpack:///./src/modules/community/community.reducer.js","webpack:///./src/modules/createPost/createPost.reducer.js","webpack:///./src/modules/post/post.reducer.js","webpack:///./src/modules/user/user.reducer.js","webpack:///./src/modules/post/invest.reducer.js","webpack:///./src/modules/comment/comment.reducer.js","webpack:///./src/modules/tag/tag.reducer.js","webpack:///./src/modules/stats/stats.reducer.js","webpack:///./src/modules/tooltip/tooltip.reducer.js","webpack:///./src/modules/ui/error.reducer.js","webpack:///./src/modules/wallet/earnings.reducer.js","webpack:///./src/modules/navigation/navigation.reducer.js","webpack:///./src/core/socket.reducer.js","webpack:///./src/core/subscriptions.reducer.js","webpack:///./src/core/reducers.js","webpack:///./src/core/web/configureStore.js","webpack:///./src/core/apollo.client.js","webpack:///./src/index.js","webpack:///./src/modules/_app/web/404.js","webpack:///./src/modules/_app/web/app.js","webpack:///./src/modules/_app/web/routes.js","webpack:///./src/modules/_app/web/withAuth.js","webpack:///./src/modules/auth/auth.actions.js","webpack:///./src/modules/comment/linkify.js","webpack:///./src/modules/community/community.actions.js","webpack:///./src/modules/contract/contract.context.js","webpack:///./src/modules/contract/contract.provider.js","webpack:///./src/modules/navigation/ULink.component.js","webpack:///./src/modules/navigation/history.js","webpack:///./src/utils/nav.js","webpack:///./src/modules/navigation/navigation.actions.js","webpack:///./src/modules/post/gradient.component.js","webpack:///./src/modules/post/post.actions.js","webpack:///./src/modules/tag/tag.component.js","webpack:///./src/modules/post/postTitle.component.js","webpack:///./src/modules/post/postinfo.component.js","webpack:///./src/modules/ui/mobile/CustomSpinner.component.js","webpack:///./src/modules/createPost/mobile/urlPreview.component.js","webpack:///./src/modules/post/postinfo.mobile.component.js","webpack:///./src/modules/styled/uni.js","webpack:///./src/modules/tooltip/tooltip.actions.js","webpack:///./src/modules/tooltip/web/postEarningTooltip.component.js","webpack:///./src/modules/tooltip/web/tooltip.component.js","webpack:///./src/modules/ui/error.actions.js","webpack:///./src/modules/ui/modals/desktop.lookup.js","webpack:///./src/modules/ui/modals/modal.component.js","webpack:///./src/modules/ui/modals/modal.container.js","webpack:///./src/modules/ui/web/onboardingModal.js","webpack:///./src/modules/wallet/earnings.actions.js","webpack:///./src/styles/markdown.js","webpack:///./src/styles/baseStyles.js","webpack:///./src/styles/colors.js","webpack:///./src/styles/fonts.js","webpack:///./src/styles/index.js","webpack:///./src/styles/mixins.js","webpack:///./src/styles/layout.js","webpack:///./src/styles/responsive.js","webpack:///./src/styles/screens.js","webpack:///./src/styles/sizing.js","webpack:///./src/utils/alert.js","webpack:///./src/utils/s3.js","webpack:///./src/utils/api.js","webpack:///./src/utils/img.js","webpack:///./src/utils/tween.js","webpack:///./src/utils/list.js","webpack:///./src/utils/numbers.js","webpack:///./src/utils/post.js","webpack:///./src/utils/social.js","webpack:///./src/utils/storage.js","webpack:///./src/utils/text.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","24","exports","module","l","e","promises","Promise","resolve","reject","href","fullhref","p","existingLinkTags","document","getElementsByTagName","dataHref","tag","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","jsonpScriptSrc","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","head","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","userVotePower","BANNED_USER_HANDLES","BANNED_COMMUNITY_SLUGS","newUserCoins","getRewardForType","MAX_AIRDROP","totalAllowedInvites","TOKEN_DECIMALS","REDDIT_REWARD","CASHOUT_MAX","CASHOUT_LIMIT","EMAIL_REWARD","TWITTER_REWARD","REFERRAL_REWARD","PUBLIC_LINK_REWARD","MINIMUM_RANK","REP_CUTOFF_POSTS","REP_CUTOFF","RELEVANCE_DECAY_POSTS","RELEVANCE_DECAY","POWER_REGEN_INTERVAL","EXPONENT","SLOPE","VOTE_COST_RATIO","PAYOUT_TIME","TWITTER_DECAY","SHARE_DECAY","INIT_COIN","INTERVAL_INFLAITION","YEARLY_INFLATION","PAYOUT_FREQUENCY_FRACTION","PAYOUT_FREQUENCY","DAYS","HOURS","Math","pow","pagerank","user","reward","email","confirmed","twitterId","concat","round","sqrt","_globalConstants","keys","forEach","ADD_COMMUNITY","SET_COMMUNITIES","UPDATE_COMMUNITY","REMOVE_COMMUNITY","ADD_USER_MEMBERSHIP","SET_USER_MEMBERSHIPS","SET_COMMUNITY","LOGIN_USER_REQUEST","LOGIN_USER_FAILURE","LOGIN_USER_SUCCESS","LOGOUT_USER","SET_COMMUNITY_MEMBERS","SET_USER_SEARCH","SET_USER","SET_USERS","SET_CONTACTS","SET_USER_INDEX","UPDATE_USER","UPDATE_AUTH_USER","SET_STATS","SET_SELECTED_USER_DATA","SET_TWITTER","SET_LOADING","SET_RECENT_POSTS","UPDATE_EARNINGS","LOADING_POST_INVESTMENTS","LOADING_INVESTMENTS","SET_POST_INVESTMENTS","UPDATE_POST_INVESTMENTS","UNDO_POST_INVESTMENT","SET_INVESTMENTS","CLEAR_POSTS","UPDATE_POST","SET_POSTS","POST_ERROR","REMOVE_POST","SET_POSTS_SIMPLE","INC_FEED_COUNT","SET_FEED_COUNT","SET_TOP_POSTS","SET_RELATED","SET_USER_POSTS","SET_SUBSCRIPTIONS","DESELECT_TAG","SELECT_TAG","SET_PARENT_TAGS","SET_DISCOVER_TAGS","UPDATE_PARENT_TAG","SET_ACTIVITY","SET_COUNT","SET_ANIMATION","ADD_COMMENT","SET_COMMENTS","GET_POSTS","SET_CREATE_POST_STATE","SET_POST_CATEGORY","CLEAR_CREATE_POST","SET_TOPIC_POSTS","REFRESH_ROUTE","RELOAD_ROUTE","RELOAD_ALL_TABS","SHOW_TOOLTIP","TOOLTIP_READY","SET_TOOLTIP_DATA","TOGGLE_TOPICS","SCROLL","SET_ONBOARDING_STEP","SET_BUTTON_TOOLTIP","REGISTER_GESTURE","SET_INVITE_COUNT","SET_INVITES","UPDATE_INVITE","DESTROY_INVITE","SET_WAITLIST","SET_DOWNVOTES","DELETE_WAITLIST_USER","SET_INVITE_CODE","SET_ERROR","SET_EARNINGS","ADD_EARNING","UPDATE_EARNING","REMOVE_EARNING","SHOW_MODAL","HIDE_MODAL","SHOW_BANNER_PROMPT","HIDE_BANNER_PROMPT","SET_SCROLL_TAB","OPEN_WEB_SIDE_NAV","CLOSE_WEB_SIDE_NAV","LOCK_DRAWER","SET_WIDTH","initialState","personal","count","loaded","general","promptType","promptProps","token","isAuthenticated","isAuthenticating","statusText","deviceToken","preUser","stats","nextUpdate","Date","chart","relChart","twitter","currentInvite","loading","community","invitecode","inviteList","invites","waitList","wait","downvotes","CommunitySchema","schema","Entity","idAttribute","MemberSchema","communities","list","active","members","communityMembers","userMemberships","userCommunities","slugToId","urlPreview","domain","postBody","postUrl","postCategory","bodyTags","bodyMentions","allTags","postTags","postImage","nativeImage","repost","repostBody","edit","postId","editPost","keywords","createPreview","selectedTags","disableUrl","repostSchema","linkSchema","postSchema","post","metaPost","postError","feedUnread","feed","twitterFeed","top","new","flagged","userPosts","topics","newFeedAvailable","newPostsAvailable","posts","topPosts","related","links","mergePosts","state","mPosts","id","reposted","postData","users","handleToId","listByTopic","online","garbage","search","userInvestments","investments","myInvestments","myEarnings","loadedProfileInv","voteSuccess","childComments","tags","parentTags","vertical","horizontal","horizontalOffset","verticalOffset","text","parent","next","showing","onboarding","current","ready","buttonId","universal","discover","read","profile","activity","singlepost","comments","entities","pending","showTopics","reload","scroll","gesture","wallet","createPost","myProfile","modal","sideNavIsOpen","width","screenSize","modalData","lockDrawer","navigationState","action","payload","view","refresh","getTime","socketId","clientData","ping","total","totalUsers","communityState","reducers","auth","types","assign","_id","relevance","contacts","unread","topic","index","normalize","updatePost","embeddedUser","newPosts","currentPosts","discoverTags","selectedPostId","comment","myVote","handle","currentList","socket","form","formReducer","notif","bool","animation","currentType","earnings","earning","userId","currentInvestments","newState","parentId","navigation","findIndex","tooltip","subscriptions","sub","following","amount","admin","u","filter","skip","Set","normalized","cId","slug","map","communityId","updatedCommunities","existingCommunityMembers","unique","status","remove","createReducer","asyncReducers","combineReducers","appReducer","injectReducer","store","asyncReducer","replaceReducer","rootReducer","cachedCommunityState","authUser","rootSaga","io","require","process","on","emit","cache","InMemoryCache","dataIdFromObject","restore","__APOLLO_STATE__","uri","wsUri","replace","wsLink","WebSocketLink","options","reconnect","reconnectionAttempts","lazy","subscriptionMiddleware","applyMiddleware","a","getToken","subscriptionClient","use","httpLink","HttpLink","authMiddleware","setContext","req","headers","credentials","authorization","link","split","query","definition","getMainDefinition","kind","operation","client","ApolloClient","clientDebug","debug","rootElement","getElementById","React","middleware","socketIoMiddleware","createSocketIoMiddleware","_middleware","thunk","sagaMiddleware","DEVTOOLS","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createInjectSagasStore","getState","configureStore","__INITIAL_STATE__","localStorage","loadableReady","appRoutes","routes","hydrate","history","renderRoutes","NotFound","Component","PriceProvider","loadable","UpvoteAnimation","DownvoteAnimation","AnimationContainer","styled","div","App","props","authType","location","TwitterCT","init","ReactGA","initialize","pageView","pageview","pathname","listen","loc","actions","setWidth","innerWidth","AwesomeDebouncePromise","debouncedSetWidth","backgroundTime","reloadAllTabs","role","showModal","webOnboard","redeemInvite","category","set","getEarnings","updateCommunity","this","initAnalytics","getUser","handleUserLogin","parsed","queryString","parse","setInviteCode","match","updateWidth","addEventListener","reloadTabs","route","matchRoutes","newCommunity","includes","setCommunity","prevProps","scrollTo","userToSocket","globalModal","daysHidden","daysReminder","title","position","globalEventOff","scrollHide","multiline","style","PropTypes","oneOfType","string","mapStateToProps","mapDispatchToProps","dispatch","bindActionCreators","navigationActions","authActions","getCommunities","withRouter","connect","DiscoverContainer","TopicsAdmin","Invites","Invite","Faq","AdminHeader","Flagged","Waitlist","Downvotes","Email","TopPosts","Contract","About","TopNav","CommunityAdminForm","CommunityAdminList","Styles","CommunityList","ProfileContainer","ActivityContainer","WithSideNav","WithTopNav","PostContainer","Wallet","Auth","CreatePostContainer","MyRedirect","to","url","path","component","exact","withAuth","indexRoute","navbar","AuthComponent","authenticated","from","propTypes","isRequired","Alert","alert","default","reqOptions","storage","Accept","Authorization","updateInvite","invite","sendPong","updateAuthUser","setUser","setSelectedUserData","setUserIndex","userIndex","setPreUser","setAuthStatusText","loginUserSuccess","loginUserFailure","loginUserRequest","logout","cacheCommunity","api","method","endpoint","body","JSON","stringify","log","logoutAction","removeToken","setCurrentTooltip","step","updateUser","preventLocalUpdate","res","updateNotificationSettings","notificationSettings","subscription","deviceTokens","setDeviceToken","removeDeviceToken","indexOf","enableMobileNotifications","checkIfEnbaled","mobile","setupUser","errorActions","tooltipActions","callback","memberships","setUserMemberships","ok","setOnboardingStep","fetch","response","json","responseJSON","catch","params","loginUser","setToken","userOnline","checkUser","omitSelf","createUser","handleErrors","signUp","errors","updateHandle","sendConfirmation","forgotPassword","resetPassword","password","confirmEmail","setStats","getChart","start","end","getStats","getRelChart","setTwitter","setLoading","twitterAuth","loginWithBox","address","signature","msg","updateUserTokenBalance","linkify","Linkify","linkifyMatch","linkifyText","omitUrl","matches","offset","lastIndex","txt","prependToUrl","isNative","substring","add","validate","pos","self","tail","re","RegExp","src_ZPCc","test","addCommunity","modifyCommunity","removeCommunity","communitySlug","setCommunities","setCommunityMembers","getCommunityAdmins","getCommunityMembers","limit","createCommunity","deleteCommunity","joinCommunity","searchMembers","val","checkAuth","ContractContext","createContext","useContract","contract","useContext","initialized","contractData","ContractProvider","children","useState","setInitialized","shouldInit","instance","setInstance","ReactReduxContext","useEffect","load","_instance","web3Sagas","web3Reducers","saga","reducer","injectSaga","RelevantToken","tokenAddress","selectors","Provider","node","StyledLink","StyledNavLink","StyledA","DisabledLink","linkStyles","css","styles","colors","blue","mixins","margin","padding","color","hc","hu","Link","cursor","NavLink","span","disabled","secondaryText","ULinkComponent","authrequired","preventDefault","onClick","onPress","navLink","external","noLink","inline","rest","PureComponent","number","func","array","goToUrl","createBrowserHistory","_navigator","dispatchNavigatorAction","warn","showAuth","lock","hideModal","scrolling","registerGesture","closeDrawer","requestAnimationFrame","pop","NavigationActions","back","StackActions","routeName","toggleTopics","goToTab","tab","resetTabs","goToTopic","navigate","categoryName","gestureResponseDistance","setScrollTab","breakpoints","mediumScreenWidth","smallScreenWidth","getScreenSize","refreshTab","reloadTab","openWebSideNav","closeWebSideNav","goToPeople","toLowerCase","Linking","openURL","setButtonTooltip","safariView","isAvailable","Orientation","unlockAllOrientations","show","readerMode","goToComments","goToPost","openComment","commentCount","goToProfile","viewBlocked","viewInvites","goToInviteList","bgGradient","previewGradient","Gradient","image","preview","max","parseInt","x","y","flex","apiServer","userSchema","parentPostSchema","parentPost","commentPost","feedSchema","commentary","processStrategy","tk","setUsers","setUserPosts","setMyPosts","setRecentPosts","updateRelated","removePost","setTopic","setPosts","setPostsSimple","getFeed","_tag","getTwitterFeed","deletePost","redirect","clearPosts","getPostsAction","setSelectedPost","setSelectedPostData","clearSelectedPost","getPosts","sort","tagsString","join","communityParam","dataType","loadingUserPosts","getUserPosts","addUpdatedComment","getSelectedPost","getRelated","setFeedCount","setSubscriptions","getSubscriptions","flag","getPostHtml","html","setTopPosts","getFlaggedPosts","shuffleArray","floor","random","getTopPosts","Tag","useSelector","encodeURI","useDispatch","stopPropagation","PostTitle","singlePost","memo","currentCommunity","white","titleLines","getPostUrl","titleEl","lh","numberOfLines","authorEl","articleAuthor","mr","domainEl","fdirection","align","renderCommentLink","justify","mt","wrap","h","overflow","CommentEl","TagEl","PostInfo","showImage","setShowImage","showFavIcon","setShowFavIcon","imageUrl","favIcon","getFavIcon","getTitle","w","POST_IMAGE_W","POST_IMAGE_H","source","onError","resizeMode","postContent","SpinnerContainer","View","Spinner","pointerEvents","ActivityIndicator","animating","visible","size","UrlPreviewComponent","urlMenu","isSmall","height","imageFlex","fontSize","img","domainUrl","imageEl","fs","grey","pt","maxLines","border","underlayColor","maxheight","opacity","GradientContainer","TitleContainer","ImagePost","imgBg","imageHeight","pl","ml","Touchable","TouchableOpacity","Box","font","background","zIndex","borderRadius","AbsoluteView","Text","InlineText","Image","ImageWrapper","FormImage","layout","formImageProps","Divider","sizing","dividerBg","universalBorder","Header","fonts","header","Title","highlight","LinkFont","CTALink","SecondaryText","SmallText","black","AltLink","altLink","CommunityLink","communityLink","CommentText","commentText","BodyText","bodyStyle","StaticButton","button","hover","activeButtonShadow","ButtonText","buttonFont","HB","HoverButton","setHover","setActive","isString","isArray","isTextArray","find","el","renderString","$$typeof","onMouseDown","onMouseUp","onMouseEnter","onMouseLeave","Button","ButtonWithIcon","ViewButton","secondaryBG","NumericalValue","numericalValue","inheritfont","Spacer","bigNumber","Number","isInteger","nestingLevel","additionalNesting","UNIT","NESTING_UNIT_RESONSIVE","NESTING_UNIT","CloseX","right","Warning","warning","modalBackground","Badge","textColor","minwidth","bradius","bg","abbreviateNumber","red","EthAddress","ErrorBox","styleProps","errorA","bc","WarningBox","warningA","tooltipReady","setTooltipData","showTooltip","EarningTooltip","TextTooltipComponent","maxWidth","mb","TOOLTIPS","POST","EARNING","TEXT","TextTooltip","className","effect","getContent","dataTip","TT","utils","setError","SettingsModal","InviteModal","InviteModalTitle","GetTokensModal","CommunityMembers","CommunityMembersTitle","ResetPassword","LoginForm","Forgot","SignupSocial","SignupEmail","SetHandle","ConfirmEmail","BetBody","CashOutModal","Signup3Box","LinkMobile","ConnectMetamaskModal","CommunitySettings","CreatePost","ModalHeader","linkMobile","Body","signup3Box","newpost","cashOut","connectMetamask","investModal","OnboardingModal","footer","settings","communitySettings","getTokens","login","forgot","signupSocial","signupEmail","setHandle","confirm","ModalParent","ModalScroll","Modal","modalShadow","ModalComponent","hideX","close","modalElement","useRef","headerEl","footerEl","disableBodyScroll","enableBodyScroll","closeModal","useCallback","escFunction","keyCode","removeEventListener","ref","ignoreScrollLock","minheight","pr","shrink","ReactDOM","createPortal","ModalContainer","currentModal","urlParams","modalParams","qString","modalEl","modals","queryParams","coin","upvote","earningSchema","setEarnings","addEarning","updateEarning","updateCashoutLog","GlobalStyle","createGlobalStyle","markdown","gs","gsa","lightGreyBg","green","gold","twitterBlue","lightGrey","lightBorder","redditColor","uniswap","lineColor","HELVETICA_NEUE_BOLD","HELVETICA_NEUE_CONDENSED_BOLD","HELVETICA_NEUE_MEDIUM","HELVETICA_NEUE","HELVETICA_REGULAR","GEORGIA","HelveticaNeueBold","HelveticaNeueCondensedBold","HelveticaNeueMedium","HelveticaNeue","Georgia","lineHeight","fontFamily","fontStyle","textDecoration","display","alignItems","justifyContent","minWidth","fontsize","pb","fw","ff","td","inheritcolor","side","br","bw","bl","bt","bb","responsiveHandler","grow","alignself","ac","absolute","left","bottom","linkStyle","boxShadow","AVATAR_SIZE","CENTER_BUTTON_SIZE","VOTE_BUTTON_SIZE","SIDE_NAV_PADDING","MAX_POST_WIDTH","DESKTOP_PADDING","BANNER_PROMPT_HEIGHT","headerHeight","mainHeaderHeight","sideNavWidth","POST_BUTTONS_NESTING_UNITS","POST_BUTTONS_WIDTH","POST_BUTTONS_WIDTH_RESPONSIVE","textRow","flexDirection","animatedElement","backgroundColor","Array","WIDTH","getWidth","memoize","unit","primitive","units","uArray","browserAlerts","alertType","toast","POSITION","BOTTOM_RIGHT","hideProgressBar","Platform","isDataURL","regex","dataURItoBlob","dataURI","byteString","atob","unescape","mimeString","ia","Uint8Array","charCodeAt","Blob","policy","publicUrl","signedObjectName","AWS_ACCESS_KEY","FormData","OS","RNFetchBlob","config","fileCache","session","file","append","dispose","success","executeOnSignedUrl","fileName","extension","substr","toString","signedPutUrl","resJSON","uploadToS3","s3Policy","s3Signature","toS3Advanced","env","_request","getDataFromClient","constructUri","responseOk","rootUrl","apiPath","reduce","paramString","k","encodeURIComponent","MAX_IMAGE_DIMENSION","MAX_FILE_SIZE","loadFile","reader","FileReader","readAsArrayBuffer","getOrientation","arr","finish","binary","buffer","base64ToUint8Array","ExifReader","orientationToTransform","1","rotation","mirror","2","3","4","5","6","7","8","applyOrientationCorrection","canvas","ctx","orientation","deg","radians","PI","translate","rotate","applyRotation","renderToCanvas","getContext","initialScale","scale","viewportWidth","viewportHeight","fillViewport","fitHorizontal","fitVertical","getScale","correctOrientation","jpeg","hasDataURI","save","drawImage","downsample","buf","dataURL","resized","quality","toDataURL","dataUriToBuffer","loadImage","readAsDataURL","tweens","lastT","animationFrame","tween","obj","easing","linear","prop","parseFloat","delay","done","after","fn","tick","dt","update","min","duration","ddt","finished","twn","loop","cancelAnimationFrame","stop","reset","circ_out","circ_in","circ_in_out","quad_in","quad_out","quad_in_out","cubic_bezier","mX1","mY1","mX2","mY2","aX","aT","aA1","aA2","A","B","C","elem","toNumber","num","dec","toFixed","percentChange","totalPercent","relevanceRecord","record","percent","endInterval","endRelevance","last","oldRel","abs","timeInteraval","time","_fixed","fixed","b","toPrecision","newNum","capitalize","charAt","toUpperCase","getTimestamp","date","withoutSuffix","dayjs","fromNow","getMonth","format","getDayMonthYearTimestamp","guid","timeLeft","_date","now","seconds","abr","timeLeftTick","fmtT","extend","relativeTime","maxLength","fromBody","lines","lastIndexOf","trim","commentId","computeShares","stakedTokens","balance","postShares","shares","nexp","getPostType","ConvId","convId","twq","exe","arguments","queue","version","async","insertBefore","cookie","Cookies","local","newToken","isTimecodeExpired","days","isDismissed","dismissed","getTextData","mentions","getMentions","words","word","mention","getTags","getWords","NAME_PATTERN","HTML_REGEX","stripHTML","copyToClipBoard","select","execCommand","childIsString","noEmptyLines","line","firstLine","titleText","isHeading"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t24: 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t24: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({\"0\":\"vendors~activity-activity-container~admin-web-communityAdminForm-component~admin-web-communityAdminL~253ae49b\",\"1\":\"vendors~activity-activity-container~admin-web-flagged-component~admin-web-topPosts-component~auth-we~c9bb0b87\",\"2\":\"vendors~activity-activity-container~admin-web-contractParams-container~admin-web-flagged-component~a~cd170b74\",\"3\":\"vendors~activity-activity-container~admin-web-contractParams-container~admin-web-flagged-component~a~26a127b2\",\"4\":\"vendors~getTokens-web-getTokensModal-container~invites-web-inviteModal-container~navigation-web-with~c117bd6a\",\"5\":\"vendors~admin-web-communityAdminForm-component~auth-web-confirmEmail-component~auth-web-forgot-compo~a2cc8ee7\",\"6\":\"vendors~admin-web-communityAdminForm-component~react-select\",\"7\":\"vendors~admin-web-contractParams-container~navigation-web-withSideNav-component\",\"8\":\"activity-activity-container\",\"9\":\"admin-web-communityAdminForm-component\",\"10\":\"admin-web-communityAdminList-component\",\"11\":\"admin-web-contractParams-container\",\"12\":\"admin-web-downvotes-container\",\"13\":\"admin-web-email-component\",\"14\":\"admin-web-faq-component\",\"15\":\"admin-web-flagged-component\",\"16\":\"admin-web-header-component\",\"17\":\"admin-web-invite-component\",\"18\":\"admin-web-invites-container\",\"19\":\"admin-web-topPosts-component\",\"20\":\"admin-web-topics-container\",\"21\":\"admin-web-waitlist-component\",\"22\":\"animation-downvoteAnimation-component\",\"23\":\"animation-upvoteAnimation-component\",\"25\":\"auth-web-auth-container\",\"26\":\"auth-web-confirmEmail-component\",\"27\":\"auth-web-forgot-component\",\"28\":\"auth-web-handle-component\",\"29\":\"auth-web-login\",\"30\":\"auth-web-profile-form\",\"31\":\"auth-web-resetPassword-component\",\"32\":\"auth-web-signup3Box\",\"33\":\"auth-web-signupSocial\",\"34\":\"community-communityList-container\",\"35\":\"community-communityMembersTitle-component\",\"36\":\"community-web-communityMembers-component\",\"37\":\"createPost-createPost-container\",\"38\":\"createPost-web-createPostModal-header\",\"39\":\"discover-web-discover-container\",\"40\":\"getTokens-web-getTokensModal-container\",\"41\":\"invites-inviteModalTitle-component\",\"42\":\"invites-web-inviteModal-container\",\"43\":\"navigation-web-topnav-component\",\"44\":\"navigation-web-withSideNav-component\",\"45\":\"navigation-web-withTopNav-component\",\"46\":\"post-bet-bet\",\"47\":\"post-web-singlePost-container\",\"48\":\"profile-web-linkMobile\",\"49\":\"profile-web-profile-container\",\"50\":\"profile-web-settingsModal-container\",\"51\":\"react-select\",\"52\":\"setupStatesauce\",\"53\":\"ui-styles-component\",\"54\":\"vendors~admin-web-communityAdminForm-component\",\"56\":\"vendors~auth-web-profile-form\",\"57\":\"vendors~profile-web-linkMobile\",\"58\":\"vendors~setupStatesauce\",\"59\":\"wallet-price-context\",\"60\":\"wallet-web-cashOutModal\",\"61\":\"wallet-web-connectMetamaskModal\",\"62\":\"wallet-web-wallet-container\",\"63\":\"web_about-about-component\"}[chunkId]||chunkId) + \".bundle.js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"8\":1,\"13\":1,\"15\":1,\"17\":1,\"18\":1,\"19\":1,\"21\":1,\"37\":1,\"39\":1,\"47\":1,\"49\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"\" + chunkId + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"__LOADABLE_LOADED_CHUNKS__\"] = window[\"__LOADABLE_LOADED_CHUNKS__\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,55]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.userVotePower=exports.BANNED_USER_HANDLES=exports.BANNED_COMMUNITY_SLUGS=exports.newUserCoins=exports.getRewardForType=exports.MAX_AIRDROP=exports.totalAllowedInvites=exports.TOKEN_DECIMALS=exports.REDDIT_REWARD=exports.CASHOUT_MAX=exports.CASHOUT_LIMIT=exports.EMAIL_REWARD=exports.TWITTER_REWARD=exports.REFERRAL_REWARD=exports.PUBLIC_LINK_REWARD=exports.MINIMUM_RANK=exports.REP_CUTOFF_POSTS=exports.REP_CUTOFF=exports.RELEVANCE_DECAY_POSTS=exports.RELEVANCE_DECAY=exports.POWER_REGEN_INTERVAL=exports.EXPONENT=exports.SLOPE=exports.VOTE_COST_RATIO=exports.PAYOUT_TIME=exports.TWITTER_DECAY=exports.SHARE_DECAY=exports.INIT_COIN=exports.INTERVAL_INFLAITION=exports.YEARLY_INFLATION=exports.PAYOUT_FREQUENCY_FRACTION=exports.PAYOUT_FREQUENCY=exports.DAYS=exports.HOURS=void 0;var HOURS=60*60*1000;exports.HOURS=HOURS;var DAYS=HOURS*24;exports.DAYS=DAYS;var PAYOUT_FREQUENCY=1*HOURS;exports.PAYOUT_FREQUENCY=PAYOUT_FREQUENCY;var PAYOUT_FREQUENCY_FRACTION=1/(365*24);exports.PAYOUT_FREQUENCY_FRACTION=PAYOUT_FREQUENCY_FRACTION;var YEARLY_INFLATION=0.1;exports.YEARLY_INFLATION=YEARLY_INFLATION;var INTERVAL_INFLAITION=Math.pow(1+YEARLY_INFLATION,PAYOUT_FREQUENCY_FRACTION)-1;exports.INTERVAL_INFLAITION=INTERVAL_INFLAITION;var INIT_COIN=1000000;exports.INIT_COIN=INIT_COIN;var SHARE_DECAY=6*DAYS;exports.SHARE_DECAY=SHARE_DECAY;var TWITTER_DECAY=12*HOURS;exports.TWITTER_DECAY=TWITTER_DECAY;var PAYOUT_TIME=3*DAYS;exports.PAYOUT_TIME=PAYOUT_TIME;var VOTE_COST_RATIO=0.1;exports.VOTE_COST_RATIO=VOTE_COST_RATIO;var SLOPE=1/1;exports.SLOPE=SLOPE;var EXPONENT=1;exports.EXPONENT=EXPONENT;var POWER_REGEN_INTERVAL=24*60*60*1000;exports.POWER_REGEN_INTERVAL=POWER_REGEN_INTERVAL;var RELEVANCE_DECAY=90*DAYS;exports.RELEVANCE_DECAY=RELEVANCE_DECAY;var RELEVANCE_DECAY_POSTS=90*DAYS;exports.RELEVANCE_DECAY_POSTS=RELEVANCE_DECAY_POSTS;var REP_CUTOFF=2;exports.REP_CUTOFF=REP_CUTOFF;var REP_CUTOFF_POSTS=90*DAYS;exports.REP_CUTOFF_POSTS=REP_CUTOFF_POSTS;var MINIMUM_RANK=1;exports.MINIMUM_RANK=MINIMUM_RANK;var PUBLIC_LINK_REWARD=5;exports.PUBLIC_LINK_REWARD=PUBLIC_LINK_REWARD;var REFERRAL_REWARD=20;exports.REFERRAL_REWARD=REFERRAL_REWARD;var TWITTER_REWARD=20;exports.TWITTER_REWARD=TWITTER_REWARD;var EMAIL_REWARD=20;exports.EMAIL_REWARD=EMAIL_REWARD;var CASHOUT_LIMIT=0;exports.CASHOUT_LIMIT=CASHOUT_LIMIT;var CASHOUT_MAX=1000;exports.CASHOUT_MAX=CASHOUT_MAX;var REDDIT_REWARD=5;exports.REDDIT_REWARD=REDDIT_REWARD;var TOKEN_DECIMALS=1e18;exports.TOKEN_DECIMALS=TOKEN_DECIMALS;var totalAllowedInvites=function totalAllowedInvites(pagerank){if(pagerank<1)return 0;if(pagerank<3)return 1;if(pagerank<5)return 2;if(pagerank<10)return 3;if(pagerank<20)return 8;if(pagerank<40)return 13;if(pagerank<60)return 23;if(pagerank<80)return 33;return 100;};exports.totalAllowedInvites=totalAllowedInvites;var MAX_AIRDROP=300;exports.MAX_AIRDROP=MAX_AIRDROP;var getRewardForType=function getRewardForType(type){switch(type){case'reddit':return REDDIT_REWARD;case'email':return EMAIL_REWARD;case'twitter':return TWITTER_REWARD;case'referral':return REFERRAL_REWARD;case'referredBy':return REFERRAL_REWARD;case'publicLink':case'publicInvite':return PUBLIC_LINK_REWARD;default:return 0;}};exports.getRewardForType=getRewardForType;var newUserCoins=function newUserCoins(user){var reward=0;if(user.email&&user.confirmed)reward=EMAIL_REWARD;if(user.twitterId)reward=EMAIL_REWARD+TWITTER_REWARD;return reward;};exports.newUserCoins=newUserCoins;var BANNED_COMMUNITY_SLUGS=['admin','user','channel','home','auth','profile','communities','subscriptions','graphql'];exports.BANNED_COMMUNITY_SLUGS=BANNED_COMMUNITY_SLUGS;var BANNED_USER_HANDLES=[].concat(BANNED_COMMUNITY_SLUGS,['everyone','group','all','invite']);exports.BANNED_USER_HANDLES=BANNED_USER_HANDLES;var userVotePower=function userVotePower(pagerank){return Math.round(Math.sqrt(1+pagerank*4));};exports.userVotePower=userVotePower;\n//# sourceMappingURL=globalConstants.js.map","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});var _globalConstants=require(\"./globalConstants\");Object.keys(_globalConstants).forEach(function(key){if(key===\"default\"||key===\"__esModule\")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _globalConstants[key];}});});\n//# sourceMappingURL=index.js.map","export default __webpack_public_path__ + \"public/img/missing.png\";","export default __webpack_public_path__ + \"public/img/r-emoji.png\";","export default __webpack_public_path__ + \"public/img/relevantcoin.png\";","export default __webpack_public_path__ + \"public/img/upvote.png\";","export default __webpack_public_path__ + \"public/img/x.png\";","export const ADD_COMMUNITY = 'ADD_COMMUNITY';\nexport const SET_COMMUNITIES = 'SET_COMMUNITIES';\nexport const UPDATE_COMMUNITY = 'UPDATE_COMMUNITY';\nexport const REMOVE_COMMUNITY = 'REMOVE_COMMUNITY';\nexport const ADD_USER_MEMBERSHIP = 'ADD_USER_MEMBERSHIP';\nexport const SET_USER_MEMBERSHIPS = 'SET_USER_MEMBERSHIPS';\n\n// careful this one sets active community in admin reducer\nexport const SET_COMMUNITY = 'SET_COMMUNITY';\nexport const LOGIN_USER_REQUEST = 'LOGIN_USER_REQUEST';\nexport const LOGIN_USER_FAILURE = 'LOGIN_USER_FAILURE';\nexport const LOGIN_USER_SUCCESS = 'LOGIN_USER_SUCCESS';\nexport const LOGOUT_USER = 'LOGOUT_USER';\nexport const SHOW_LOADER = 'SHOW_LOADER';\nexport const SET_COMMUNITY_MEMBERS = 'SET_COMMUNITY_MEMBERS';\n\nexport const SET_USER_SEARCH = 'SET_USER_SEARCH';\nexport const SET_USER = 'SET_USER';\nexport const SET_USERS = 'SET_USERS';\nexport const SET_CONTACTS = 'SET_CONTACTS';\nexport const SET_USER_INDEX = 'SET_USER_INDEX';\nexport const UPDATE_USER = 'UPDATE_USER';\nexport const UPDATE_AUTH_USER = 'UPDATE_AUTH_USER';\nexport const SET_STATS = 'SET_STATS';\nexport const ADD_STATS = 'ADD_STATS';\nexport const SET_SELECTED_USER_DATA = 'SET_SELECTED_USER_DATA';\nexport const SET_TWITTER = 'SET_TWITTER';\nexport const SET_LOADING = 'SET_LOADING';\n\nexport const SET_ACTIVE_POST = 'SET_ACTIVE_POST';\nexport const SET_RECENT_POSTS = 'SET_RECENT_POSTS';\nexport const OPEN_INVEST = 'OPEN_INVEST';\nexport const CLOSE_INVEST = 'CLOSE_INVEST';\nexport const SET_NOTIF = 'SET_NOTIF';\nexport const SET_FEED = 'SET_FEED';\nexport const SET_POSTS_BY_RANK = 'SET_POSTS_BY_RANK';\nexport const UPDATE_FEED = 'UPDATE_FEED';\nexport const UPDATE_EARNINGS = 'UPDATE_EARNINGS';\nexport const LOADING_POST_INVESTMENTS = 'LOADING_POST_INVESTMENTS';\nexport const LOADING_INVESTMENTS = 'LOADING_INVESTMENTS';\nexport const SET_POST_INVESTMENTS = 'SET_POST_INVESTMENTS';\nexport const UPDATE_POST_INVESTMENTS = 'UPDATE_POST_INVESTMENTS';\nexport const UNDO_POST_INVESTMENT = 'UNDO_POST_INVESTMENT';\nexport const SET_INVESTMENTS = 'SET_INVESTMENTS';\n\nexport const CLEAR_POSTS = 'CLEAR_POSTS';\nexport const UPDATE_POSTS = 'UPDATE_POSTS';\nexport const ADD_POST = 'ADD_POST';\nexport const UPDATE_POST = 'UPDATE_POST';\nexport const SET_POSTS = 'SET_POSTS';\nexport const POST_ERROR = 'POST_ERROR';\nexport const POST_SUCCESS = 'POST_SUCCESS';\nexport const SET_MESSAGES = 'SET_MESSAGES';\nexport const REMOVE_POST = 'REMOVE_POST';\nexport const SET_POSTS_SIMPLE = 'SET_POSTS_SIMPLE';\nexport const UPDATE_POSTS_INVEST = 'UPDATE_POSTS_INVEST';\nexport const UNDO_POSTS_INVEST = 'UNDO_POSTS_INVEST';\nexport const INC_FEED_COUNT = 'INC_FEED_COUNT';\nexport const SET_FEED_COUNT = 'SET_FEED_COUNT';\nexport const SET_TOP_POSTS = 'SET_TOP_POSTS';\nexport const SET_RELATED = 'SET_RELATED';\nexport const SET_USER_POSTS = 'SET_USER_POSTS';\n\nexport const SET_SUBSCRIPTIONS = 'SET_SUBSCRIPTIONS';\n\nexport const DESELECT_TAG = 'DESELECT_TAG';\nexport const SELECT_TAG = 'SELECT_TAG';\nexport const SET_PARENT_TAGS = 'SET_PARENT_TAGS';\nexport const SET_DISCOVER_TAGS = 'SET_DISCOVER_TAGS';\nexport const UPDATE_PARENT_TAG = 'UPDATE_PARENT_TAG';\n\nexport const SET_ACTIVITY = 'SET_ACTIVITY';\nexport const SET_COUNT = 'SET_COUNT';\nexport const ADD_UNREAD_ACTIVITIES = 'ADD_UNREAD_ACTIVITIES';\n\nexport const SET_ANIMATION = 'SET_ANIMATION';\nexport const CLEAR_ANIMATION = 'CLEAR_ANIMATION';\n\nexport const ADD_COMMENT = 'ADD_COMMENT';\nexport const ARCHIVE_COMMENTS = 'ARCHIVE_COMMENTS';\nexport const REMOVE_COMMENT = 'REMOVE_COMMENT';\nexport const SET_COMMENTS = 'SET_COMMENTS';\n\nexport const SET_GENERAL_ACTIVITY = 'SET_GENERAL_ACTIVITY';\nexport const ADD_GENERAL_ACTIVITY = 'ADD_GENERAL_ACTIVITY';\nexport const SET_AUTH_STATUS_TEXT = 'SET_AUTH_STATUS_TEXT';\nexport const GET_POSTS = 'GET_POSTS';\nexport const REFRESH_POSTS = 'REFRESH_POSTS';\n\nexport const SET_CREATE_POST_STATE = 'SET_CREATE_POST_STATE';\nexport const SET_POST_CATEGORY = 'SET_POST_CATEGORY';\nexport const CLEAR_CREATE_POST = 'CLEAR_CREATE_POST';\nexport const SET_TOPIC_POSTS = 'SET_TOPIC_POSTS';\n\nexport const REFRESH_ROUTE = 'REFRESH_ROUTE';\nexport const RELOAD_ROUTE = 'RELOAD_ROUTE';\nexport const RELOAD_ALL_TABS = 'RELOAD_ALL_TABS';\nexport const SHOW_TOOLTIP = 'SHOW_TOOLTIP';\nexport const TOOLTIP_READY = 'TOOLTIP_READY';\nexport const SET_TOOLTIP_DATA = 'SET_TOOLTIP_DATA';\nexport const TOGGLE_TOPICS = 'TOGGLE_TOPICS';\nexport const SCROLL = 'SCROLL';\nexport const SET_ONBOARDING_STEP = 'SET_ONBOARDING_STEP';\nexport const SET_BUTTON_TOOLTIP = 'SET_BUTTON_TOOLTIP';\nexport const REGISTER_GESTURE = 'REGISTER_GESTURE';\n\nexport const SET_INVITE_COUNT = 'SET_INVITE_COUNT';\nexport const SET_INVITES = 'SET_INVITES';\nexport const UPDATE_INVITE = 'UPDATE_INVITE';\nexport const DESTROY_INVITE = 'DESTROY_INVITE';\nexport const SET_WAITLIST = 'SET_WAITLIST';\nexport const SET_DOWNVOTES = 'SET_DOWNVOTES';\nexport const DELETE_WAITLIST_USER = 'DELETE_WAITLIST_USER';\nexport const SET_INVITE_CODE = 'SET_INVITE_CODE';\n\nexport const SET_ERROR = 'SET_ERROR';\n\nexport const SET_EARNINGS = 'SET_EARNINGS';\nexport const ADD_EARNING = 'ADD_EARNING';\nexport const UPDATE_EARNING = 'UPDATE_EARNING';\nexport const REMOVE_EARNING = 'REMOVE_EARNING';\n\nexport const CASH_OUT = {\n  REQUEST: 'CASH_OUT_REQUEST',\n  SUCCESS: 'CASH_OUT_SUCCESS',\n  FAILURE: 'CASH_OUT_FAILURE'\n};\n\nexport const CONNECT_ACCOUNT = {\n  REQUEST: 'CONNECT_ACCOUNT_REQUEST',\n  SUCCESS: 'CONNECT_ACCOUNT_SUCCESS',\n  FAILURE: 'CONNECT_ACCOUNT_FAILURE'\n};\n\nexport const SHOW_MODAL = 'SHOW_MODAL';\nexport const HIDE_MODAL = 'HIDE_MODAL';\n\nexport const SHOW_BANNER_PROMPT = 'SHOW_BANNER_PROMPT';\nexport const HIDE_BANNER_PROMPT = 'HIDE_BANNER_PROMPT';\n\nexport const SET_SCROLL_TAB = 'SET_SCROLL_TAB';\nexport const OPEN_WEB_SIDE_NAV = 'OPEN_WEB_SIDE_NAV';\nexport const CLOSE_WEB_SIDE_NAV = 'CLOSE_WEB_SIDE_NAV';\nexport const LOCK_DRAWER = 'LOCK_DRAWER';\nexport const SET_WIDTH = 'SET_WIDTH';\n","import * as types from 'core/actionTypes';\n\nconst initialState = {\n  personal: [],\n  count: 0,\n  loaded: false,\n  general: [],\n  promptType: null,\n  promptProps: {}\n};\n\nexport default function notifications(state = initialState, action) {\n  switch (action.type) {\n    case types.SET_ACTIVITY: {\n      const { type } = action.payload;\n      return {\n        ...state,\n        [type]: [...state[type].slice(0, action.payload.index), ...action.payload.data],\n        loaded: true\n      };\n    }\n\n    case types.SET_COUNT: {\n      return {\n        ...state,\n        count: action.payload\n      };\n    }\n\n    case 'CLEAR_COUNT': {\n      return {\n        ...state,\n        count: 0\n      };\n    }\n\n    case 'ADD_ACTIVITY': {\n      return {\n        ...state,\n        count: state.count + 1\n      };\n    }\n\n    case types.LOGOUT_USER: {\n      return { ...initialState };\n    }\n\n    case types.SHOW_BANNER_PROMPT: {\n      return {\n        ...state,\n        promptType: action.payload.promptType,\n        promptProps: action.payload.promptProps\n      };\n    }\n\n    case types.HIDE_BANNER_PROMPT: {\n      return {\n        ...state,\n        promptType: null,\n        promptProps: {}\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n","import * as types from 'core/actionTypes';\n\nconst initialState = {};\n\nexport default function auth(state = initialState, action) {\n  switch (action.type) {\n    case types.SET_ANIMATION: {\n      const { type } = action.payload;\n      const index = state[type] ? state[type].index + 1 : 0;\n      return {\n        ...state,\n        currentType: type,\n        [type]: {\n          index,\n          ...action.payload.data\n        }\n      };\n    }\n    default:\n      return state;\n  }\n}\n","import * as types from 'core/actionTypes';\n\nconst initialState = {\n  token: null,\n  isAuthenticated: false,\n  isAuthenticating: false,\n  statusText: null,\n  user: null,\n  deviceToken: null,\n  preUser: null,\n  confirmed: false,\n  stats: null,\n  nextUpdate: new Date(),\n  chart: [],\n  relChart: [],\n  twitter: null,\n  currentInvite: null,\n  loading: false,\n  community: null,\n  invitecode: null\n};\n\nexport default function auth(state = initialState, action) {\n  switch (action.type) {\n    case types.SET_INVITE_CODE: {\n      return {\n        ...state,\n        invitecode: action.payload\n      };\n    }\n\n    case types.SET_LOADING: {\n      return {\n        ...state,\n        loading: action.payload\n      };\n    }\n\n    case types.SET_TWITTER: {\n      return {\n        ...state,\n        twitter: action.payload\n      };\n    }\n\n    case types.SET_STATS: {\n      return {\n        ...state,\n        stats: action.payload.stats || state.stats,\n        nextUpdate: action.payload.nextUpdate || state.nextUpdate,\n        chart: action.payload.chart || state.chart,\n        relChart: action.payload.relChart || state.relChart\n      };\n    }\n\n    case types.LOGIN_USER_REQUEST:\n      return Object.assign({}, state, {\n        isAuthenticating: true,\n        statusText: null\n      });\n\n    case 'SET_PRE_USER':\n      return {\n        ...state,\n        preUser: action.payload\n      };\n\n    case types.LOGIN_USER_SUCCESS:\n      return Object.assign({}, state, {\n        isAuthenticating: false,\n        isAuthenticated: true,\n        token: action.payload.token,\n        statusText: 'You have been successfully logged in.'\n      });\n\n    case types.LOGIN_USER_FAILURE:\n      return Object.assign({}, state, {\n        isAuthenticating: false,\n        isAuthenticated: false,\n        user: null\n      });\n\n    case 'SET_AUTH_STATUS_TEXT':\n      return {\n        ...state,\n        statusText: action.payload\n      };\n\n    case types.SET_SELECTED_USER_DATA: {\n      if (!state.user || state.user._id !== action.payload._id) return state;\n      return {\n        ...state,\n        user: action.payload\n      };\n    }\n\n    case types.SET_USER:\n      return {\n        ...state,\n        isAuthenticating: false,\n        isAuthenticated: !!action.payload || false,\n        user: action.payload,\n        preUser: null\n      };\n\n    case types.UPDATE_USER:\n    case types.UPDATE_AUTH_USER: {\n      const id = action.payload._id;\n      if (state.user && id !== state.user._id) return state;\n      let { relevance } = action.payload;\n      if ((!relevance || relevance.pagerank === undefined) && state.user) {\n        relevance = state.user.relevance;\n      }\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          ...action.payload,\n          relevance\n        }\n      };\n    }\n\n    case 'SET_DEVICE_TOKEN':\n      return {\n        ...state,\n        deviceToken: action.payload\n      };\n\n    case types.SET_CONTACTS:\n      return {\n        ...state,\n        contacts: action.payload\n      };\n\n    case types.LOGOUT_USER: {\n      return { ...initialState, community: state.community };\n    }\n\n    case types.UPDATE_INVITE: {\n      if (action.payload === null) {\n        return {\n          ...state,\n          currentInvite: null\n        };\n      }\n      return {\n        ...state,\n        currentInvite: action.payload\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n","import * as types from 'core/actionTypes';\n\nconst initialState = {\n  inviteList: {},\n  invites: {},\n  waitList: [],\n  wait: {},\n  currentInvite: null,\n  downvotes: [],\n  count: {}\n};\n\nexport default function admin(state = initialState, action) {\n  switch (action.type) {\n    case types.DESTROY_INVITE: {\n      const invites = { ...state.invites };\n      delete invites[action.payload._id];\n      return {\n        ...state,\n        invites\n      };\n    }\n\n    case types.SET_INVITE_COUNT: {\n      return {\n        ...state,\n        count: {\n          ...state.count,\n          ...action.payload\n        }\n      };\n    }\n\n    case types.DELETE_WAITLIST_USER: {\n      const users = {};\n      action.payload.forEach(u => (users[u._id] = null));\n      const waitList = state.waitList.filter(u => users[u] !== null);\n      return {\n        ...state,\n        wait: {\n          ...state.wait,\n          ...users\n        },\n        waitList\n      };\n    }\n\n    case types.SET_WAITLIST: {\n      return {\n        ...state,\n        waitList: [...action.payload.result.wait, ...state.waitList],\n        wait: {\n          ...state.wait,\n          ...action.payload.entities.wait\n        }\n      };\n    }\n\n    case types.SET_INVITES: {\n      const { community, data, skip } = action.payload;\n      return {\n        ...state,\n        inviteList: {\n          ...state.inviteList,\n          [community]: [\n            ...(state.inviteList[community] || []).slice(0, skip),\n            ...data.result.invites\n          ]\n        },\n        invites: {\n          ...state.invites,\n          ...data.entities.invites\n        }\n      };\n    }\n\n    case types.UPDATE_INVITE: {\n      const { community, _id } = action.payload;\n      if (action.payload === null) {\n        return {\n          ...state,\n          currentInvite: null\n        };\n      }\n      return {\n        ...state,\n        currentInvite: action.payload,\n        inviteList: {\n          ...state.inviteList,\n          [community]: [...new Set([_id, ...(state.inviteList[community] || [])])]\n        },\n        invites: {\n          ...state.invites,\n          [action.payload._id]: {\n            ...state.invites[action.payload._id],\n            ...action.payload\n          }\n        }\n      };\n    }\n\n    case types.SET_DOWNVOTES: {\n      return {\n        ...state,\n        downvotes: [...state.downvotes, ...action.payload]\n      };\n    }\n\n    case types.LOGOUT_USER: {\n      return { ...initialState };\n    }\n\n    default:\n      return state;\n  }\n}\n","import { normalize, schema } from 'normalizr';\nimport * as types from 'core/actionTypes';\nimport { unique } from 'utils/list';\n\nconst CommunitySchema = new schema.Entity('communities', {}, { idAttribute: 'slug' });\nconst MemberSchema = new schema.Entity('members', {}, { idAttribute: '_id' });\n\nconst initialState = {\n  communities: {},\n  list: [],\n  active: null,\n  members: {},\n  communityMembers: {},\n  userMemberships: [],\n  userCommunities: [],\n  slugToId: {}\n};\n\nexport default function community(state = initialState, action) {\n  switch (action.type) {\n    case types.SET_COMMUNITIES: {\n      const normalized = normalize(action.payload, [CommunitySchema]);\n      const slugToId = {};\n      normalized.result.forEach(cId => {\n        const c = normalized.entities.communities[cId];\n        slugToId[c.slug] = c._id;\n      });\n      return {\n        ...state,\n        communities: {\n          ...state.communities,\n          ...normalized.entities.communities\n        },\n        list: [...new Set([...state.list, ...normalized.result])],\n        slugToId: {\n          ...state.slugToId,\n          ...slugToId\n        }\n      };\n    }\n\n    case types.SET_USER_MEMBERSHIPS: {\n      return {\n        ...state,\n        userMemberships: action.payload,\n        userCommunities: action.payload.map(m => m.communityId)\n      };\n    }\n\n    case types.ADD_USER_MEMBERSHIP: {\n      return {\n        ...state,\n        userMemberships: [...state.userMemberships, action.payload],\n        userCommunities: [...state.userCommunities, action.payload.communityId]\n      };\n    }\n\n    case types.SET_COMMUNITY: {\n      return {\n        ...state,\n        active: action.payload\n      };\n    }\n\n    case types.REMOVE_COMMUNITY: {\n      const updatedCommunities = { ...state.communities };\n      delete updatedCommunities[action.payload];\n      delete updatedCommunities[action.payload];\n      return {\n        ...state,\n        communities: {\n          ...updatedCommunities\n        }\n      };\n    }\n\n    case types.SET_COMMUNITY_MEMBERS: {\n      const { members, slug } = action.payload;\n      const data = normalize(members, [MemberSchema]);\n      const existingCommunityMembers = state.communityMembers[slug] || [];\n      return {\n        ...state,\n        communityMembers: {\n          ...state.communityMembers,\n          [slug]: unique([...existingCommunityMembers, ...data.result])\n        },\n        members: {\n          ...state.members,\n          ...data.entities.members\n        }\n      };\n    }\n\n    case types.ADD_COMMUNITY: {\n      return {\n        ...state,\n        communities: {\n          ...state.communities,\n          [action.payload.slug]: action.payload\n        },\n        list: [...new Set([...state.list, action.payload.slug])]\n      };\n    }\n\n    case types.UPDATE_COMMUNITY: {\n      return {\n        ...state,\n        communities: {\n          ...state.communities,\n          [action.payload.slug]: action.payload\n        }\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n","import * as types from 'core/actionTypes';\n\nconst initialState = {\n  urlPreview: null,\n  domain: null,\n  postBody: '',\n  postUrl: null,\n  postCategory: null,\n  bodyTags: [],\n  bodyMentions: [],\n  allTags: [],\n  postTags: [],\n  postImage: null,\n  nativeImage: false,\n  repost: null,\n  repostBody: null,\n  edit: false,\n  postId: null,\n  editPost: null,\n  keywords: [],\n  createPreview: {},\n  selectedTags: [],\n  disableUrl: false\n};\n\nexport default function createPost(state = initialState, action) {\n  switch (action.type) {\n    case types.SET_CREATE_POST_STATE: {\n      return {\n        ...state,\n        ...action.payload\n      };\n    }\n\n    case types.SET_POST_CATEGORY: {\n      return {\n        ...state,\n        postCategory: action.payload\n      };\n    }\n\n    case types.CLEAR_CREATE_POST: {\n      return { ...initialState };\n    }\n\n    case types.LOGOUT_USER: {\n      return { ...initialState };\n    }\n\n    default:\n      return state;\n  }\n}\n","import { normalize, schema } from 'normalizr';\nimport * as types from 'core/actionTypes';\nimport get from 'lodash/get';\n\nconst repostSchema = new schema.Entity(\n  'posts',\n  // { comments: [commentSchema], user: userSchema },\n  { idAttribute: '_id' }\n);\n\nconst linkSchema = new schema.Entity('links', {}, { idAttribute: '_id' });\n\nconst postSchema = new schema.Entity(\n  'posts',\n  {\n    repost: { post: repostSchema },\n    metaPost: linkSchema\n  },\n  { idAttribute: '_id' }\n);\n\nconst initialState = {\n  postError: null,\n  feedUnread: null,\n  feed: [],\n  twitterFeed: [],\n  // store top & bottom arrays here for feed render\n  top: [],\n  new: [],\n  flagged: [],\n  loading: true,\n  loaded: {\n    feed: false,\n    top: false,\n    new: false,\n    twitterFeed: false,\n    userPosts: false,\n    topics: {}\n  },\n  newFeedAvailable: false,\n  newPostsAvailable: {},\n  userPosts: {},\n  topics: {\n    new: {},\n    top: {},\n    all: {}\n  },\n  posts: {},\n  topPosts: [],\n  related: {},\n  links: {}\n};\n\nfunction mergePosts(posts, state) {\n  const mPosts = {};\n  if (!posts) return mPosts;\n  Object.keys(posts).forEach(id => {\n    // need to do this so reposted = null doesen't over-write existing value\n    let { reposted } = posts[id];\n    if (!reposted) reposted = state.posts[id] ? state.posts[id].reposted : undefined;\n    const postData =\n      (posts[id] && posts[id].data) || (state.posts[id] && state.posts[id].data);\n    mPosts[id] = {\n      ...state.posts[id],\n      ...posts[id],\n      reposted,\n      postData\n    };\n  });\n  return mPosts;\n}\n\nexport default function post(state = initialState, action) {\n  switch (action.type) {\n    case types.SET_RELATED: {\n      return {\n        ...state,\n        related: {\n          ...state.related,\n          [action.payload.postId]: action.payload.related\n        }\n      };\n    }\n\n    case types.SET_TOP_POSTS: {\n      return {\n        ...state,\n        topPosts: action.payload\n      };\n    }\n\n    case types.INC_FEED_COUNT: {\n      const unread = state.feedUnread || 0;\n      return {\n        ...state,\n        feedUnread: unread + 1\n      };\n    }\n\n    case types.SET_FEED_COUNT: {\n      return {\n        ...state,\n        feedUnread: action.payload\n      };\n    }\n\n    case types.SET_POSTS_SIMPLE: {\n      const posts = mergePosts(action.payload.data.entities.posts, state);\n      return {\n        ...state,\n        posts: { ...state.posts, ...posts },\n        links: {\n          ...state.links,\n          ...action.payload.data.entities.links\n        }\n      };\n    }\n\n    case types.SET_TOPIC_POSTS: {\n      const { type, topic, index } = action.payload;\n      const posts = mergePosts(action.payload.data.entities.posts, state);\n      if (!state.topics[type][topic]) state.topics[type][topic] = [];\n      return {\n        ...state,\n        topics: {\n          ...state.topics,\n          [type]: {\n            ...state.topics[type],\n            [topic]: [\n              ...state.topics[type][topic].slice(0, index),\n              ...action.payload.data.result[type]\n            ]\n          }\n        },\n        posts: { ...state.posts, ...posts },\n        loaded: {\n          ...state.loaded,\n          [type]: true,\n          topics: {\n            ...state.loaded.topics,\n            [topic]: {\n              ...state.loaded.topics[topic],\n              [type]: true\n            }\n          }\n        },\n        links: {\n          ...state.links,\n          ...action.payload.data.entities.links\n        }\n      };\n    }\n\n    case types.SET_POSTS: {\n      const { type } = action.payload;\n      const posts = mergePosts(action.payload.data.entities.posts, state);\n      return {\n        ...state,\n        [type]: [\n          ...state[type].slice(0, action.payload.index),\n          ...action.payload.data.result[type]\n        ],\n        posts: { ...state.posts, ...posts },\n        loaded: {\n          ...state.loaded,\n          [type]: true\n        },\n        links: {\n          ...state.links,\n          ...action.payload.data.entities.links\n        },\n        newPostsAvailable: {}\n      };\n    }\n\n    case types.GET_POSTS: {\n      return {\n        ...state,\n        loaded: {\n          ...state.loaded,\n          [action.payload]: false\n        }\n      };\n    }\n\n    case types.UPDATE_POST: {\n      const id = action.payload._id;\n      const data = normalize(action.payload, postSchema);\n      const updatePost = data.entities.posts[id];\n\n      // need to do this so reposted = null doesen't over-write existing value\n      let { reposted } = action.payload;\n      if (!reposted) reposted = state.posts[id] ? state.posts[id].reposted : undefined;\n      const postData = updatePost.data || get(state.posts[id], 'data');\n      let embeddedUser = state.posts[id] ? state.posts[id].embeddedUser : null;\n      // TODO normalize this — should keep this in users store\n      if (\n        updatePost.embeddedUser &&\n        updatePost.embeddedUser.relevance &&\n        updatePost.embeddedUser.relevance.pagerank !== undefined\n      ) {\n        embeddedUser = updatePost.embeddedUser;\n      }\n\n      return {\n        ...state,\n        links: {\n          ...state.links,\n          ...data.entities.links\n        },\n        posts: {\n          ...state.posts,\n          [id]: {\n            ...state.posts[id],\n            ...updatePost,\n            reposted,\n            data: postData,\n            embeddedUser\n          }\n        }\n      };\n    }\n\n    case types.REMOVE_POST: {\n      const id = action.payload._id || action.payload;\n      const newPosts = { ...state.posts };\n      delete newPosts[id];\n      return {\n        ...state,\n        posts: {\n          ...state.posts,\n          [id]: null\n        }\n      };\n    }\n\n    case 'SET_USER_POSTS': {\n      const { id } = action.payload;\n      const currentPosts = state.userPosts[id] || [];\n      const posts = mergePosts(action.payload.data.entities.posts, state);\n      return {\n        ...state,\n        userPosts: {\n          ...state.userPosts,\n          [id]: [\n            ...currentPosts.slice(0, action.payload.index),\n            ...action.payload.data.result[id]\n          ]\n        },\n        links: {\n          ...state.links,\n          ...action.payload.data.entities.links\n        },\n        posts: { ...state.posts, ...posts },\n        loaded: {\n          ...state.loaded,\n          userPosts: true\n        }\n      };\n    }\n\n    case 'LOADING_USER_POSTS': {\n      return {\n        ...state,\n        loaded: {\n          ...state.loaded,\n          userPosts: false\n        }\n      };\n    }\n\n    case types.CLEAR_POSTS: {\n      const { type } = action.payload;\n      return { ...state, [type]: [] };\n    }\n\n    case 'SET_NEW_POSTS_STATUS': {\n      return {\n        ...state,\n        newPostsAvailable: {\n          ...state.newPostsAvailable,\n          [action.payload.community]:\n            state.newPostsAvailable[action.payload.community] || 0 + 1\n        }\n      };\n    }\n\n    case types.POST_ERROR: {\n      return { ...state, postError: action.payload };\n    }\n\n    case types.SET_DISCOVER_TAGS: {\n      return { ...state, discoverTags: action.payload };\n    }\n\n    case 'SET_SELECTED_POST': {\n      return { ...state, selectedPostId: action.payload };\n    }\n\n    case 'SET_SELECTED_POST_DATA': {\n      const id = action.payload._id;\n      let { reposted } = action.payload;\n      if (!reposted) reposted = state.posts[id] ? state.posts[id].reposted : undefined;\n      return {\n        ...state,\n        posts: {\n          ...state.posts,\n          [id]: {\n            ...state.posts[id],\n            ...action.payload,\n            reposted\n          }\n        }\n      };\n    }\n\n    case 'CLEAR_SELECTED_POST': {\n      return {\n        ...state, // selectedPostData: null,\n        selectedPostId: null\n      };\n    }\n\n    case 'SET_NEW_FEED_STATUS': {\n      return { ...state, newFeedAvailable: action.payload };\n    }\n\n    case 'CLEAR_USER_POSTS': {\n      return { ...state, userPosts: {} };\n    }\n\n    // we store comments in post state\n    case types.SET_COMMENTS: {\n      return {\n        ...state,\n        posts: {\n          ...state.posts,\n          ...action.payload.comments\n        }\n      };\n    }\n\n    case types.ADD_COMMENT: {\n      return {\n        ...state,\n        posts: {\n          ...state.posts,\n          [action.payload.comment._id]: action.payload.comment\n        }\n      };\n    }\n\n    case types.UNDO_POST_INVESTMENT: {\n      const postId = action.payload;\n      return {\n        ...state,\n        posts: {\n          ...state.posts,\n          [postId]: {\n            ...state.posts[postId],\n            myVote: null\n          }\n        }\n      };\n    }\n\n    case types.UPDATE_POST_INVESTMENTS: {\n      if (!action.payload) return state;\n      const postId = action.payload.post;\n      return {\n        ...state,\n        posts: {\n          ...state.posts,\n          [postId]: {\n            ...state.posts[postId],\n            myVote: action.payload\n          }\n        }\n      };\n    }\n\n    // this wipes feed on login\n    // case types.LOGIN_USER_SUCCESS: {\n    //   return { ...initialState };\n    // }\n\n    // this wipes feed on logout\n    // case types.LOGOUT_USER: {\n    //   return { ...initialState };\n    // }\n\n    default:\n      return state;\n  }\n}\n","import * as types from 'core/actionTypes';\n\nconst initialState = {\n  error: false,\n  users: {},\n  handleToId: {},\n  list: [],\n  listByTopic: {},\n  online: [],\n  loading: false,\n  garbage: [],\n  search: []\n};\n\nexport default function auth(state = initialState, action) {\n  switch (action.type) {\n    case types.SET_USER_SEARCH: {\n      return {\n        ...state,\n        search: action.payload.length ? action.payload : initialState.search\n      };\n    }\n\n    case types.SET_USERS: {\n      const users = {};\n      const handleToId = {};\n      if (!action.payload) return state;\n      Object.keys(action.payload).forEach(id => {\n        handleToId[action.payload[id].handle] = id;\n        users[id] = { ...state.users[id], ...action.payload[id] };\n      });\n      return {\n        ...state,\n        handleToId: {\n          ...state.handleToId,\n          ...handleToId\n        },\n        users: {\n          ...state.users,\n          ...users\n        }\n      };\n    }\n\n    case 'SET_SELECTED_USER_DATA': {\n      return {\n        ...state,\n        handleToId: {\n          ...state.handleToId,\n          [action.payload.handle]: action.payload._id\n        },\n        users: {\n          ...state.users,\n          [action.payload._id]: {\n            ...state.users[action.payload._id],\n            ...action.payload\n          }\n        }\n      };\n    }\n\n    case 'GET_USER_LIST': {\n      return Object.assign({}, state, {\n        loading: true\n      });\n    }\n\n    case 'SET_USER_LIST': {\n      const topic = action.payload.topic || 'all';\n      const currentList = state.list[topic] || [];\n      return {\n        ...state,\n        list: {\n          ...state.list,\n          [topic]: [\n            ...currentList.slice(0, action.payload.index),\n            ...action.payload.users\n          ]\n        },\n        loading: false\n      };\n    }\n\n    case types.UPDATE_USER: {\n      const id = action.payload._id;\n      // prevents legacy relevance field overwrites\n      // TODO should normalize this and store separately\n      let { relevance } = action.payload;\n      if ((!relevance || relevance.pagerank === undefined) && state.users[id]) {\n        relevance = state.users[id].relevance;\n      }\n      return {\n        ...state,\n        handleToId: {\n          ...state.handleToId,\n          [action.payload.handle]: action.payload._id\n        },\n        users: {\n          ...state.users,\n          [action.payload._id]: {\n            ...state.users[action.payload._id],\n            ...action.payload,\n            relevance\n          }\n        }\n      };\n    }\n\n    case 'CLEAR_USER_LIST': {\n      return Object.assign({}, state, {\n        list: []\n      });\n    }\n\n    // case types.LOGOUT_USER: {\n    //   return { ...initialState };\n    // }\n\n    default:\n      return state;\n  }\n}\n","import * as types from 'core/actionTypes';\n\nconst initialState = {\n  userInvestments: {},\n  investments: {},\n  myInvestments: [],\n  myEarnings: {},\n  posts: {},\n  loaded: {},\n  loadedProfileInv: false,\n  voteSuccess: null\n};\n\nexport default function investments(state = initialState, action) {\n  switch (action.type) {\n    case types.UPDATE_POST_INVESTMENTS: {\n      return {\n        ...state,\n        voteSuccess: action.payload\n      };\n    }\n\n    case types.LOADING_POST_INVESTMENTS: {\n      return {\n        ...state,\n        loaded: {\n          ...state.loaded,\n          [action.payload]: false\n        }\n      };\n    }\n\n    case types.SET_POST_INVESTMENTS: {\n      const post = state.posts[action.payload.postId] || [];\n      return {\n        ...state,\n        posts: {\n          ...state.posts,\n          [action.payload.postId]: [\n            ...post.slice(0, action.payload.index),\n            ...action.payload.data.result.investments\n          ]\n        },\n        loaded: {\n          ...state.loaded,\n          [action.payload.postId]: true\n        },\n        investments: {\n          ...state.investments,\n          ...action.payload.data.entities.investments\n        }\n      };\n    }\n\n    case types.UPDATE_EARNINGS: {\n      const earnings = {};\n      action.payload.forEach(earning => {\n        earnings[earning.post] = earning;\n      });\n      return {\n        ...state,\n        myEarnings: {\n          ...state.myEarnings,\n          ...earnings\n        }\n      };\n    }\n\n    case 'SET_INVESTMENTS': {\n      const id = action.payload.userId;\n      const currentInvestments = state.userInvestments[id] || [];\n      return {\n        ...state,\n        userInvestments: {\n          ...state.userInvestments,\n          [id]: [\n            ...currentInvestments.slice(0, action.payload.index),\n            ...action.payload.investments.result.investments\n          ]\n        },\n        investments: {\n          ...state.investments,\n          ...action.payload.investments.entities.investments\n        },\n        loadedProfileInv: true\n      };\n    }\n\n    case 'LOADING_INVESTMENTS': {\n      return {\n        ...state,\n        loadedProfileInv: false\n      };\n    }\n\n    case types.LOGOUT_USER: {\n      return { ...initialState };\n    }\n\n    default:\n      return state;\n  }\n}\n","import * as types from 'core/actionTypes';\n\nconst initialState = {\n  childComments: {}\n};\n\n// NOTE: comment objects are stored in posts state\nexport default function comments(state = initialState, action) {\n  switch (action.type) {\n    case types.SET_COMMENTS: {\n      return {\n        ...state,\n        childComments: {\n          ...state.childComments,\n          ...action.payload.childComments\n        }\n      };\n    }\n\n    case types.ADD_COMMENT: {\n      const newState = {\n        ...state,\n        childComments: {\n          ...state.childComments,\n          [action.payload.parentId]: [\n            ...(state.childComments[action.payload.parentId] || []),\n            action.payload.comment._id\n          ]\n        }\n      };\n      return newState;\n    }\n\n    default:\n      return state;\n  }\n}\n","import * as types from 'core/actionTypes';\n\nconst initialState = {\n  tags: [],\n  selectedTags: [],\n  parentTags: []\n};\n\nexport default function tags(state = initialState, action) {\n  switch (action.type) {\n    case types.SET_DISCOVER_TAGS: {\n      return Object.assign({}, state, {\n        tags: action.payload\n      });\n    }\n\n    case types.SELECT_TAG: {\n      const index = state.selectedTags.findIndex(tag => action.payload._id === tag._id);\n      if (index > -1) return state;\n      return {\n        ...state,\n        selectedTags: [...state.selectedTags, action.payload]\n      };\n    }\n\n    case types.DESELECT_TAG: {\n      const index = state.selectedTags.findIndex(tag => action.payload._id === tag._id);\n      return {\n        ...state,\n        selectedTags: [\n          ...state.selectedTags.slice(0, index),\n          ...state.selectedTags.slice(index + 1)\n        ]\n      };\n    }\n\n    case types.UPDATE_PARENT_TAG: {\n      const index = state.parentTags.findIndex(tag => tag._id === action.payload._id);\n      return {\n        ...state,\n        parentTags: [\n          ...state.parentTags.slice(0, index),\n          action.payload,\n          ...state.parentTags.slice(index + 1)\n        ]\n      };\n    }\n\n    case types.SET_PARENT_TAGS: {\n      return {\n        ...state,\n        parentTags: [...action.payload, ...state.parentTags]\n      };\n    }\n\n    case types.LOGOUT_USER: {\n      return { ...initialState };\n    }\n\n    default:\n      return state;\n  }\n}\n","import * as types from 'core/actionTypes';\n\nconst initialState = {};\n\nexport default function post(state = initialState, action) {\n  switch (action.type) {\n    case 'ADD_STATS': {\n      return Object.assign({}, state, {\n        [action.payload.user]: action.payload.data\n      });\n    }\n\n    case 'SET_STATS': {\n      state = action.payload;\n      return state;\n    }\n\n    case types.LOGOUT_USER: {\n      return { ...initialState };\n    }\n\n    default:\n      return state;\n  }\n}\n","import * as types from 'core/actionTypes';\n\nconst initialState = {\n  vertical: null,\n  horizontal: null,\n  horizontalOffset: 0,\n  verticalOffset: 0,\n  text: '',\n  parent: {},\n  next: null,\n  data: {},\n  showing: {},\n  onboarding: ['vote', 'relevance', 'coin', 'shareTip'],\n  current: null,\n  ready: false,\n  buttonId: {}\n};\n\nexport default function tooltip(state = initialState, action) {\n  switch (action.type) {\n    case types.SET_BUTTON_TOOLTIP: {\n      return {\n        ...state,\n        buttonId: {\n          ...state.buttonId,\n          [action.payload.type]: action.payload.id\n        }\n      };\n    }\n\n    case types.TOOLTIP_READY: {\n      return {\n        ...state,\n        ready: action.payload\n      };\n    }\n\n    case types.SET_ONBOARDING_STEP: {\n      return {\n        ...state,\n        current: action.payload\n      };\n    }\n\n    case types.SET_TOOLTIP_DATA: {\n      return {\n        ...state,\n        data: {\n          ...state.data,\n          [action.payload.name]: {\n            ...state.data[action.payload.name],\n            ...action.payload\n          }\n        }\n      };\n    }\n\n    case types.SHOW_TOOLTIP: {\n      if (action.payload) {\n        return {\n          ...state,\n          showing: {\n            ...state.data[action.payload]\n          }\n        };\n      }\n      return { ...initialState, data: state.data };\n    }\n\n    case types.LOGOUT_USER: {\n      return { ...initialState };\n    }\n\n    default:\n      return state;\n  }\n}\n","import * as types from 'core/actionTypes';\n\nconst initialState = {\n  universal: false,\n  discover: false,\n  read: false,\n  profile: false,\n  activity: false,\n  singlepost: false,\n  comments: false,\n  stats: false\n};\n\nexport default function auth(state = initialState, action) {\n  switch (action.type) {\n    case 'SET_ERROR': {\n      return {\n        ...state,\n        [action.payload.type]: action.payload.bool\n      };\n    }\n\n    case types.LOGOUT_USER: {\n      return { ...initialState };\n    }\n\n    default:\n      return state;\n  }\n}\n","import * as types from 'core/actionTypes';\nimport remove from 'lodash/fp/remove';\n\nconst initialState = {\n  list: [],\n  entities: {},\n  pending: []\n};\n\nexport default function earnings(state = initialState, action) {\n  switch (action.type) {\n    case types.SET_EARNINGS: {\n      return {\n        ...state,\n        [action.payload.status || 'list']: [\n          ...state[action.payload.status || 'list'].slice(0, action.payload.skip),\n          ...action.payload.data.result\n        ],\n        entities: {\n          ...state.entities,\n          ...action.payload.data.entities.earnings\n        }\n      };\n    }\n\n    case types.ADD_EARNING: {\n      return {\n        ...state,\n        [action.payload.status]: [\n          action.payload._id,\n          ...(state[action.payload.status] || [])\n        ],\n        entities: {\n          ...state.entities,\n          [action.payload._id]: action.payload\n        },\n        list: [action.payload._id, ...state.list]\n      };\n    }\n\n    case types.REMOVE_EARNING: {\n      const { _id } = action.payload;\n      const { pending, list } = state;\n      return {\n        ...state,\n        pending: remove(id => id === _id, pending),\n        list: remove(id => id === _id, list),\n        entities: {\n          ...state.entities,\n          [action.payload._id]: null\n        }\n      };\n    }\n\n    case types.UPDATE_EARNING: {\n      const { _id, status } = action.payload;\n      const { pending } = state;\n      return {\n        ...state,\n        pending: status !== 'pending' ? remove(id => id === _id, pending) : pending,\n        entities: {\n          ...state.entities,\n          [action.payload._id]: action.payload\n        }\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n","import {\n  REFRESH_ROUTE,\n  RELOAD_ROUTE,\n  RELOAD_ALL_TABS,\n  TOGGLE_TOPICS,\n  SCROLL,\n  SHOW_MODAL,\n  HIDE_MODAL,\n  OPEN_WEB_SIDE_NAV,\n  CLOSE_WEB_SIDE_NAV,\n  SET_WIDTH,\n  LOCK_DRAWER,\n  SET_SCROLL_TAB,\n  REGISTER_GESTURE\n} from 'core/actionTypes';\n\nexport const initialState = {\n  showTopics: false,\n  reload: 0,\n  scroll: false,\n  gesture: null,\n  discover: {},\n  stats: {},\n  wallet: {},\n  createPost: {},\n  activity: {},\n  profile: {},\n  myProfile: {},\n  modal: null,\n  sideNavIsOpen: false,\n  width: null,\n  screenSize: 0,\n  modalData: null,\n  lockDrawer: false\n};\n\nfunction navigationState(state = initialState, action) {\n  switch (action.type) {\n    case SET_WIDTH:\n      return {\n        ...state,\n        width: action.payload.width,\n        screenSize: action.payload.screenSize\n      };\n    case OPEN_WEB_SIDE_NAV:\n      return {\n        ...state,\n        sideNavIsOpen: true\n      };\n\n    case CLOSE_WEB_SIDE_NAV:\n      return {\n        ...state,\n        sideNavIsOpen: false\n      };\n\n    case SHOW_MODAL: {\n      return {\n        ...state,\n        modal: action.payload.modal,\n        modalData: action.payload.data\n      };\n    }\n\n    case SET_SCROLL_TAB: {\n      switch (action.payload.type) {\n        case 'discover':\n          return {\n            ...state,\n            discover: {\n              ...state.discover,\n              ...action.payload.view\n            }\n          };\n        default:\n          return state;\n      }\n    }\n\n    case HIDE_MODAL: {\n      return {\n        ...state,\n        modal: null,\n        modalData: null\n      };\n    }\n\n    case SCROLL: {\n      return {\n        ...state,\n        scroll: action.payload\n      };\n    }\n\n    case LOCK_DRAWER: {\n      return {\n        ...state,\n        lockDrawer: action.payload\n      };\n    }\n\n    case TOGGLE_TOPICS: {\n      return {\n        ...state,\n        showTopics: action.payload !== undefined ? action.payload : !state.showTopics\n      };\n    }\n\n    case REFRESH_ROUTE: {\n      const { key } = action;\n      return {\n        ...state,\n        [key]: {\n          ...state[key],\n          refresh: new Date().getTime()\n        }\n      };\n    }\n\n    case RELOAD_ROUTE: {\n      const { key } = action;\n      return {\n        ...state,\n        [key]: {\n          ...state[key],\n          reload: new Date().getTime()\n        }\n      };\n    }\n\n    case RELOAD_ALL_TABS: {\n      return {\n        ...state,\n        reload: new Date().getTime()\n      };\n    }\n\n    case REGISTER_GESTURE: {\n      return {\n        ...state,\n        gesture: action.payload\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport default navigationState;\n","import * as types from 'core/actionTypes';\n\nconst initialState = {\n  message: null,\n  socketId: null,\n  clientData: null,\n  ping: {}\n};\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case 'message': {\n      return Object.assign({}, state, {\n        message: action.payload\n      });\n    }\n\n    case 'socketId': {\n      return Object.assign({}, state, {\n        socketId: action.payload\n      });\n    }\n\n    case 'clientData': {\n      return Object.assign({}, state, {\n        clientData: action.payload\n      });\n    }\n\n    case 'ping': {\n      return Object.assign({}, state, {\n        ping: action.payload\n      });\n    }\n\n    case types.LOGOUT_USER: {\n      return { ...initialState };\n    }\n\n    default:\n      return state;\n  }\n}\n","import * as types from 'core/actionTypes';\n\nconst initialState = {\n  total: null,\n  totalUsers: null,\n  users: 0\n};\n\nexport default function subscriptions(state = initialState, action) {\n  switch (action.type) {\n    case types.SET_SUBSCRIPTIONS: {\n      let total = 0;\n      let totalUsers = 0;\n      const users = {};\n      action.payload.forEach(sub => {\n        users[sub.following] = sub;\n        total += sub.amount;\n        totalUsers += 1;\n      });\n      return {\n        total,\n        totalUsers,\n        users\n      };\n    }\n\n    case types.LOGOUT_USER: {\n      return { ...initialState };\n    }\n\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport notif from 'modules/activity/activity.reducer';\nimport animation from 'modules/animation/animation.reducer';\nimport auth from 'modules/auth/auth.reducer';\nimport admin from 'modules/admin/admin.reducer';\nimport community from 'modules/community/community.reducer';\nimport createPost from 'modules/createPost/createPost.reducer';\nimport posts from 'modules/post/post.reducer';\nimport user from 'modules/user/user.reducer';\nimport invest from 'modules/post/invest.reducer';\nimport comment from 'modules/comment/comment.reducer';\nimport tags from 'modules/tag/tag.reducer';\nimport stats from 'modules/stats/stats.reducer';\nimport tooltip from 'modules/tooltip/tooltip.reducer';\nimport error from 'modules/ui/error.reducer';\nimport earnings from 'modules/wallet/earnings.reducer';\nimport navigation from 'modules/navigation/navigation.reducer';\nimport { reducer as formReducer } from 'redux-form';\nimport socket from './socket.reducer';\nimport subscriptions from './subscriptions.reducer';\n\nlet communityState = {};\n\nconst reducers = {\n  auth,\n  posts,\n  user,\n  socket,\n  form: formReducer,\n  notif,\n  error,\n  animation,\n  // TODO update\n  investments: invest,\n  stats,\n  // TODO update\n  comments: comment,\n  navigation,\n  createPost,\n  tags,\n  tooltip,\n  subscriptions,\n  admin,\n  community,\n  earnings\n};\n\nconst createReducer = (asyncReducers = {}) =>\n  combineReducers({ ...reducers, ...asyncReducers });\n\nlet appReducer = createReducer();\n\nexport function injectReducer(store, name, asyncReducer) {\n  if (store.asyncReducers[name]) {\n    return;\n  }\n  store.asyncReducers[name] = asyncReducer;\n  appReducer = createReducer(store.asyncReducers);\n  store.replaceReducer(appReducer);\n}\n\nconst initialState = {\n  posts: appReducer.posts,\n  user: appReducer.user,\n  stats: appReducer.stats\n};\n\n// Purpose of this reducer is to swap out community state\n// we swap out posts, user data and stats\nconst rootReducer = (state, action) => {\n  if (action.type === 'SET_COMMUNITY') {\n    const { community } = state.auth; // eslint-disable-line\n\n    if (community === action.payload) return appReducer(state, action);\n\n    const { posts, user, stats, earnings } = state; // eslint-disable-line\n    if (community) {\n      communityState = {\n        ...communityState,\n        [community]: {\n          posts,\n          user,\n          stats,\n          earnings\n        }\n      };\n    }\n\n    const cachedCommunityState = communityState[action.payload] || initialState;\n    const authUser =\n      (state.auth.user &&\n        cachedCommunityState.user &&\n        cachedCommunityState.user.users[state.auth.user._id] &&\n        cachedCommunityState.user.users[state.auth.user._id]) ||\n      state.auth.user;\n\n    const newState = {\n      ...state,\n      ...cachedCommunityState,\n      auth: { ...state.auth, community: action.payload, user: authUser }\n    };\n\n    return appReducer(newState, action);\n  }\n  return appReducer(state, action);\n};\n\nexport default rootReducer;\n","import createSocketIoMiddleware from 'redux-socket.io';\nimport { applyMiddleware, compose, createStore } from 'redux';\nimport thunk from 'redux-thunk';\nimport { createInjectSagasStore, sagaMiddleware } from 'redux-sagas-injector';\n\nimport rootReducer, { injectReducer } from '../reducers';\n// import rootSaga from '../sagas';\n\nfunction* rootSaga() {} // eslint-disable-line\n\nlet server = process.env.API_SERVER;\nif (process.env.NODE_ENV === 'development') {\n  server = 'http://localhost:3000';\n}\nlet socket;\nlet io;\n\nif (process.env.BROWSER) {\n  io = require('socket.io-client');\n  socket = io(server);\n  socket.on('pingKeepAlive', () => {\n    socket.emit('pingResponse');\n  });\n}\n\nexport default function configureStore(initialState = {}) {\n  // Compose final middleware and use devtools in debug environment\n  let middleware;\n\n  if (process.env.BROWSER) {\n    // only use the socket middleware on client and not on server\n    const socketIoMiddleware = createSocketIoMiddleware(socket, 'server/');\n    const _middleware = [thunk, socketIoMiddleware, sagaMiddleware];\n    middleware = applyMiddleware(..._middleware);\n  } else {\n    middleware = applyMiddleware(thunk, sagaMiddleware);\n  }\n\n  if (process.env.BROWSER && process.env.DEVTOOLS) {\n    const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n    middleware = composeEnhancers(middleware);\n  }\n\n  const store = process.env.BROWSER\n    ? // This causes a small memory leak on server\n      createInjectSagasStore({ rootSaga }, rootReducer, initialState, middleware)\n    : // This doesn't cause leak on server\n      createStore(rootReducer, initialState, middleware);\n\n  store.asyncReducers = {};\n  store.injectReducer = (key, asyncReducer) => injectReducer(store, key, asyncReducer);\n\n  if (process.env.BROWSER) {\n    socket.on('connect', () => {\n      const state = store.getState();\n      if (state.auth && state.auth.user) {\n        socket.emit('action', {\n          type: 'server/storeUser',\n          payload: state.auth.user._id\n        });\n      }\n    });\n  }\n\n  if (module.hot) {\n    module.hot.accept('../reducers', () => {\n      const nextRootReducer = require('../reducers');\n      store.replaceReducer(nextRootReducer);\n    });\n  }\n\n  return store;\n}\n","import { ApolloClient } from 'apollo-client';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport { HttpLink } from 'apollo-link-http';\nimport { getToken } from 'utils/storage';\nimport { setContext } from 'apollo-link-context';\nimport { concat, split } from 'apollo-link';\nimport { WebSocketLink } from 'apollo-link-ws';\nimport { getMainDefinition } from 'apollo-utilities';\n\nif (process.env.WEB !== 'true') {\n  require('../publicenv');\n}\n\nconst cache = new InMemoryCache({\n  dataIdFromObject: object => object._id || null\n});\n\ncache.restore(window.__APOLLO_STATE__);\n\nconst uri = process.env.API_SERVER;\nconst wsUri = uri.replace('http', 'ws');\n\nconst wsLink = new WebSocketLink({\n  uri: `${wsUri}/graphql`,\n  options: {\n    reconnect: true,\n    reconnectionAttempts: 50,\n    lazy: true,\n    timeout: 20000\n  }\n});\n\nconst subscriptionMiddleware = {\n  applyMiddleware: async (options, next) => {\n    options.token = await getToken();\n    next();\n  }\n};\nwsLink.subscriptionClient.use([subscriptionMiddleware]);\n\nconst httpLink = new HttpLink({ uri: `${uri}/graphql` });\n\nconst authMiddleware = setContext(async (req, { headers }) => {\n  const token = await getToken();\n  return {\n    credentials: 'include',\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : ''\n    }\n  };\n});\n\nconst link = split(\n  // split based on operation type\n  ({ query }) => {\n    const definition = getMainDefinition(query);\n    return (\n      definition.kind === 'OperationDefinition' && definition.operation === 'subscription'\n    );\n  },\n  wsLink,\n  httpLink\n);\n\nexport const client = new ApolloClient({\n  cache,\n  link: concat(authMiddleware, link)\n});\n","import { AppContainer } from 'react-hot-loader';\nimport React from 'react';\nimport { hydrate } from 'react-dom';\nimport { Router } from 'react-router-dom';\nimport history from 'modules/navigation/history';\nimport { renderRoutes } from 'react-router-config';\nimport { Provider } from 'react-redux';\nimport debug from 'debug';\nimport configureStore from 'core/web/configureStore';\nimport routes from 'modules/_app/web/routes';\nimport { loadableReady } from '@loadable/component';\nimport { client } from 'app/core/apollo.client';\nimport { ApolloProvider } from '@apollo/react-hooks';\n\nconst clientDebug = debug('app:client');\nconst rootElement = document.getElementById('app');\n\nwindow.React = React; // For chrome dev tool support\n\n// if (process.env.NODE_ENV === 'development') {\n// window.reduxDebug = debug;\n// window.reduxDebug.enable('*'); // this should be activated only on development env\n// }\n\nconst initialState = window.__INITIAL_STATE__ || undefined;\n\nconst store = configureStore(initialState);\n\nclientDebug('rehydrating app');\nif (localStorage) localStorage.debug = '';\n\nconst renderApp = (appRoutes) => {\n  hydrate(\n    <AppContainer>\n      <ApolloProvider client={client}>\n        <Provider store={store}>\n          <Router history={history}>{renderRoutes(appRoutes)}</Router>\n        </Provider>\n      </ApolloProvider>\n    </AppContainer>,\n    rootElement\n  );\n};\n\nloadableReady(() => renderApp(routes));\n\nif (module.hot) {\n  module.hot.accept('./modules/_app/web/routes', () => {\n    const newRoutes = require('./modules/_app/web/routes').default;\n    renderApp(newRoutes);\n  });\n}\n","import React, { Component } from 'react';\n\nexport default class NotFound extends Component {\n  render() {\n    return <div>NOT FOUND</div>;\n  }\n}\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\n\nimport loadable from '@loadable/component';\n\nimport AwesomeDebouncePromise from 'awesome-debounce-promise';\nimport routes from 'modules/_app/web/routes'; // eslint-disable-line\nimport queryString from 'query-string';\nimport get from 'lodash/get';\nimport { renderRoutes, matchRoutes } from 'react-router-config';\nimport { getCommunities } from 'modules/community/community.actions';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { withRouter } from 'react-router-dom';\nimport { getEarnings } from 'modules/wallet/earnings.actions';\nimport * as navigationActions from 'modules/navigation/navigation.actions';\nimport * as authActions from 'modules/auth/auth.actions';\nimport ModalContainer from 'modules/ui/modals/modal.container';\nimport { GlobalStyle } from 'app/styles';\nimport { BANNED_COMMUNITY_SLUGS } from '@r3l/common';\nimport SmartBanner from 'react-smartbanner';\nimport ReactGA from 'react-ga';\nimport { TwitterCT } from 'app/utils/social';\nimport { TextTooltip } from 'modules/tooltip/web/tooltip.component';\nimport { ToastContainer } from 'react-toastify';\nimport { ContractProvider } from 'modules/contract/contract.provider';\nimport styled from 'styled-components';\n\nconst PriceProvider = loadable(() => import('modules/wallet/price.context'));\n\nconst UpvoteAnimation = loadable(() =>\n  import('modules/animation/upvoteAnimation.component')\n);\nconst DownvoteAnimation = loadable(() =>\n  import('modules/animation/downvoteAnimation.component')\n);\n\nconst AnimationContainer = styled.div`\n  pointer-events: none;\n  top: '0',\n  left: '0',\n  zIndex: '10000'\n`;\n\n// const DEV_MODE = process.env.NODE_ENV === 'development';\n\nif (process.env.BROWSER === true) {\n  require('app/styles/fonts.css');\n  require('react-toastify/dist/ReactToastify.css');\n  require('react-smartbanner/dist/main.css');\n}\n\nclass App extends Component {\n  static propTypes = {\n    auth: PropTypes.object,\n    actions: PropTypes.object,\n    match: PropTypes.object,\n    location: PropTypes.object,\n    user: PropTypes.object,\n    history: PropTypes.object,\n    route: PropTypes.object,\n    globalModal: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n    navigation: PropTypes.object,\n  };\n\n  constructor(props) {\n    super(props);\n    const { history } = props;\n    history.listen((loc) => this.updateCommunity(loc));\n  }\n\n  state = {\n    authType: null,\n  };\n\n  componentDidMount() {\n    const { actions, auth, location, history } = this.props;\n\n    if (process.env.NODE_ENV !== 'development') {\n      this.initAnalytics({ location, history });\n    }\n\n    // actions.getCommunities();\n    actions.getUser();\n\n    if (auth.user) this.handleUserLogin();\n\n    const parsed = queryString.parse(location.search);\n    if (parsed.invitecode) {\n      actions.setInviteCode(parsed.invitecode);\n      if (auth.isAuthenticated) {\n        actions.redeemInvite(parsed.invitecode);\n      } else if (!location.pathname.match('resetPassword')) {\n        history.push({\n          pathname: '/user/signup',\n          search: `${location.search}&redirect=${location.pathname}`,\n        });\n      }\n    }\n    this.updateWidth();\n    window.addEventListener('resize', this.updateWidth);\n    // TODO do this after a timeout\n    window.addEventListener('blur', () => {\n      this.backgroundTime = new Date().getTime();\n    });\n\n    // TODO do this after a timeout\n    window.addEventListener('focus', () => this.reloadTabs());\n  }\n\n  updateCommunity(location) {\n    const { actions, auth } = this.props;\n\n    const route = matchRoutes(routes, location.pathname);\n    const newCommunity = get(route, `[${route.length - 1}].match.params.community`);\n\n    if (\n      newCommunity &&\n      newCommunity !== auth.community &&\n      !BANNED_COMMUNITY_SLUGS.includes(newCommunity)\n    ) {\n      actions.setCommunity(newCommunity);\n    }\n  }\n\n  initAnalytics = ({ location, history }) => {\n    TwitterCT.init('o1p7u');\n    ReactGA.initialize('UA-51795165-6');\n\n    TwitterCT.pageView();\n    ReactGA.pageview(location.pathname + location.search);\n\n    history.listen((loc) => {\n      TwitterCT.pageView();\n      ReactGA.pageview(loc.pathname + loc.search);\n    });\n  };\n\n  setWidth = () => {\n    this.props.actions.setWidth(window.innerWidth);\n  };\n\n  debouncedSetWidth = AwesomeDebouncePromise(this.setWidth, 100);\n\n  updateWidth = () => {\n    this.debouncedSetWidth();\n  };\n\n  reloadTabs = () => {\n    const now = new Date().getTime();\n    if (now - this.backgroundTime > 10 * 60 * 1000) {\n      this.props.actions.reloadAllTabs();\n    }\n  };\n\n  handleUserLogin = () => {\n    const { auth, actions, navigation, location, history } = this.props;\n    const { screenSize } = navigation;\n\n    if (auth.user.role === 'temp') {\n      return actions.showModal('setHandle');\n    }\n    if (!auth.user.webOnboard.onboarding) {\n      actions.showModal('onboarding');\n      actions.webOnboard('onboarding');\n    }\n    if (auth.invitecode) {\n      actions.redeemInvite(auth.invitecode);\n      ReactGA.event({\n        category: 'User',\n        action: 'Redeemed Invite',\n      });\n    }\n    ReactGA.set({ userId: auth.user._id });\n    actions.getEarnings('pending');\n\n    if (!auth.community && location.pathname === '/') {\n      history.replace('/communities');\n    }\n\n    if (screenSize) return null;\n    return null;\n  };\n\n  componentDidUpdate(prevProps) {\n    const { actions, auth, location } = this.props;\n\n    if (location.pathname !== prevProps.location.pathname) {\n      window.scrollTo(0, 0);\n    }\n\n    const userId = auth.user ? auth.user._id : null;\n    const PrevUserId = prevProps.auth.user ? prevProps.auth.user._id : null;\n\n    if (userId !== PrevUserId) {\n      actions.userToSocket(userId);\n    }\n\n    if (!prevProps.auth.user && auth.user) {\n      this.handleUserLogin();\n    }\n\n    if (\n      prevProps.auth.user &&\n      auth.user &&\n      prevProps.auth.user.role === 'temp' &&\n      auth.user.role !== 'temp'\n    ) {\n      this.handleUserLogin();\n    }\n  }\n\n  render() {\n    const { globalModal, navigation } = this.props;\n    const { screenSize } = navigation;\n    return (\n      <div>\n        <GlobalStyle />\n        <SmartBanner\n          daysHidden={0}\n          daysReminder={0}\n          title={'Relevant Communities'}\n          position={'top'}\n          // force={'ios'}\n        />\n        <TextTooltip\n          globalEventOff=\"click\"\n          type={'dark'}\n          scrollHide\n          id=\"mainTooltip\"\n          multiline\n        />\n        {/*        <CustomTooltip id=\"tooltip\" multiline />\n         */}\n        <AnimationContainer>\n          <UpvoteAnimation />\n          <DownvoteAnimation />\n        </AnimationContainer>\n\n        <ContractProvider>\n          <PriceProvider>\n            <Fragment>\n              <ModalContainer />\n              <ToastContainer />\n              <div style={globalModal && !screenSize ? { filter: 'blur(2px)' } : {}}>\n                {renderRoutes(this.props.route.routes)}\n              </div>\n            </Fragment>\n          </PriceProvider>\n        </ContractProvider>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  user: state.auth.user,\n  auth: state.auth,\n  navigation: state.navigation,\n  globalModal: state.navigation.modal,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  actions: bindActionCreators(\n    {\n      ...navigationActions,\n      ...authActions,\n      getCommunities,\n      getEarnings,\n    },\n    dispatch\n  ),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));\n","import React from 'react';\nimport loadable from '@loadable/component';\nimport { Redirect } from 'react-router';\nimport { withRouter } from 'react-router-dom';\n\nimport App from './app'; // eslint-disable-line\nimport NotFound from './404';\nimport withAuth from './withAuth';\n// import CommunityRedirect from './communityRedirect';\n\nconst DiscoverContainer = loadable(() =>\n  import('modules/discover/web/discover.container')\n);\nconst TopicsAdmin = loadable(() => import('modules/admin/web/topics.container'));\nconst Invites = loadable(() => import('modules/admin/web/invites.container'));\nconst Invite = loadable(() => import('modules/admin/web/invite.component'));\nconst Faq = loadable(() => import('modules/admin/web/faq.component'));\nconst AdminHeader = loadable(() => import('modules/admin/web/header.component'));\nconst Flagged = loadable(() => import('modules/admin/web/flagged.component'));\nconst Waitlist = loadable(() => import('modules/admin/web/waitlist.component'));\nconst Downvotes = loadable(() => import('modules/admin/web/downvotes.container'));\nconst Email = loadable(() => import('modules/admin/web/email.component'));\nconst TopPosts = loadable(() => import('modules/admin/web/topPosts.component'));\nconst Contract = loadable(() => import('modules/admin/web/contractParams.container'));\nconst About = loadable(() => import('modules/web_about/about.component'));\nconst TopNav = loadable(() => import('modules/navigation/web/topnav.component'));\n\nconst CommunityAdminForm = loadable(() =>\n  import('modules/admin/web/communityAdminForm.component')\n);\nconst CommunityAdminList = loadable(() =>\n  import('modules/admin/web/communityAdminList.component')\n);\nconst Styles = loadable(() => import('modules/ui/styles.component'));\n\nconst CommunityList = loadable(() => import('modules/community/communityList.container'));\nconst ProfileContainer = loadable(() => import('modules/profile/web/profile.container'));\nconst ActivityContainer = loadable(() => import('modules/activity/activity.container'));\nconst WithSideNav = loadable(() =>\n  import('modules/navigation/web/withSideNav.component')\n);\nconst WithTopNav = loadable(() => import('modules/navigation/web/withTopNav.component'));\n\nconst PostContainer = loadable(() => import('modules/post/web/singlePost.container'));\nconst Wallet = loadable(() => import('modules/wallet/web/wallet.container'));\nconst Auth = loadable(() => import('modules/auth/web/auth.container'));\n\nconst CreatePostContainer = loadable(() =>\n  import('modules/createPost/createPost.container')\n);\n\nconst MyRedirect = withRouter((props) => (\n  <Redirect {...props} to={props.match.url + props.to + props.location.search} />\n));\n\n// community slug blacklist\n// user\n// admin\n// info\n// api\n// img\n// fonts\n// files\n// home\n\nconst routes = [\n  {\n    path: '/',\n    component: App,\n    routes: [\n      {\n        path: '/',\n        component: About,\n        exact: true,\n      },\n      { path: '/about', component: About, exact: true },\n      {\n        path: '/',\n        component: WithSideNav,\n        routes: [\n          {\n            path: '/admin',\n            component: withAuth(AdminHeader, 'admin'),\n            indexRoute: { component: Contract },\n            routes: [\n              { path: '/admin/contract', component: Contract },\n              { path: '/admin/flagged', component: Flagged },\n              { path: '/admin/waitlist', component: Waitlist },\n              { path: '/admin/downvotes', component: Downvotes },\n              { path: '/admin/topics', component: TopicsAdmin },\n              { path: '/admin/invites', component: Invites },\n              { path: '/admin/email', component: Email },\n              { path: '/admin/topPosts', component: TopPosts },\n              { path: '/admin/community', component: CommunityAdminList, exact: true },\n              {\n                path: '/admin/community/new',\n                component: CommunityAdminForm,\n                exact: true,\n              },\n              {\n                path: '/admin/community/:slug',\n                component: CommunityAdminForm,\n                exact: true,\n              },\n            ],\n          },\n          // INFO\n          { path: '/info/faq', component: Faq, exact: true },\n          { path: '/info/styles', component: Styles, exact: true },\n          {\n            path: '/',\n            component: WithTopNav,\n            routes: [\n              // WALLET\n              {\n                path: '/user/wallet',\n                component: Wallet,\n                navbar: TopNav,\n                title: 'Wallet',\n                exact: true,\n              },\n              // USER\n              {\n                path: '/user/:modal(resetPassword)/:token',\n                component: Auth,\n                navbar: TopNav,\n                exact: true,\n              },\n              {\n                path:\n                  '/user/:modal(login|confirmEmail|confirm|signup|resetPassword|forgot|setHandle)',\n                component: Auth,\n                navbar: TopNav,\n                exact: true,\n              },\n              {\n                path: '/user/:modal(confirm)/:user/:code',\n                component: Auth,\n                navbar: TopNav,\n                exact: true,\n              },\n              {\n                path: '/user/profile/:id',\n                component: ProfileContainer,\n                navbar: TopNav,\n                exact: true,\n              },\n              {\n                path: '/user/profile/:id/settings',\n                component: ProfileContainer,\n                exact: true,\n                navbar: TopNav,\n              },\n              {\n                path: '/user/activity',\n                component: ActivityContainer,\n                exact: true,\n                navbar: TopNav,\n              },\n              // WARNING THESE ROUTES MUST MACH MOBILE APP!\n              // '/user/resetPassword/:token'\n              // '/user/resetPassword'\n              // '/user/confirm/:user/:code'\n              // TODO: use this route\n              // { path: '/user/confirmEmail', component: Auth, exact: true },\n              {\n                path: '/user/invite/:code',\n                component: Invite,\n                exact: true,\n                navbar: TopNav,\n              },\n              {\n                path: '/communities',\n                component: CommunityList,\n                exact: true,\n                navbar: TopNav,\n                title: 'Communities',\n              },\n              {\n                path: '/communities/new',\n                component: CommunityAdminForm,\n                exact: true,\n                navbar: TopNav,\n                title: 'Create a New Community',\n              },\n              {\n                path: '/:community/post/:id',\n                component: PostContainer,\n                exact: true,\n                navbar: TopNav,\n              },\n              {\n                path: '/:community/post/:id/:commentId',\n                component: PostContainer,\n                exact: true,\n                navbar: TopNav,\n              },\n              // DISCOVER\n              // TODO - parent route doesn't have access to child params\n              {\n                path: '/:community/',\n                component: (props) => <MyRedirect {...props} to={'/new'} />,\n                exact: true,\n                navbar: TopNav,\n              },\n              {\n                path: '/:community/:sort/:tag?',\n                component: DiscoverContainer,\n                exact: true,\n                navbar: TopNav,\n              },\n              {\n                path: '/:community/post/new',\n                exact: true,\n                component: withAuth(CreatePostContainer),\n                navbar: TopNav,\n              },\n            ],\n          },\n        ],\n      },\n      { path: '*', component: NotFound },\n    ],\n  },\n];\nexport default routes;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { Redirect } from 'react-router';\n\nconst withAuth = (Component, role) => {\n  const AuthComponent = props => {\n    let { authenticated } = props;\n    if (role && props.user) {\n      if (role !== props.user.role) authenticated = false;\n    }\n    return authenticated ? (\n      <Component {...props} />\n    ) : (\n      <Redirect to={{ pathname: '/', state: { from: props.location } }} />\n    );\n  };\n\n  AuthComponent.propTypes = {\n    location: PropTypes.object.isRequired,\n    authenticated: PropTypes.bool.isRequired,\n    user: PropTypes.object\n  };\n\n  return withRouter(\n    connect(state => ({\n      authenticated: state.auth.isAuthenticated,\n      user: state.auth.user\n    }))(AuthComponent)\n  );\n};\n\nexport default withAuth;\n","import * as types from 'core/actionTypes';\nimport { storage, api, alert } from 'app/utils';\nimport * as errorActions from 'modules/ui/error.actions';\n// eslint-disable-next-line\nimport * as navigationActions from 'modules/navigation/navigation.actions';\nimport * as tooltipActions from 'modules/tooltip/tooltip.actions';\nimport { setUserMemberships } from 'modules/community/community.actions';\n\nconst Alert = alert.Alert();\n\nlet PushNotification;\nlet userDefaults;\n\nlet Analytics;\nlet ReactGA;\nlet TwitterCT;\n\nif (process.env.WEB !== 'true') {\n  Analytics = require('react-native-firebase').analytics();\n  userDefaults = require('react-native-swiss-knife').RNSKBucket;\n  PushNotification = require('react-native-push-notification');\n} else {\n  ReactGA = require('react-ga').default;\n  TwitterCT = require('app/utils/social').TwitterCT;\n}\n\nconst APP_GROUP_ID = 'group.com.4real.relevant';\n\nconst reqOptions = async () => {\n  const token = await storage.getToken();\n  return {\n    credentials: 'include',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  };\n};\n\nexport function setCommunity(community) {\n  return dispatch => {\n    dispatch({\n      type: types.SET_COMMUNITY,\n      payload: community\n    });\n  };\n}\n\nexport function setInviteCode(code) {\n  return {\n    type: types.SET_INVITE_CODE,\n    payload: code\n  };\n}\n\nexport function updateInvite(invite) {\n  return {\n    type: types.UPDATE_INVITE,\n    payload: invite\n  };\n}\n\nexport function sendPong() {\n  return {\n    type: 'server/pong'\n  };\n}\n\nexport function updateAuthUser(user) {\n  return {\n    type: types.UPDATE_AUTH_USER,\n    payload: user\n  };\n}\n\nexport function setUser(user) {\n  return {\n    type: types.SET_USER,\n    payload: user\n  };\n}\n\nexport function setSelectedUserData(data) {\n  return {\n    type: 'SET_SELECTED_USER_DATA',\n    payload: data\n  };\n}\n\nexport function setUserIndex(userIndex) {\n  return {\n    type: types.SET_USER_INDEX,\n    payload: userIndex\n  };\n}\n\nexport function setPreUser(preUser) {\n  return {\n    type: 'SET_PRE_USER',\n    payload: preUser\n  };\n}\n\nexport function setAuthStatusText(text) {\n  return {\n    type: 'SET_AUTH_STATUS_TEXT',\n    payload: text || null\n  };\n}\n\nexport function loginUserSuccess(token) {\n  return {\n    type: types.LOGIN_USER_SUCCESS,\n    payload: {\n      token\n    }\n  };\n}\n\nexport function loginUserFailure() {\n  return {\n    type: types.LOGIN_USER_FAILURE\n  };\n}\n\nexport function loginUserRequest() {\n  return {\n    type: types.LOGIN_USER_REQUEST\n  };\n}\n\nexport function logout() {\n  return {\n    type: types.LOGOUT_USER\n  };\n}\n\nexport function cacheCommunity(community) {\n  return async dispatch => {\n    try {\n      await dispatch(\n        api.request({\n          method: 'PUT',\n          endpoint: 'user',\n          path: '/updateCommunity',\n          body: JSON.stringify({ community })\n        })\n      );\n    } catch (err) {\n      console.log(err); // eslint-disable-line\n    }\n  };\n}\n\nexport function logoutAction(user) {\n  return dispatch => {\n    storage.removeToken().then(() => {\n      // websocket message\n      if (user && user._id) {\n        dispatch({\n          type: 'server/logout',\n          payload: user._id\n        });\n      }\n      dispatch(logout());\n    });\n  };\n}\n\nexport function setCurrentTooltip(step) {\n  return {\n    type: types.SET_ONBOARDING_STEP,\n    payload: step\n  };\n}\n\nexport function updateUser(user, preventLocalUpdate) {\n  return async dispatch => {\n    try {\n      const res = await dispatch(\n        api.request({\n          method: 'PUT',\n          endpoint: 'user',\n          path: '/',\n          body: JSON.stringify(user)\n        })\n      );\n      if (!preventLocalUpdate) dispatch(updateAuthUser(res));\n      return true;\n    } catch (err) {\n      Alert.alert(err.message);\n      return false;\n    }\n  };\n}\n\nexport function updateNotificationSettings(\n  notificationSettings,\n  subscription,\n  deviceTokens\n) {\n  return async dispatch => {\n    try {\n      const res = await dispatch(\n        api.request({\n          method: 'PUT',\n          endpoint: 'user',\n          path: '/notifications',\n          body: JSON.stringify({ notificationSettings, subscription, deviceTokens })\n        })\n      );\n      dispatch(updateAuthUser(res));\n      return true;\n    } catch (err) {\n      Alert.alert(err.message);\n      return false;\n    }\n  };\n}\n\nexport function setDeviceToken(token) {\n  return {\n    type: 'SET_DEVICE_TOKEN',\n    payload: token\n  };\n}\n\nexport function removeDeviceToken(auth) {\n  if (!auth) return null;\n  return dispatch => {\n    const { user } = auth;\n    if (user.deviceTokens) {\n      const index = user.deviceTokens.indexOf(auth.deviceToken);\n      if (index > -1) {\n        user.deviceTokens.splice(index, 1);\n        dispatch(updateUser(user, true));\n      }\n    }\n  };\n}\n\nexport function enableMobileNotifications(user, checkIfEnbaled) {\n  return dispatch => {\n    if (!user.notificationSettings.mobile.all && checkIfEnbaled) return;\n    if (!PushNotification) return;\n    configurePushNotifications(dispatch);\n    registerPushNotification({ dispatch, user });\n  };\n}\n\nfunction configurePushNotifications(dispatch) {\n  PushNotification.configure({\n    onNotification: notification => {\n      // other params: foreground, message\n      const { userInteraction, data } = notification;\n      if (!userInteraction) return;\n      if (data && data.postId) {\n        const comment = data.comment ? { _id: data.comment } : null;\n        if (data.community) dispatch(setCommunity(data.community));\n        dispatch(\n          navigationActions.goToPost({\n            _id: data.postId,\n            title: data.title,\n            community: data.community,\n            comment\n          })\n        );\n      }\n    },\n    // ANDROID ONLY: GCM Sender ID\n    // need to receive remote push notifications)\n    senderID: '271994332492',\n    // IOS ONLY (optional): default: all - Permissions to register.\n    permissions: {\n      alert: true,\n      badge: true,\n      sound: true\n    },\n    popInitialNotification: true,\n    requestPermissions: true\n  });\n}\n\nfunction registerPushNotification({ dispatch, user }) {\n  PushNotification.onRegister = deviceToken => {\n    const { token } = deviceToken;\n    userDefaults.set('deviceToken', token, APP_GROUP_ID);\n    dispatch(setDeviceToken(token));\n    const newUser = { ...user };\n    if (user.deviceTokens && user.deviceTokens.indexOf(token) < 0) {\n      newUser.deviceTokens.push(token);\n    } else if (user.deviceTokens.indexOf(token) < 0) {\n      newUser.deviceTokens = [token];\n    }\n    const notificationSettings = {\n      ...newUser.notificationSettings\n    };\n    dispatch(\n      updateNotificationSettings(notificationSettings, null, newUser.deviceTokens)\n    );\n  };\n}\n\nfunction setupUser(user, dispatch) {\n  dispatch(setUser(user));\n  dispatch(setSelectedUserData(user));\n  dispatch(errorActions.setError('universal', false));\n  dispatch(tooltipActions.tooltipReady(true));\n  return user;\n}\n\nexport function getUser(callback) {\n  return async (dispatch, getState) => {\n    try {\n      const token = await storage.getToken();\n      if (!token) return null;\n      dispatch(loginUserSuccess(token));\n      const user = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'user',\n          path: '/me'\n        })\n      );\n      setupUser(user, dispatch);\n      const state = getState();\n      const { community } = state.auth;\n      if (!community && user.community) {\n        dispatch(setCommunity(null));\n      }\n      const checkIfEnabled = true;\n      dispatch(enableMobileNotifications(user, checkIfEnabled));\n      if (user.memberships) {\n        dispatch(setUserMemberships(user.memberships));\n      }\n      if (callback) callback(user);\n      return user;\n    } catch (error) {\n      const message = error ? error.message : null;\n      dispatch(errorActions.setError('universal', true, message));\n      dispatch(loginUserFailure('Server error'));\n      if (callback) callback({ ok: false });\n      return null;\n    }\n  };\n}\n\nexport function setOnboardingStep(step) {\n  return async dispatch =>\n    fetch(process.env.API_SERVER + '/api/user/onboarding/' + step, {\n      credentials: 'include',\n      method: 'GET',\n      ...(await reqOptions())\n    })\n      .then(response => response.json())\n      .then(responseJSON => {\n        dispatch(updateAuthUser(responseJSON));\n        return true;\n      })\n      .catch(() => false);\n}\n\nexport function webOnboard(step) {\n  return async dispatch => {\n    try {\n      await dispatch(\n        api.request({\n          method: 'PUT',\n          endpoint: 'user',\n          path: '/webonboard',\n          params: { step }\n        })\n      );\n      return true;\n    } catch (err) {\n      Alert.alert(err.message);\n      return false;\n    }\n  };\n}\n\nexport function loginUser(user) {\n  return async dispatch => {\n    try {\n      const responseJSON = await dispatch(\n        api.request({\n          method: 'POST',\n          endpoint: '/auth',\n          path: '/local',\n          body: JSON.stringify(user)\n        })\n      );\n      if (responseJSON.token) {\n        await storage.setToken(responseJSON.token);\n        dispatch(loginUserSuccess(responseJSON.token));\n        dispatch(getUser());\n        return true;\n      }\n      dispatch(loginUserFailure(responseJSON.message));\n      Alert.alert(responseJSON.message);\n      return false;\n    } catch (err) {\n      Alert.alert(err.message);\n      return false;\n    }\n  };\n}\n\nexport function userOnline(user, token) {\n  return () =>\n    fetch(\n      process.env.API_SERVER +\n        '/notification/online/' +\n        user._id +\n        '?access_token=' +\n        token,\n      {\n        credentials: 'include',\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        }\n      }\n    )\n      .then(response => response.json())\n      .catch(() => {\n        // Handle error?\n      });\n}\n\nexport function checkUser(string, type, omitSelf = false) {\n  return () =>\n    fetch(\n      `${process.env.API_SERVER}/api/user/check/user/?${type}=${string}&omitSelf=${omitSelf}`,\n      {\n        credentials: 'include',\n        method: 'GET',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        }\n      }\n    )\n      .then(response => response.json())\n      .then(responseJSON => responseJSON)\n      .catch(error => {\n        Alert.alert(error.message);\n      });\n}\n\nexport function createUser(user, invitecode) {\n  return dispatch =>\n    fetch(process.env.API_SERVER + '/api/user', {\n      credentials: 'include',\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ user, invitecode })\n    })\n      .then(api.handleErrors)\n      .then(response => response.json())\n      .then(responseJSON => {\n        if (responseJSON.token) {\n          return storage.setToken(responseJSON.token).then(() => {\n            ReactGA &&\n              ReactGA.event({\n                category: 'User',\n                action: 'Created an Account'\n              });\n            TwitterCT && TwitterCT.signUp();\n            Analytics && Analytics.logEvent('CreatedAccount');\n            dispatch(loginUserSuccess(responseJSON.token));\n            dispatch(getUser());\n            return true;\n          });\n        }\n        if (responseJSON.errors) {\n          const { errors } = responseJSON;\n          let message = '';\n          Object.keys(errors).forEach(key => {\n            if (errors[key].message) message += errors[key].message;\n          });\n          Alert.alert(message);\n          return false;\n        }\n        return false;\n      })\n      .catch(error => {\n        if (error.message.match('invitation code')) {\n          dispatch(updateInvite(null));\n        }\n        Alert.alert(error.message);\n        return false;\n      });\n}\n\nexport function updateHandle(user) {\n  return async dispatch => {\n    try {\n      const result = await dispatch(\n        api.request({\n          method: 'PUT',\n          endpoint: 'user',\n          path: '/updateHandle',\n          body: JSON.stringify({ user })\n        })\n      );\n      ReactGA &&\n        ReactGA.event({\n          category: 'User',\n          action: 'Created an Account'\n        });\n      Analytics && Analytics.logEvent('CreatedAccount');\n      setupUser(result, dispatch);\n      return true;\n    } catch (err) {\n      Alert.alert(err.message);\n      return false;\n    }\n  };\n}\n\nexport function sendConfirmation() {\n  return async () =>\n    fetch(process.env.API_SERVER + '/api/user/sendConfirmation', {\n      method: 'GET',\n      ...(await reqOptions())\n    })\n      .then(api.handleErrors)\n      .then(response => response.json())\n      .then(responseJSON => {\n        Alert.alert(\n          'A confirmation email has been sent to ' + responseJSON.email,\n          'success'\n        );\n        return true;\n      })\n      .catch(err => {\n        Alert.alert('Error sending email, please try again ', err.message);\n        return false;\n      });\n}\n\nexport function forgotPassword(user, query) {\n  return async () =>\n    fetch(process.env.API_SERVER + '/api/user/forgot' + (query || ''), {\n      method: 'PUT',\n      ...(await reqOptions()),\n      body: JSON.stringify({ user })\n    })\n      .then(api.handleErrors)\n      .then(response => response.json())\n      .then(responseJSON => responseJSON)\n      .catch(err => {\n        Alert.alert(err.message);\n        return false;\n      });\n}\n\nexport function resetPassword(password, token) {\n  return async () =>\n    fetch(process.env.API_SERVER + '/api/user/resetPassword', {\n      method: 'PUT',\n      ...(await reqOptions()),\n      body: JSON.stringify({ password, token })\n    })\n      .then(api.handleErrors)\n      .then(response => response.json())\n      .then(() => {\n        Alert.alert('Your password has been updated! Try loggin in.', 'success');\n        return true;\n      })\n      .catch(err => {\n        Alert.alert(err.message);\n        return false;\n      });\n}\n\nexport function confirmEmail(user, code) {\n  return async dispatch =>\n    fetch(process.env.API_SERVER + '/api/user/confirm', {\n      method: 'PUT',\n      ...(await reqOptions()),\n      body: JSON.stringify({ user, code })\n    })\n      .then(api.handleErrors)\n      .then(response => response.json())\n      .then(responseJSON => {\n        Alert.alert('Your email has been confirmed');\n        dispatch(updateAuthUser(responseJSON));\n        return true;\n      })\n      .catch(err => {\n        Alert.alert(err.message);\n        return false;\n      });\n}\n\nexport function setStats(stats) {\n  return {\n    type: types.SET_STATS,\n    payload: stats\n  };\n}\n\nexport function getChart(start, end) {\n  return async dispatch => {\n    try {\n      const chart = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'relevanceStats',\n          path: '/user',\n          query: { start, end }\n        })\n      );\n      dispatch(setStats({ chart }));\n      dispatch(errorActions.setError('stats', false));\n      return true;\n    } catch (error) {\n      dispatch(errorActions.setError('stats', true, error.message));\n      return false;\n    }\n  };\n}\n\nexport function getStats(user) {\n  return async dispatch => {\n    try {\n      const stats = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'relevance',\n          path: `/user/${user._id}/stats`\n        })\n      );\n      dispatch(setStats(stats));\n      dispatch(errorActions.setError('stats', false));\n      return true;\n    } catch (error) {\n      dispatch(errorActions.setError('stats', true, error.message));\n      return false;\n    }\n  };\n}\n\nexport function getRelChart(start, end) {\n  return async dispatch => {\n    try {\n      const relChart = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'statistics',\n          path: '/user',\n          query: { start, end }\n        })\n      );\n      dispatch(setStats({ relChart }));\n      dispatch(errorActions.setError('stats', false));\n      return true;\n    } catch (error) {\n      dispatch(errorActions.setError('stats', true, error.message));\n      return false;\n    }\n  };\n}\n\nexport function setTwitter(profile) {\n  return {\n    type: types.SET_TWITTER,\n    payload: profile\n  };\n}\n\nexport function setLoading(loading) {\n  return {\n    type: types.SET_LOADING,\n    payload: loading\n  };\n}\n\nexport function twitterAuth(profile, invite) {\n  return async dispatch => {\n    try {\n      dispatch(setLoading(true));\n      const result = await dispatch(\n        api.request({\n          method: 'POST',\n          endpoint: '/auth/',\n          path: 'twitter/login',\n          body: JSON.stringify({ profile, invite })\n        })\n      );\n      if (!result) {\n        throw new Error('Twitter Auth failed');\n      }\n      dispatch(setLoading(false));\n      if (result.user && result.user.role === 'temp') {\n        await storage.setToken(result.token);\n        dispatch(loginUserSuccess(result.token));\n\n        dispatch(setPreUser(result.user));\n        dispatch(setTwitter({ ...profile, token: result.token }));\n        return false;\n      }\n      if (result.token && result.user) {\n        await storage.setToken(result.token);\n        dispatch(loginUserSuccess(result.token));\n        setupUser(result.user, dispatch);\n      }\n      return true;\n    } catch (error) {\n      dispatch(setTwitter(null));\n      dispatch(setLoading(false));\n      Alert.alert(error.message);\n      return false;\n    }\n  };\n}\n\nexport function userToSocket(user) {\n  return dispatch => {\n    if (!user) return;\n    dispatch({ type: 'server/storeUser', payload: user });\n  };\n}\n\nexport function redeemInvite(invitecode) {\n  return async dispatch => {\n    try {\n      const user = await dispatch(\n        api.request({\n          method: 'PUT',\n          endpoint: 'invites',\n          path: '/',\n          body: JSON.stringify({ invitecode })\n        })\n      );\n      dispatch(setInviteCode(null));\n      dispatch(updateAuthUser(user));\n      Alert.alert('You are now a trusted admin of the community!', 'success');\n    } catch (err) {\n      dispatch(setInviteCode(null));\n      // Alert.alert(err.message);\n    }\n  };\n}\n\nexport function loginWithBox({ address, signature, msg }) {\n  return async dispatch => {\n    try {\n      const res = await dispatch(\n        api.request({\n          method: 'POST',\n          endpoint: '/auth',\n          path: '/web3',\n          body: JSON.stringify({ address, signature, msg })\n        })\n      );\n      if (res.token) {\n        await storage.setToken(res.token);\n        dispatch(loginUserSuccess(res.token));\n        dispatch(getUser());\n        return true;\n      }\n      dispatch(loginUserFailure(res.message));\n      Alert.alert(res.message);\n      return false;\n    } catch (err) {\n      Alert.alert(err.message);\n      return false;\n    }\n  };\n}\n\nexport function updateUserTokenBalance() {\n  return async dispatch => {\n    try {\n      const res = await dispatch(\n        api.request({\n          method: 'PUT',\n          endpoint: 'user',\n          path: '/updateUserTokenBalance'\n        })\n      );\n      dispatch(updateAuthUser(res));\n    } catch (err) {\n      Alert.alert(err.message);\n    }\n  };\n}\n","import Linkify from 'linkify-it';\nimport { isNative } from 'styles';\n\nconst linkify = Linkify();\n\nexport const linkifyMatch = text => linkify.match(text);\n\nexport default function linkifyText(text, community, omitUrl) {\n  const matches = linkify.match(text);\n  if (!matches) return text;\n  let offset = 0;\n  matches.forEach(match => {\n    const { index, lastIndex, text: txt, url, schema } = match;\n    const prependToUrl = schema === '#' && !isNative ? `/${community}` : '';\n    // Already a link\n    if (text[index - 1] === '(' && text[lastIndex] === ')') return;\n    // Omit link if we have preview\n    if (omitUrl && omitUrl[omitUrl.length - 1] === '/')\n      omitUrl = omitUrl.substring(0, omitUrl.length - 1);\n    const link = omitUrl && omitUrl === url ? '' : `[${txt}](${prependToUrl}${url}) `;\n    text = text.slice(0, index + offset) + link + text.slice(lastIndex + offset);\n    offset += link.length - (lastIndex - index);\n  });\n  return text;\n}\n\nlinkify.add('@', {\n  validate: (text, pos, self) => {\n    const tail = text.slice(pos);\n\n    if (!self.re.handle) {\n      self.re.handle = new RegExp(\n        '^([a-zA-Z0-9_]){1,15}(?!_)(?=$|' + self.re.src_ZPCc + ')'\n      );\n    }\n    if (self.re.handle.test(tail)) {\n      // Linkifier allows punctuation chars before prefix,\n      // but we additionally disable `@` (\"@@mention\" is invalid)\n      if (pos >= 2 && tail[pos - 2] === '@') {\n        return false;\n      }\n      return tail.match(self.re.handle)[0].length;\n    }\n    return 0;\n  },\n  normalize: match => {\n    isNative\n      ? (match.url = '__user_profile__' + match.url.replace(/^@/, ''))\n      : (match.url = '/user/profile/' + match.url.replace(/^@/, ''));\n  }\n});\n\nlinkify.add('#', {\n  validate: (text, pos, self) => {\n    const tail = text.slice(pos);\n\n    if (!self.re.handle) {\n      self.re.handle = new RegExp(\n        '^([a-zA-Z0-9_]){1,15}(?!_)(?=$|' + self.re.src_ZPCc + ')'\n      );\n    }\n    if (self.re.handle.test(tail)) {\n      // Linkifier allows punctuation chars before prefix,\n      // but we additionally disable `@` (\"@@mention\" is invalid)\n      if (pos >= 2 && tail[pos - 2] === '@') {\n        return false;\n      }\n      return tail.match(self.re.handle)[0].length;\n    }\n    return 0;\n  },\n  normalize: match => {\n    isNative\n      ? (match.url = '__tag_link__' + match.url.replace(/^#/, ''))\n      : (match.url = `/new/` + match.url.replace(/^#/, ''));\n  }\n});\n","import * as types from 'core/actionTypes';\nimport { api, alert } from 'app/utils';\n\nconst Alert = alert.Alert();\n\nexport function addCommunity(community) {\n  return {\n    type: types.ADD_COMMUNITY,\n    payload: community\n  };\n}\n\nexport function modifyCommunity(community) {\n  return {\n    type: types.UPDATE_COMMUNITY,\n    payload: community\n  };\n}\n\nexport function removeCommunity(communitySlug) {\n  return {\n    type: types.REMOVE_COMMUNITY,\n    payload: communitySlug\n  };\n}\n\nexport function setCommunities(communities) {\n  return {\n    type: types.SET_COMMUNITIES,\n    payload: communities\n  };\n}\n\nexport function setCommunityMembers(slug, members) {\n  return {\n    type: types.SET_COMMUNITY_MEMBERS,\n    payload: { slug, members }\n  };\n}\n\n// currently in auth, should move to community\n// export function setCommunity(community) {\n//   return dispatch => {\n//     return dispatch({\n//       type: types.SET_COMMUNITY,\n//       payload: community\n//     });\n//   };\n// }\n\nexport function getCommunityAdmins() {}\n\nexport function setUserMemberships(memberships) {\n  return {\n    type: types.SET_USER_MEMBERSHIPS,\n    payload: memberships\n  };\n}\n\nexport function getCommunityMembers({ slug, skip, limit }) {\n  return async dispatch => {\n    try {\n      const members = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'community',\n          params: { slug, members: 'members' },\n          query: { skip, limit }\n        })\n      );\n      return dispatch(setCommunityMembers(slug, members));\n    } catch (error) {\n      return false;\n    }\n  };\n}\n\nexport function getCommunities() {\n  return async (dispatch, getState) => {\n    const { auth } = getState();\n    try {\n      const res = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'community',\n          user: auth.user\n        })\n      );\n      return dispatch(setCommunities(res));\n    } catch (error) {\n      return false;\n    }\n  };\n}\n\nexport function createCommunity(community) {\n  return async dispatch => {\n    try {\n      const responseJSON = await dispatch(\n        api.request({\n          method: 'POST',\n          endpoint: 'community',\n          body: JSON.stringify(community)\n        })\n      );\n      dispatch(addCommunity(responseJSON));\n      return Alert.alert('Community Created', 'success');\n    } catch (err) {\n      return Alert.alert(err.message);\n    }\n  };\n}\n\nexport function updateCommunity(community) {\n  return async dispatch => {\n    try {\n      const responseJSON = await dispatch(\n        api.request({\n          method: 'PUT',\n          endpoint: `community/${community._id}`,\n          body: JSON.stringify(community)\n        })\n      );\n      dispatch(modifyCommunity(responseJSON));\n      return Alert.alert('Community Updated', 'success');\n    } catch (err) {\n      return Alert.alert(err.message);\n    }\n  };\n}\n\nexport function deleteCommunity(community) {\n  const { slug, _id } = community;\n  return async dispatch => {\n    try {\n      await dispatch(\n        api.request({\n          method: 'DELETE',\n          endpoint: `community/${_id}`\n        })\n      );\n      dispatch(removeCommunity(slug));\n      Alert.alert('Community Removed', 'success');\n      return true;\n    } catch (err) {\n      Alert.alert(err.message);\n      return false;\n    }\n  };\n}\n\nexport function joinCommunity(community) {\n  const { slug, name } = community;\n  return async dispatch => {\n    try {\n      await dispatch(\n        api.request({\n          method: 'PUT',\n          endpoint: `community/${slug}/join`\n        })\n      );\n      return Alert.alert(`Joined Community: ${name}`, 'success');\n    } catch (err) {\n      return Alert.alert(err.message);\n    }\n  };\n}\n\nexport function searchMembers(val, community) {\n  const limit = 50;\n  return async dispatch => {\n    try {\n      const res = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'community',\n          path: `/${community}/members/search`,\n          query: { limit, search: val }\n        })\n      );\n      return res;\n    } catch (err) {\n      return err;\n    }\n  };\n}\n\nexport function checkAuth() {\n  return async (dispatch, getState) => {\n    try {\n      const state = getState();\n      const { community } = state.auth;\n      await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'community',\n          path: `/${community}/checkAuth`\n        })\n      );\n      return null;\n    } catch (err) {\n      return err;\n    }\n  };\n}\n","import React, { useContext } from 'react';\n\nexport const ContractContext = React.createContext(0);\n\nexport function useContract() {\n  const contract = useContext(ContractContext);\n  if (contract && !contract.initialized) contract.init(true);\n  return contract;\n}\n","import React, { useState, useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport loadable from '@loadable/component';\nimport { injectSaga } from 'redux-sagas-injector';\nimport { ReactReduxContext } from 'react-redux';\nimport { ContractContext } from './contract.context';\n\nconst contract = loadable(() => import('./setupStatesauce'));\n\nexport function useContract() {\n  const contractData = useContext(ContractContext);\n  if (!contractData.initialized) contractData.init(true);\n  return contractData;\n}\n\nContractProvider.propTypes = {\n  children: PropTypes.node\n};\n\nexport function ContractProvider({ children }) {\n  const [initialized, setInitialized] = useState(false);\n  const [shouldInit, init] = useState(false);\n  const [instance, setInstance] = useState({});\n  const { store } = useContext(ReactReduxContext);\n\n  useEffect(() => {\n    async function initialize() {\n      const { instance: _instance, web3Sagas, web3Reducers } = await contract.load();\n      const { saga, reducer } = _instance;\n      injectSaga('RelevantToken', saga);\n      injectSaga('web3Sagas', web3Sagas);\n      store.injectReducer('RelevantToken', reducer.RelevantToken);\n      store.injectReducer('web3', web3Reducers);\n      setInstance(_instance);\n      setInitialized(true);\n    }\n    shouldInit && initialize();\n  }, [shouldInit, store]);\n\n  const { actions, tokenAddress, selectors, types } = instance;\n\n  return (\n    <ContractContext.Provider\n      value={{\n        initialized,\n        actions,\n        types,\n        tokenAddress,\n        selectors,\n        init\n      }}\n    >\n      {children}\n    </ContractContext.Provider>\n  );\n}\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, NavLink } from 'react-router-dom';\nimport { colors, mixins } from 'app/styles';\nimport { css } from 'styled-components';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { showModal, goToUrl } from 'modules/navigation/navigation.actions';\nimport { Alert } from 'app/utils/alert';\nimport { TouchableOpacity } from 'react-native';\n\nlet styled;\nlet StyledLink;\nlet StyledNavLink;\nlet StyledA;\nlet DisabledLink;\nlet DisabledLinkText;\nlet DisabledLinkView;\nlet environment = 'web';\n\nconst linkStyles = css`\n  ${p => p.styles}\n  color: ${colors.blue};\n  ${mixins.link}\n  ${mixins.margin}\n  ${mixins.padding}\n  ${mixins.color}\n  :hover * {\n    ${p => (p.hc ? `color: ${p.hc}` : '')}\n    ${p => (p.hu ? 'text-decoration: underline' : '')}\n  }\n`;\n\nif (process.env.WEB !== 'true') {\n  environment = 'native';\n  styled = require('styled-components/primitives').default;\n  StyledLink = styled.Touchable``;\n  DisabledLinkText = styled.Text``;\n  DisabledLinkView = styled.View``;\n} else {\n  styled = require('styled-components').default;\n  StyledLink = styled(Link)`\n    ${linkStyles}\n    ${mixins.cursor}\n  `;\n  StyledNavLink = styled(NavLink)`\n    ${linkStyles}\n    ${mixins.cursor}\n  `;\n  StyledA = styled.a`\n    ${linkStyles}\n  `;\n  DisabledLink = styled.span`\n    ${p => (p.disabled ? `color: ${colors.secondaryText};` : '')}\n    ${linkStyles}\n    ${mixins.cursor}\n  `;\n}\n\nexport class ULinkComponent extends PureComponent {\n  checkAuth = (e, callback) => {\n    const {\n      auth,\n      // actions,\n      authrequired\n    } = this.props;\n    if (!authrequired) {\n      try {\n        callback(e);\n      } catch (err) {\n        // handle err\n      }\n    } else if (authrequired && !auth.isAuthenticated) {\n      e.preventDefault();\n      // TODO: use this in future\n      // actions.showModal('auth');\n      Alert().alert('You must be signed in to do this');\n    } else {\n      try {\n        callback(e);\n      } catch (err) {\n        // handle err\n      }\n    }\n  };\n\n  render() {\n    const {\n      onClick,\n      onPress,\n      to,\n      styles,\n      children,\n      navLink,\n      external,\n      target,\n      disabled,\n      noLink,\n      auth,\n      authrequired,\n      type,\n      hu,\n      inline,\n      actions,\n      ...rest\n    } = this.props;\n\n    // ------ WEB -----------\n    if (environment === 'web') {\n      if (disabled || noLink) {\n        return (\n          <DisabledLink\n            {...rest}\n            hu={hu ? 1 : 0}\n            inline={inline ? 1 : 0}\n            styles={styles || ''}\n          >\n            {children}\n          </DisabledLink>\n        );\n      }\n      if (navLink) {\n        return (\n          <StyledNavLink\n            {...rest}\n            hu={hu ? 1 : 0}\n            inline={inline ? 1 : 0}\n            onClick={e => {\n              this.checkAuth(e, onClick);\n            }}\n            to={to || '#'}\n            styles={styles || ''}\n          >\n            {children}\n          </StyledNavLink>\n        );\n      }\n      if (external) {\n        return (\n          <StyledA\n            {...rest}\n            hu={hu ? 1 : 0}\n            inline={inline ? 1 : 0}\n            onClick={e => {\n              this.checkAuth(e, onClick);\n            }}\n            href={to || '#'}\n            target={target}\n            styles={styles || ''}\n          >\n            {children}\n          </StyledA>\n        );\n      }\n      return (\n        <StyledLink\n          {...rest}\n          hu={hu ? 1 : 0}\n          inline={inline ? 1 : 0}\n          onClick={e => {\n            this.checkAuth(e, onClick);\n          }}\n          to={to}\n          target={target}\n          styles={styles || ''}\n        >\n          {children}\n        </StyledLink>\n      );\n    }\n\n    // ------ NATIVE -----------\n    if (disabled || noLink) {\n      if (type === 'text') {\n        return <DisabledLinkText>{children}</DisabledLinkText>;\n      }\n\n      return <DisabledLinkView flex={1}>{children}</DisabledLinkView>;\n    }\n\n    const pressHandler =\n      external && !onPress ? () => actions.goToUrl(to) : () => onPress();\n\n    // return (\n    //   <StyledLink\n    //     // {...rest}\n    //     to={to || '#'}\n    //     onPress={() => requestAnimationFrame(() => pressHandler())}\n    //     // onPress={this.checkAuth(onPress)}\n    //     // styles={styles || ''}\n    //   >\n    //     {children}\n    //   </StyledLink>\n    // );\n\n    return (\n      <TouchableOpacity\n        // {...rest}\n        style={{ flex: inline ? 0 : 1 }}\n        to={to || '#'}\n        onPress={() => requestAnimationFrame(() => pressHandler())}\n        activeOpacity={0.8}\n        // onPress={this.checkAuth(onPress)}\n      >\n        {children}\n      </TouchableOpacity>\n    );\n  }\n}\n\nULinkComponent.propTypes = {\n  inline: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n  hu: PropTypes.bool,\n  type: PropTypes.string,\n  navLink: PropTypes.bool,\n  children: PropTypes.node,\n  to: PropTypes.string,\n  onPress: PropTypes.func,\n  onClick: PropTypes.func,\n  styles: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  external: PropTypes.bool,\n  target: PropTypes.string,\n  disabled: PropTypes.bool,\n  noLink: PropTypes.bool,\n  auth: PropTypes.object,\n  actions: PropTypes.object,\n  authrequired: PropTypes.bool\n};\n\nexport default connect(\n  state => ({\n    auth: state.auth\n  }),\n  dispatch => ({\n    actions: bindActionCreators(\n      {\n        showModal,\n        goToUrl\n      },\n      dispatch\n    )\n  })\n)(ULinkComponent);\n","import { createBrowserHistory } from 'history';\nimport { isNative } from 'app/styles';\n\nconst isNode = !process.env.BROWSER;\nconst history = !isNative && !isNode && createBrowserHistory();\n\nexport default history;\n","import React from 'react';\nimport { Animated } from 'react-native';\nimport { mediumScreenWidth, smallScreenWidth } from 'app/styles/screens';\n\nexport function transtionConfig() {\n  return {\n    timing: Animated.spring,\n    useNativeDriver: true,\n    speed: 20,\n    bounciness: 0,\n    overshootClamping: true\n  };\n}\n\nexport const getScreenSize = width => {\n  const breakpoints = [mediumScreenWidth, smallScreenWidth];\n  let screenSize = 0;\n  for (let i = 0; i < breakpoints.length; i++) {\n    screenSize = i;\n    if (width > breakpoints[i]) return screenSize;\n  }\n  return screenSize;\n};\n\nexport const withProps = component => {\n  const Comp = component;\n  return navProps => <Comp navigation={navProps.navigation} {...navProps.screenProps} />;\n};\n\nlet _navigator;\n\nexport function setTopLevelNavigator(navigatorRef) {\n  _navigator = navigatorRef;\n}\n\nexport function getNavigator() {\n  return _navigator;\n}\n\nexport function dispatchNavigatorAction(action) {\n  if (!_navigator) return console.warn('TopLevelNavigator not ready!'); // eslint-disable-line\n  return _navigator.dispatch(action);\n}\n\nexport function getCurrentRouteAndTab() {\n  if (!_navigator) return {};\n  let route = _navigator.state.nav;\n  let tab;\n  let tabChildrenCount = 0;\n  while (route.routes) {\n    route = route.routes[route.index];\n    if (tab) tabChildrenCount++;\n    if (route.routeName === 'main') {\n      tab = route.routes[route.index];\n    }\n  }\n  return { route, tab, tabChildrenCount };\n}\n","import {\n  REFRESH_ROUTE,\n  RELOAD_ROUTE,\n  RELOAD_ALL_TABS,\n  SET_SCROLL_TAB,\n  TOGGLE_TOPICS,\n  SCROLL,\n  SHOW_MODAL,\n  HIDE_MODAL,\n  OPEN_WEB_SIDE_NAV,\n  CLOSE_WEB_SIDE_NAV,\n  SET_WIDTH,\n  REGISTER_GESTURE,\n  LOCK_DRAWER\n} from 'core/actionTypes';\nimport { setButtonTooltip } from 'modules/tooltip/tooltip.actions';\nimport { dispatchNavigatorAction, getScreenSize } from 'app/utils/nav';\nimport { setCommunity } from 'modules/auth/auth.actions'; // eslint-disable-line\n\nlet dismissKeyboard;\nlet safariView;\nlet Orientation;\nlet NavigationActions;\nlet StackActions;\nlet DrawerActions;\nlet Linking;\nlet native;\n\nconst isNative = process.env.WEB !== 'true';\n\nif (process.env.WEB !== 'true') {\n  Orientation = require('react-native-orientation');\n  dismissKeyboard = require('react-native-dismiss-keyboard');\n  safariView = require('react-native-safari-view').default;\n  NavigationActions = require('react-navigation').NavigationActions;\n  StackActions = require('react-navigation').StackActions;\n  DrawerActions = require('react-navigation-drawer').DrawerActions;\n  Linking = require('react-native').Linking;\n  native = true;\n}\n\nexport function showAuth() {\n  return dispatch =>\n    isNative\n      ? dispatchNavigatorAction(NavigationActions.navigate({ routeName: 'auth' }))\n      : dispatch(showModal('login'));\n}\n\nexport function lockDrawer(lock) {\n  return {\n    type: LOCK_DRAWER,\n    payload: lock\n  };\n}\n\nexport function showModal(modal, data) {\n  return {\n    type: SHOW_MODAL,\n    payload: {\n      modal,\n      data\n    }\n  };\n}\n\nexport function hideModal(modal) {\n  return {\n    type: HIDE_MODAL,\n    payload: modal\n  };\n}\n\nexport function scrolling(scroll) {\n  return {\n    type: SCROLL,\n    payload: scroll\n  };\n}\n\nexport function registerGesture(gesture) {\n  return {\n    type: REGISTER_GESTURE,\n    payload: gesture\n  };\n}\n\nexport function closeDrawer() {\n  return () => (native ? dispatchNavigatorAction(DrawerActions.closeDrawer()) : null);\n}\n\nexport function push(route) {\n  return dispatch => {\n    if (dismissKeyboard) dismissKeyboard();\n    if (native) {\n      dispatchNavigatorAction(DrawerActions.closeDrawer());\n      dispatchNavigatorAction(\n        NavigationActions.navigate({ routeName: route.key || route, params: route })\n      );\n    }\n    // check if we need this\n    // console.log('c', route.community, route.community !== 'undefined');\n    if (route.community && route.community !== '') {\n      requestAnimationFrame(() => dispatch(setCommunity(route.community)));\n    }\n  };\n}\n\nexport function pop() {\n  return () => {\n    dispatchNavigatorAction(NavigationActions.back());\n  };\n}\n\nexport function replace(key) {\n  return () => {\n    dispatchNavigatorAction(StackActions.replace({ routeName: key }));\n  };\n}\n\nexport function toggleTopics(showTopics) {\n  return {\n    type: TOGGLE_TOPICS,\n    payload: showTopics\n  };\n}\n\nexport function goToTab(tab) {\n  return () => {\n    if (!native) return;\n    dispatchNavigatorAction(DrawerActions.closeDrawer());\n    dispatchNavigatorAction(\n      NavigationActions.navigate({\n        routeName: tab\n      })\n    );\n  };\n}\n\nexport function resetTabs() {\n  return () => {\n    if (!native) return;\n    const resetAction = StackActions.reset({\n      index: 0,\n      actions: [NavigationActions.navigate({ routeName: 'main' })]\n    });\n    dispatchNavigatorAction(resetAction);\n  };\n}\n\nexport function goToTopic(topic) {\n  return dispatch => {\n    dispatchNavigatorAction(\n      NavigationActions.navigate({\n        routeName: 'discover'\n      })\n    );\n\n    dispatch(\n      push({\n        key: 'discoverTag',\n        title: topic.categoryName || topic,\n        back: true,\n        id: topic._id || topic.topic || topic,\n        topic,\n        gestureResponseDistance: 150\n      })\n    );\n    dispatch(toggleTopics(false));\n  };\n}\n\nexport function setScrollTab(type, view) {\n  return {\n    type: SET_SCROLL_TAB,\n    payload: {\n      type,\n      view\n    }\n  };\n}\n\nexport function setWidth(width) {\n  const screenSize = getScreenSize(width);\n  return {\n    type: SET_WIDTH,\n    payload: {\n      width,\n      screenSize\n    }\n  };\n}\n\nexport function refreshTab(key) {\n  return {\n    type: REFRESH_ROUTE,\n    key\n  };\n}\n\nexport function reloadTab(key) {\n  return {\n    type: RELOAD_ROUTE,\n    key\n  };\n}\n\nexport function reloadAllTabs() {\n  return {\n    type: RELOAD_ALL_TABS\n  };\n}\n\nexport function openWebSideNav() {\n  return {\n    type: OPEN_WEB_SIDE_NAV\n  };\n}\n\nexport function closeWebSideNav() {\n  return {\n    type: CLOSE_WEB_SIDE_NAV\n  };\n}\n\nexport function goToPeople(topic) {\n  return push({\n    key: 'peopleView',\n    component: 'peopleView',\n    title: topic ? '#' + topic : 'People',\n    back: true,\n    id: topic + '_people',\n    topic: topic ? { _id: topic.toLowerCase() } : null\n  });\n}\n\nexport function goToUrl(url, id) {\n  return async dispatch => {\n    try {\n      if (url.match('mailto:')) return Linking.openURL(url);\n      dispatch(setButtonTooltip('upvote', id));\n      if (!safariView) return null;\n      await safariView.isAvailable();\n      Orientation.unlockAllOrientations();\n      return safariView.show({\n        url,\n        readerMode: true\n      });\n    } catch (err) {\n      return dispatch(\n        push(\n          {\n            key: 'articleView',\n            component: 'articleView',\n            back: true,\n            uri: url,\n            id: url,\n            gestureResponseDistance: 120\n          },\n          'home'\n        )\n      );\n    }\n  };\n}\n\nexport function goToComments(post, key, animation) {\n  return push(\n    {\n      key: 'comment',\n      title: 'Comments',\n      community: post.data ? post.data.community : post.community,\n      back: true,\n      id: post._id\n    },\n    key,\n    animation\n  );\n}\n\nexport function goToPost(post, openComment) {\n  return push({\n    key: 'singlePost',\n    title: post.title ? post.title : '',\n    back: true,\n    community: post.data ? post.data.community : post.community,\n    id: post._id,\n    comment: post.comment,\n    commentCount: post.commentCount,\n    openComment\n  });\n}\n\nexport function goToProfile(user, key) {\n  const handle = user.handle || user.replace('@', '');\n  return push(\n    {\n      key: 'profile',\n      title: user.name,\n      back: true,\n      id: handle\n    },\n    key\n  );\n}\n\nexport function viewBlocked() {\n  return push({\n    key: 'blocked',\n    title: 'Blocked Users',\n    id: 'blocked',\n    back: true\n  });\n}\n\nexport function viewInvites() {\n  return push({\n    key: 'invites',\n    title: 'Invite Friends',\n    id: 'invites',\n    back: true\n  });\n}\n\nexport function goToInviteList() {\n  return push({\n    key: 'inviteList',\n    title: 'Invite List',\n    id: 'inviteList',\n    back: true\n  });\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport LinearGradient from 'react-native-linear-gradient';\n\nconst bgGradient = [\n  'hsla(240, 70%, 30%, .03)',\n  'hsla(240, 70%, 20%, .08)',\n  'hsla(240, 70%, 10%, .4)',\n  'hsla(240, 70%, 8%, .7)',\n  'hsla(240, 70%, 5%, .6)'\n];\n\nconst previewGradient = [\n  'hsla(240, 70%, 10%, .4)',\n  'hsla(240, 70%, 8%, .7)',\n  'hsla(240, 70%, 5%, .6)'\n];\n\nexport default function Gradient({ title, image, preview }) {\n  const textOverlay = preview ? previewGradient : bgGradient;\n  const colors = image ? textOverlay : generateColors(title);\n\n  const start = image ? { x: 0.5, y: 0.0 } : { x: 0.8, y: 0.0 };\n  const end = image ? { x: 0.5, y: 1.0 } : { x: 0.2, y: 1.0 };\n\n  return <LinearGradient start={start} end={end} colors={colors} style={{ flex: 1 }} />;\n}\n\nfunction generateColors(string) {\n  let color = string ? string.length : 0;\n  color = (color % 220) + 200 || 200;\n  color = Math.max(100, color);\n  return [\n    `hsla(${parseInt(color - 30, 10)}, 100%, 50%, 1)`,\n    `hsla(${parseInt(color, 10)},      100%, 50%, 1)`,\n    `hsla(${parseInt(color + 30, 10)}, 100%, 50%, 1)`\n  ];\n}\n\nGradient.propTypes = {\n  preview: PropTypes.bool,\n  image: PropTypes.bool,\n  title: PropTypes.string\n};\n","import { normalize, schema } from 'normalizr';\nimport * as types from 'core/actionTypes';\nimport { storage, api, alert } from 'app/utils';\nimport * as errorActions from 'modules/ui/error.actions';\nimport * as navigationActions from 'modules/navigation/navigation.actions';\n\nconst Alert = alert.Alert();\n\nconst apiServer = process.env.API_SERVER + '/api/';\nconst userSchema = new schema.Entity('users', {}, { idAttribute: '_id' });\nconst repostSchema = new schema.Entity('posts', { idAttribute: '_id' });\n\nconst linkSchema = new schema.Entity('links', {}, { idAttribute: '_id' });\n// const myVoteSchema = new schema.Entity('myVote', {}, { idAttribute: '_id' });\n\nconst parentPostSchema = new schema.Entity(\n  'posts',\n  {\n    metaPost: linkSchema,\n    user: userSchema\n  },\n  { idAttribute: '_id' }\n);\n\nexport const postSchema = new schema.Entity(\n  'posts',\n  {\n    user: userSchema,\n    repost: { post: repostSchema },\n    metaPost: linkSchema,\n    parentPost: parentPostSchema,\n    commentPost: parentPostSchema\n    // myVote: [myVoteSchema]\n  },\n  { idAttribute: '_id' }\n);\n\nconst feedSchema = new schema.Entity(\n  'posts',\n  {\n    commentary: [postSchema],\n    new: [postSchema],\n    top: [postSchema],\n    twitterFeed: [postSchema],\n\n    user: userSchema,\n    repost: { post: repostSchema },\n    metaPost: linkSchema\n    // twitterCommentary: [postSchema],\n  },\n  {\n    idAttribute: '_id',\n    processStrategy: (value, parent, key) => {\n      value[key] = value.commentary;\n      return value;\n    }\n  }\n);\n\nconst reqOptions = tk => ({\n  credentials: 'include',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${tk}`\n  }\n});\n\n// load 5 posts at a time\nconst DEFAULT_LIMIT = 10;\n\nexport function setUsers(users) {\n  return {\n    type: types.SET_USERS,\n    payload: users\n  };\n}\n\nexport function setUserPosts(data, id, index) {\n  return {\n    type: types.SET_USER_POSTS,\n    payload: {\n      data,\n      id,\n      index\n    }\n  };\n}\n\nexport function setMyPosts(posts) {\n  return {\n    type: 'SET_MY_POSTS',\n    payload: posts\n  };\n}\n\nexport function setRecentPosts(posts) {\n  return {\n    type: types.SET_RECENT_POSTS,\n    payload: posts\n  };\n}\n\nexport function updatePost(post) {\n  return {\n    type: types.UPDATE_POST,\n    payload: post\n  };\n}\n\nexport function updateRelated(related) {\n  return {\n    type: types.SET_RELATED,\n    payload: related\n  };\n}\n\nexport function removePost(post) {\n  return {\n    type: types.REMOVE_POST,\n    payload: post\n  };\n}\n\nexport function postError() {\n  return {\n    type: types.POST_ERROR\n  };\n}\n\nexport function setTopic(data, type, index, topic) {\n  return {\n    type: types.SET_TOPIC_POSTS,\n    payload: {\n      topic: topic._id || topic,\n      data,\n      type,\n      index\n    }\n  };\n}\n\nexport function setPosts(data, type, index) {\n  return {\n    type: types.SET_POSTS,\n    payload: {\n      data,\n      type,\n      index\n    }\n  };\n}\n\nexport function setPostsSimple(data) {\n  return {\n    type: types.SET_POSTS_SIMPLE,\n    payload: { data }\n  };\n}\n\nexport function getFeed(skip, _tag) {\n  if (!skip) skip = 0;\n  const type = 'feed';\n  const limit = DEFAULT_LIMIT;\n  const tag = _tag ? _tag._id : null;\n\n  return dispatch =>\n    dispatch(\n      api.request({\n        method: 'GET',\n        query: { skip, limit, tag },\n        endpoint: 'feed',\n        path: '/'\n      })\n    )\n      .then(res => {\n        const data = normalize({ feed: res }, { feed: [postSchema] });\n        dispatch(setUsers(data.entities.users));\n        dispatch(setPosts(data, type, skip));\n        dispatch(errorActions.setError('read', false));\n      })\n      .catch(err => {\n        // TODO do we need this?\n        if (!err.message.match('Get fail for key: token')) {\n          dispatch(errorActions.setError('read', true, err.message));\n        }\n      });\n}\n\nexport function getTwitterFeed(skip, _tag) {\n  if (!skip) skip = 0;\n  const type = 'twitterFeed';\n  const limit = DEFAULT_LIMIT;\n  const tag = _tag ? _tag._id : null;\n\n  return dispatch =>\n    dispatch(\n      api.request({\n        method: 'GET',\n        query: { skip, limit, tag },\n        endpoint: 'twitterFeed',\n        path: '/'\n      })\n    )\n      .then(res => {\n        const data = normalize({ twitterFeed: res }, { twitterFeed: [feedSchema] });\n        dispatch(setPosts(data, type, skip));\n        dispatch(errorActions.setError('read', false));\n      })\n      .catch(err => {\n        // TODO do we need this?\n        if (!err.message.match('Get fail for key: token')) {\n          dispatch(errorActions.setError('read', true, err.message));\n        }\n      });\n}\n\nexport function deletePost(post, redirect) {\n  return dispatch =>\n    dispatch(\n      api.request({\n        method: 'DELETE',\n        endpoint: 'post',\n        params: { id: post._id }\n      })\n    )\n      .then(() => {\n        dispatch(removePost(post));\n        if (redirect) dispatch(navigationActions.pop());\n      })\n      .catch(null);\n}\n\nexport function clearPosts(type) {\n  return {\n    type: types.CLEAR_POSTS,\n    payload: {\n      type\n    }\n  };\n}\n\nexport function getPostsAction(type) {\n  return {\n    type: 'GET_POSTS',\n    payload: type\n  };\n}\n\nexport function setSelectedPost(id) {\n  return {\n    type: 'SET_SELECTED_POST',\n    payload: id\n  };\n}\n\nexport function setSelectedPostData(post) {\n  return {\n    type: 'SET_SELECTED_POST_DATA',\n    payload: post\n  };\n}\n\nexport function clearSelectedPost() {\n  return {\n    type: 'CLEAR_SELECTED_POST'\n  };\n}\n\n// this function queries the meta posts\nexport function getPosts(skip, tags, sort, limit, community) {\n  let tagsString = '';\n  if (!skip) skip = 0;\n  if (!limit) limit = DEFAULT_LIMIT;\n  if (!sort) sort = null;\n  let tag = null;\n\n  // change this if we want to store top and new in separate places\n  const type = sort ? 'top' : 'new';\n  let topic;\n\n  if (tags && tags.length) {\n    tagsString = tags.map(t => t._id || t).join(', ');\n    tag = tagsString;\n    if (tags.length === 1) topic = tags[0];\n  }\n  const communityParam = community ? { community } : {};\n\n  return async (dispatch, getState) => {\n    try {\n      const { auth } = getState();\n      dispatch(getPostsAction(type));\n      const res = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'communityFeed',\n          query: { skip, sort, limit, tag, ...communityParam },\n          user: auth.user\n        })\n      );\n\n      const dataType = feedSchema;\n      const data = normalize({ [type]: res }, { [type]: [dataType] });\n\n      if (topic) {\n        dispatch(setTopic(data, type, skip, topic));\n      } else dispatch(setPosts(data, type, skip));\n      dispatch(errorActions.setError('discover', false));\n    } catch (err) {\n      dispatch(errorActions.setError('discover', true, err.message));\n    }\n  };\n}\n\nexport function loadingUserPosts() {\n  return {\n    type: 'LOADING_USER_POSTS'\n  };\n}\n\nexport function getUserPosts(skip, limit, userId) {\n  if (!skip) skip = 0;\n  if (!limit) limit = 5;\n  return async dispatch => {\n    dispatch(loadingUserPosts());\n    return dispatch(\n      api.request({\n        method: 'GET',\n        endpoint: 'post/user',\n        params: { id: userId },\n        query: { skip, limit }\n      })\n    )\n      .then(responseJSON => {\n        const data = normalize({ [userId]: responseJSON }, { [userId]: [postSchema] });\n        dispatch(setUsers(data.entities.users));\n        dispatch(setUserPosts(data, userId, skip));\n        dispatch(errorActions.setError('profile', false));\n      })\n      .catch(error => {\n        dispatch(errorActions.setError('profile', true, error.message));\n      });\n  };\n}\n\nexport function addUpdatedComment(comment) {\n  return {\n    type: 'UPDATE_COMMENT',\n    payload: comment\n  };\n}\n\nexport function editPost(post) {\n  return async dispatch => {\n    try {\n      const response = await dispatch(\n        api.request({\n          method: 'PUT',\n          endpoint: 'post',\n          body: JSON.stringify(post)\n        })\n      );\n      dispatch(updatePost(response));\n      return true;\n    } catch (err) {\n      Alert.alert('Post error please try again', err.message);\n      return false;\n    }\n  };\n}\n\nexport function getSelectedPost(postId) {\n  return async (dispatch, getState) => {\n    try {\n      const { auth } = getState();\n      const post = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'post',\n          path: '',\n          params: { id: postId },\n          user: auth.user\n        })\n      );\n      if (!post) {\n        dispatch(removePost(postId));\n      } else {\n        dispatch(updatePost(post));\n      }\n      dispatch(errorActions.setError('singlepost', false));\n      return post;\n    } catch (error) {\n      dispatch(errorActions.setError('singlepost', true, error.message));\n      return false;\n    }\n  };\n}\n\nexport function getRelated(postId) {\n  return async dispatch => {\n    try {\n      const responseJSON = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'metaPost',\n          path: '/related',\n          params: { id: postId }\n        })\n      );\n      dispatch(\n        updateRelated({\n          related: responseJSON,\n          postId\n        })\n      );\n      return responseJSON;\n    } catch (error) {\n      return false;\n    }\n  };\n}\n\nexport function setFeedCount(data) {\n  return {\n    type: types.SET_FEED_COUNT,\n    payload: data\n  };\n}\n\nexport function setSubscriptions(data) {\n  return {\n    type: types.SET_SUBSCRIPTIONS,\n    payload: data\n  };\n}\n\nexport function getSubscriptions() {\n  return dispatch =>\n    storage\n      .getToken()\n      .then(tk =>\n        fetch(`${apiServer}subscription/user`, {\n          ...reqOptions(tk),\n          method: 'GET'\n        })\n      )\n      .then(response => response.json())\n      .then(responseJSON => dispatch(setSubscriptions(responseJSON)))\n      .catch(null);\n}\n\nexport function flag(post) {\n  return dispatch =>\n    storage\n      .getToken()\n      .then(tk =>\n        fetch(`${apiServer}post/flag`, {\n          ...reqOptions(tk),\n          method: 'PUT',\n          body: JSON.stringify({ postId: post._id })\n        })\n      )\n      .then(response => response.json())\n      .then(responseJSON => {\n        Alert.alert('Thank you', 'Flagged posts will be reviewed by the administrators');\n        dispatch(updatePost(responseJSON));\n      })\n      .catch(null);\n}\n\nexport function getPostHtml(post) {\n  return dispatch =>\n    fetch(`${apiServer}post/readable?uri=${post.link}`, {\n      method: 'GET'\n    })\n      .then(response => response.text())\n      .then(html => {\n        dispatch(updatePost({ ...post, html }));\n      })\n      .catch(null);\n}\n\nexport function setTopPosts(data) {\n  return {\n    type: types.SET_TOP_POSTS,\n    payload: data\n  };\n}\n\nexport function getFlaggedPosts(skip) {\n  if (!skip) skip = 0;\n  const type = 'flagged';\n\n  return async dispatch => {\n    try {\n      const flagged = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'post',\n          path: '/flagged',\n          query: { skip, limit: DEFAULT_LIMIT }\n        })\n      );\n      const data = normalize({ [type]: flagged }, { [type]: [postSchema] });\n      dispatch(setPosts(data, type, skip));\n    } catch (err) {\n      Alert.alert(err.message, 'error');\n    }\n  };\n}\n\nfunction shuffleArray(array) {\n  for (let i = array.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [array[i], array[j]] = [array[j], array[i]];\n  }\n  return array;\n}\n\nexport function getTopPosts() {\n  return async dispatch => {\n    try {\n      const topPosts = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'post',\n          path: '/topPosts'\n        })\n      );\n      return dispatch(setTopPosts(shuffleArray(topPosts)));\n    } catch (error) {\n      return false;\n    }\n  };\n}\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport ULink from 'modules/navigation/ULink.component';\nimport { SmallText } from 'modules/styled/uni';\nimport { goToTopic } from 'modules/navigation/navigation.actions';\n\nTag.propTypes = {\n  name: PropTypes.string,\n  community: PropTypes.string,\n  noLink: PropTypes.bool\n};\n\nexport default function Tag({ community, name, noLink, ...rest }) {\n  const filter = useSelector(state => state.navigation.discover.sort);\n  const link = encodeURI(`/${community}/${filter || 'new'}/${name}`);\n  const dispatch = useDispatch();\n  return (\n    <ULink\n      hu\n      type=\"text\"\n      to={link}\n      onClick={e => e.stopPropagation()}\n      onPress={() => dispatch(goToTopic(name))}\n      noLink={noLink}\n      inline={1}\n    >\n      <SmallText inline={1} {...rest}>\n        {'#'}\n        {name}{' '}\n      </SmallText>\n    </ULink>\n  );\n}\n","import React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Tag from 'modules/tag/tag.component';\nimport get from 'lodash/get';\nimport ULink from 'modules/navigation/ULink.component';\nimport { View, Title, SecondaryText } from 'modules/styled/uni';\nimport { colors } from 'app/styles';\nimport { getPostUrl } from 'app/utils/post';\nimport { goToUrl, goToPost } from 'modules/navigation/navigation.actions';\nimport history from 'modules/navigation/history';\n\nPostTitle.propTypes = {\n  mobile: PropTypes.bool,\n  preview: PropTypes.bool,\n  singlePost: PropTypes.bool,\n  children: PropTypes.node,\n  noLink: PropTypes.bool,\n  link: PropTypes.object,\n  post: PropTypes.object,\n  title: PropTypes.string\n};\n\nexport default memo(PostTitle);\n\nfunction PostTitle({ children, post, link, title, noLink, mobile, singlePost, preview }) {\n  const dispatch = useDispatch();\n\n  const currentCommunity = useSelector(state => state.auth.community);\n  const postCommunity = post && post.data && post.data.community;\n  const community = postCommunity || currentCommunity;\n\n  const c = mobile ? colors.white : null;\n\n  if (!post) return null;\n  const titleLines = preview && mobile ? 2 : 3;\n\n  const parentPost = post.parentPost || post;\n  const postUrl = getPostUrl(community, parentPost);\n\n  const titleEl = link ? (\n    <ULink\n      to={post.url}\n      external\n      target={'_blank'}\n      noLink={noLink}\n      onClick={() => history.push(postUrl)}\n      onPress={() => {\n        singlePost\n          ? dispatch(goToUrl(post.url))\n          : dispatch(goToUrl(post.url)) && dispatch(goToPost(post));\n      }}\n    >\n      <Title\n        inline={1}\n        lh={mobile ? 2.7 : null}\n        c={c}\n        flex={1}\n        numberOfLines={titleLines}\n      >\n        {title}\n      </Title>\n    </ULink>\n  ) : (\n    <Title inline={1} c={c} flex={1} numberOfLines={titleLines}>\n      {title}\n    </Title>\n  );\n\n  const hasAuthor = link && link.articleAuthor && link.articleAuthor.length;\n  const authorEl = hasAuthor ? (\n    <SecondaryText c={c} numberOfLines={1} mr={0.5}>\n      {link.articleAuthor.join(', ')} •\n    </SecondaryText>\n  ) : null;\n\n  const domainEl = get(link, 'domain') && (\n    <View fdirection={'row'} numberOfLines={1} align={'flex-end'}>\n      {authorEl}\n      <ULink\n        type=\"text\"\n        external\n        to={post.url}\n        hc={colors.blue}\n        hu\n        target=\"_blank\"\n        disabled={!postUrl}\n        noLink={noLink}\n        onPress={() => dispatch(goToUrl(post.url))}\n      >\n        <SecondaryText c={c || null} inline={1}>\n          {link.domain && `${link.domain}\\u00A0\\u2197\\uFE0E`}\n        </SecondaryText>\n      </ULink>\n    </View>\n  );\n\n  const renderCommentLink = post.commentCount && postUrl;\n  const tags = get(post, 'tags', []);\n\n  return (\n    <View fdirection={'column'} flex={1} justify={mobile ? 'center' : 'flex-start'}>\n      <View>\n        {titleEl}\n        <View mt={mobile ? 1 : 0} c={c}>\n          {domainEl}\n        </View>\n      </View>\n      {renderCommentLink || tags.length ? (\n        <View\n          fdirection={'row'}\n          wrap={'wrap'}\n          align={'flex-end'}\n          h={2}\n          style={{ overflow: 'hidden' }}\n          c={c}\n          mt={mobile ? 1 : 0.5}\n          numberOfLines={mobile ? 1 : null}\n        >\n          <CommentEl post={post} c={c} postUrl={postUrl} noLink={noLink} />\n          <TagEl post={post} c={c} noLink={noLink} community={community} />\n        </View>\n      ) : null}\n      {children}\n    </View>\n  );\n}\n\nCommentEl.propTypes = {\n  post: PropTypes.object,\n  noLink: PropTypes.bool,\n  c: PropTypes.string\n};\n\nexport function CommentEl({ post, noLink, c }) {\n  const dispatch = useDispatch();\n  const parentPost = post.parentPost || post;\n\n  const currentCommunity = useSelector(state => state.auth.community);\n  const postCommunity = post && post.data && post.data.community;\n  const community = postCommunity || currentCommunity;\n  const postUrl = getPostUrl(community, parentPost);\n  if (!post.commentCount) return null;\n\n  return (\n    <ULink\n      type=\"text\"\n      to={postUrl}\n      hu\n      noLink={noLink}\n      onPress={() => dispatch(goToPost(post))}\n      inline={1}\n    >\n      <SecondaryText mr={1} c={c || colors.blue}>\n        {post.commentCount} Comment{post.commentCount > 1 ? 's' : ''}\n      </SecondaryText>\n    </ULink>\n  );\n}\n\nTagEl.propTypes = {\n  post: PropTypes.object,\n  noLink: PropTypes.bool,\n  c: PropTypes.string\n};\n\nexport function TagEl({ noLink, c, post }) {\n  const tags = get(post, 'tags', []);\n  const currentCommunity = useSelector(state => state.auth.community);\n  const postCommunity = post && post.data && post.data.community;\n  const community = postCommunity || currentCommunity;\n\n  if (!tags.length) return null;\n\n  return tags.map(tag => (\n    <Tag\n      name={tag}\n      community={community || (post.data && post.data.community)}\n      key={tag}\n      noLink={noLink}\n      c={c || colors.blue}\n    />\n  ));\n}\n","import React, { memo, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport ULink from 'modules/navigation/ULink.component';\nimport Gradient from 'modules/post/gradient.component';\nimport { ActivityIndicator } from 'react-native-web';\nimport { View, Image } from 'modules/styled/uni';\nimport { getTitle, getFavIcon } from 'app/utils/post';\nimport PostInfoMobile from 'modules/post/postinfo.mobile.component';\nimport { POST_IMAGE_W, POST_IMAGE_H } from 'styles/layout';\nimport PostTitle from './postTitle.component';\n\nPostInfo.propTypes = {\n  noLink: PropTypes.bool,\n  link: PropTypes.object,\n  post: PropTypes.object,\n  singlePost: PropTypes.bool,\n  preview: PropTypes.bool\n};\n\nexport default memo(PostInfo);\n\nfunction PostInfo({ post, link, noLink, singlePost, preview }) {\n  const [showImage, setShowImage] = useState(true);\n  const [showFavIcon, setShowFavIcon] = useState(true);\n  const screenSize = useSelector(state => state.navigation.screenSize);\n\n  if (screenSize)\n    return (\n      <PostInfoMobile\n        preview={preview}\n        post={post}\n        singlePost={singlePost}\n        noLink={noLink}\n        link={link}\n      />\n    );\n\n  if (post.loading) {\n    return (\n      <View>\n        <ActivityIndicator />\n      </View>\n    );\n  }\n  if (!post) return null;\n\n  const imageUrl = get(link, 'image') || null;\n  const favIcon = get(link, 'domain') && getFavIcon(link.domain);\n  const title = getTitle({ post, link });\n\n  const postImage = (\n    <ULink external to={post.url} target=\"_blank\" noLink={noLink}>\n      <View flex={1} w={POST_IMAGE_W} h={POST_IMAGE_H} mr={2}>\n        {showImage && imageUrl ? (\n          <Image\n            flex={1}\n            source={{ uri: imageUrl }}\n            onError={() => setShowImage(false)}\n          />\n        ) : showFavIcon && favIcon ? (\n          <Image\n            resizeMode=\"cover\"\n            flex={1}\n            source={{ uri: favIcon }}\n            onError={() => setShowFavIcon(false)}\n          />\n        ) : (\n          <Gradient flex={1} title={title} />\n        )}\n      </View>\n    </ULink>\n  );\n\n  const postContent = (\n    <View fdirection={['row', 'column']}>\n      {postImage}\n      <PostTitle\n        post={post}\n        link={link}\n        noLink={noLink}\n        title={title}\n        singlePost={singlePost}\n        preview={preview}\n      />\n    </View>\n  );\n\n  if (post.url) return <View>{postContent}</View>;\n  return postContent;\n}\n","import React from 'react';\nimport { ActivityIndicator } from 'react-native';\nimport PropTypes from 'prop-types';\nimport style from 'styled-components/primitives';\n\nconst SpinnerContainer = style.View`\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n`;\n\nexport default function Spinner(props) {\n  return (\n    <SpinnerContainer pointerEvents={'none'}>\n      <ActivityIndicator animating={props.visible} size={props.size || 'large'} />\n    </SpinnerContainer>\n  );\n}\n\nSpinner.propTypes = {\n  visible: PropTypes.bool,\n  size: PropTypes.string\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { colors } from 'app/styles';\nimport CustomSpinner from 'modules/ui/mobile/CustomSpinner.component';\nimport { View, Text, Image, CloseX } from 'modules/styled/uni';\nimport ULink from 'modules/navigation/ULink.component';\n\nexport default class UrlPreviewComponent extends Component {\n  static propTypes = {\n    size: PropTypes.string,\n    image: PropTypes.string,\n    title: PropTypes.string,\n    urlPreview: PropTypes.object,\n    domain: PropTypes.string,\n    noLink: PropTypes.bool,\n    urlMenu: PropTypes.func,\n    remove: PropTypes.bool\n  };\n\n  render() {\n    const {\n      remove,\n      noLink,\n      urlPreview,\n      image,\n      domain,\n      size,\n      title,\n      urlMenu\n    } = this.props;\n    const isSmall = size === 'small';\n    const height = isSmall ? 7 : 10;\n    const imageFlex = isSmall ? 0.35 : 0.4;\n    const fontSize = isSmall ? 1.5 : 2;\n\n    const img = image || (urlPreview && urlPreview.image);\n    const body = title || (urlPreview && urlPreview.title);\n    const domainUrl = domain || (urlPreview && urlPreview.domain);\n\n    const imageEl = img && (\n      <Image\n        resizeMode={'cover'}\n        source={img ? { uri: img } : require('public/img/missing.png')}\n        flex={imageFlex}\n      />\n    );\n\n    const domainEl = domainUrl && (\n      <Text numberOfLines={1} fs={fontSize} c={colors.grey} pt={1 / 4}>\n        from: {domainUrl}\n      </Text>\n    );\n\n    const maxLines = isSmall && domainEl ? 2 : 3;\n\n    return urlPreview ? (\n      <View border>\n        <ULink underlayColor={'transparent'} onPress={urlMenu} to={'#'} disabled={noLink}>\n          <View h={height} align={'stretch'} fdirection={'row'}>\n            {imageEl || null}\n            <View\n              flex={1}\n              p={0.5}\n              fdirection={'column'}\n              justify={'center'}\n              style={{\n                overflow: 'hidden'\n              }}\n            >\n              <Text\n                style={{\n                  overflow: 'hidden'\n                }}\n                maxheight={maxLines * fontSize * 1.33}\n                fs={fontSize}\n                numberOfLines={maxLines}\n                c={colors.grey}\n              >\n                {body}\n              </Text>\n              {domainEl}\n            </View>\n            {remove && (\n              <CloseX\n                w={1.5}\n                h={1.5}\n                m={0.5}\n                opacity={0.5}\n                position={'relative'}\n                resizeMode={'contain'}\n                source={require('public/img/x.png')}\n              />\n            )}\n          </View>\n        </ULink>\n      </View>\n    ) : (\n      <ULink underlayColor={'transparent'} style={{ height }} onPress={urlMenu} to={'#'}>\n        <View h={height} border align={'stretch'} fdirection={'row'} flex={1}>\n          <CustomSpinner size={'small'} visible />\n        </View>\n      </ULink>\n    );\n  }\n}\n","import React, { memo } from 'react';\nimport { useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport ULink from 'modules/navigation/ULink.component';\nimport Gradient from 'modules/post/gradient.component';\nimport styled from 'styled-components/primitives';\nimport { View, Image } from 'modules/styled/uni';\nimport { getFavIcon, getTitle } from 'app/utils/post';\nimport UrlPreview from 'modules/createPost/mobile/urlPreview.component';\nimport { goToUrl } from 'modules/navigation/navigation.actions';\nimport PostTitle from './postTitle.component';\n\nconst GradientContainer = styled(View)`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n`;\n\nconst TitleContainer = styled(View)`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`;\n\nconst IMAGE_HEIGHT = 30;\nconst PREVIEW_HEIGHT = 16;\n\nImagePost.propTypes = {\n  noLink: PropTypes.bool,\n  link: PropTypes.object,\n  post: PropTypes.object,\n  singlePost: PropTypes.bool,\n  preview: PropTypes.bool,\n  goToPost: PropTypes.func\n};\n\nexport default memo(ImagePost);\n\nfunction ImagePost(props) {\n  const dispatch = useDispatch();\n  const { post, link, goToPost, preview, noLink } = props;\n\n  if (!post) return null;\n  const imageUrl = get(link, 'image');\n  const favIcon = get(link, 'domain', null) && getFavIcon(link.domain);\n  const title = getTitle({ post, link });\n  const image = imageUrl || favIcon;\n\n  const imgBg = image && (\n    <View flex={1}>\n      <Image resizeMode=\"cover\" flex={1} source={{ uri: image }} />\n      <GradientContainer>\n        <Gradient flex={1} title={title} image={true} preview={preview} />\n      </GradientContainer>\n    </View>\n  );\n\n  const imageHeight = preview ? PREVIEW_HEIGHT : IMAGE_HEIGHT;\n  const postContent = (\n    <View\n      // shouldRasterizeIOS\n      // renderToHardwareTextureAndroid\n      fdirection={'row'}\n    >\n      <ULink\n        onPress={goToPost || (() => dispatch(goToUrl(post.url)))}\n        external\n        to={post.url}\n        target=\"_blank\"\n        noLink={noLink}\n        style={{ flex: 1 }}\n      >\n        <View h={imageHeight}>{imgBg || <Gradient flex={1} title={title} />}</View>\n      </ULink>\n\n      <TitleContainer fdirection={'row'} p={'0 2 2 2'} pl={preview ? 2 : 0}>\n        <PostTitle ml={2} {...props} title={title} mobile />\n      </TitleContainer>\n    </View>\n  );\n\n  if (preview) {\n    return (\n      <UrlPreview\n        size=\"small\"\n        urlPreview={link || post}\n        title={title}\n        image={image}\n        noLink={noLink}\n      />\n    );\n  }\n\n  if (post.url) return <View>{postContent}</View>;\n  return postContent;\n}\n","import React, { useState, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components/primitives';\nimport { mixins, layout, fonts, colors, sizing, size, isNative } from 'app/styles';\nimport { abbreviateNumber } from 'utils/numbers';\nimport { TouchableOpacity } from 'react-native';\nimport ULink from 'modules/navigation/ULink.component';\n\nexport const Touchable = TouchableOpacity;\n\nexport const Box = styled.View`\n  ${mixins.margin}\n  ${mixins.padding}\n`;\n\nexport const View = styled.View`\n  ${mixins.margin}\n  ${mixins.padding}\n  ${mixins.flex}\n  ${mixins.font}\n  ${mixins.background}\n  ${mixins.border}\n  ${mixins.width}\n  ${mixins.height}\n  ${mixins.zIndex}\n  ${mixins.borderRadius}\n`;\n\nexport const AbsoluteView = styled.View`\n  position: absolute;\n  ${mixins.position}\n`;\n\nexport const Text = styled.Text`\n  ${mixins.margin}\n  ${mixins.padding}\n  ${mixins.flex}\n  ${mixins.font}\n  ${mixins.background}\n  ${mixins.border}\n  ${mixins.color}\n  ${mixins.height}\n`;\n\nexport const InlineText = styled.Text`\n  ${mixins.margin}\n  ${mixins.padding}\n  ${mixins.font}\n  ${mixins.color}\n`;\n\nexport const Image = styled.Image`\n  ${mixins.margin}\n  ${mixins.height}\n  ${mixins.width}\n  ${mixins.padding}\n  ${mixins.background}\n  ${mixins.borderRadius}\n  ${mixins.flex}\n`;\n\nexport const ImageWrapper = styled.View`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  ${mixins.margin}\n  ${mixins.flex}\n`;\n\nexport const FormImage = props => <Image {...props} {...layout.formImageProps} />;\n\nexport const Divider = styled.View`\n  ${mixins.margin}\n  ${mixins.padding}\n  ${p => {\n    if (p.screenSize && p.screenSize > 0) {\n      return `\n        height: ${sizing(4)};\n        background-color: ${colors.dividerBg};\n      `;\n    }\n    return layout.universalBorder('bottom');\n  }}\n`;\n\nexport const MobileDivider = styled(View)`\n  height: ${sizing(4)};\n  background-color: ${colors.dividerBg};\n`;\n\nexport const Header = styled.Text`\n  ${fonts.header}\n  ${mixins.color}\n  ${mixins.margin}\n`;\n\nexport const Highlight = styled.Text`\n  ${fonts.highlight}\n  ${mixins.color}\n  ${mixins.margin}\n`;\n\nexport const Title = styled.Text`\n  ${fonts.title}\n  ${mixins.color}\n  ${mixins.font}\n  ${mixins.flex}\n  ${mixins.margin}\n`;\n\nexport const LinkFont = styled.Text`\n  ${fonts.link}\n  ${mixins.link}\n  ${mixins.font}\n  ${mixins.color}\n ${mixins.margin}\n  ${() => (!isNative ? 'user-select: none; cursor: pointer;' : '')}\n`;\n\nexport const CTALink = styled.Text`\n  ${fonts.CTALink}\n  ${mixins.link}\n  ${mixins.color}\n  ${mixins.font}\n  ${mixins.margin}\n`;\n\nexport const SecondaryText = styled.Text`\n  ${fonts.secondaryText}\n  ${mixins.color}\n  ${mixins.font}\n ${mixins.margin}\n`;\n\nexport const SmallText = styled.Text`\n  ${fonts.secondaryText}\n  color: ${colors.black};\n  ${mixins.color}\n  ${mixins.font}\n ${mixins.margin}\n`;\n\nexport const AltLink = styled.Text`\n  ${fonts.altLink}\n  ${mixins.color}\n  ${mixins.font}\n  ${mixins.margin}\n`;\n\nexport const CommunityLink = styled.Text`\n  ${fonts.communityLink}\n  ${mixins.color}\n  ${mixins.font}\n  ${mixins.margin}\n`;\n\nexport const CommentText = styled.Text`\n  ${fonts.commentText}\n  ${mixins.color}\n  ${mixins.font}\n  z-index: 1;\n`;\n\nexport const BodyText = styled.Text`\n  ${fonts.bodyStyle}\n  ${mixins.color}\n  ${mixins.font}\n  ${mixins.margin}\n`;\n\nexport const StaticButton = styled(View)`\n  ${layout.button}\n  ${p =>\n    p.disabled\n      ? `\n      background: ${colors.grey};\n    & > div {\n      color: ${colors.white};\n    }\n    `\n      : ''};\n  ${mixins.width}\n  ${mixins.height}\n  ${mixins.margin}\n  ${mixins.background}\n  ${mixins.padding}\n  ${mixins.border}\n  ${mixins.borderRadius}\n  ${p => (p.hover && !p.active && !p.disabled ? layout.activeButtonShadow : '')}\n  ${() => (!isNative ? 'user-select: none; cursor: pointer;' : '')}\n`;\n\nexport const ButtonText = styled.Text`\n  ${layout.buttonFont}\n  ${mixins.color}\n`;\n\nHB.propTypes = {\n  children: PropTypes.node,\n  onPress: PropTypes.func,\n  onClick: PropTypes.func\n};\n\nexport const HoverButton = memo(HB);\n\nfunction HB({ children, onPress, onClick, ...rest }) {\n  const [hover, setHover] = useState(0);\n  const [active, setActive] = useState(0);\n  const isString = typeof children === 'string';\n  const isArray = typeof children === 'object' && children.length;\n  const isTextArray = isArray && children.find(el => typeof el === 'string');\n  const renderString =\n    !children || (!isArray && !children.$$typeof) || isTextArray || isString;\n  return (\n    <TouchableOpacity onClick={onClick} onPress={onPress}>\n      <StaticButton\n        hover={hover}\n        active={active}\n        onMouseDown={() => setActive(1)}\n        onMouseUp={() => setActive(0)}\n        onMouseEnter={() => setHover(1)}\n        onMouseLeave={() => {\n          setHover(0);\n          setActive(0);\n        }}\n        {...rest}\n      >\n        {renderString ? <ButtonText {...rest}>{children}</ButtonText> : children}\n      </StaticButton>\n    </TouchableOpacity>\n  );\n}\n\nexport const Button = memo(HB);\n\nButtonWithIcon.propTypes = {\n  text: PropTypes.string,\n  image: PropTypes.node\n};\n\nexport function ButtonWithIcon({ text, image, ...rest }) {\n  return (\n    <ViewButton fdirection={'row'} {...rest}>\n      {image}\n      <ButtonText>{text}</ButtonText>\n    </ViewButton>\n  );\n}\n\nexport const ViewButton = styled(View)`\n  ${layout.button}\n  ${() => (!isNative ? 'cursor: pointer;' : '')}\n  ${p =>\n    p.disabled\n      ? `\n    background: ${colors.grey};\n    `\n      : ''};\n  ${mixins.background}\n  ${mixins.padding}\n  ${mixins.margin}\n`;\n\nexport const Tag = styled(Text)`\n  ${layout.tag}\n  ${p =>\n    p.disabled\n      ? `\n    color: ${colors.grey};\n    background: ${colors.secondaryBG};\n    `\n      : ''};\n  ${mixins.background}\n  ${mixins.padding}\n  ${mixins.margin}\n  ${mixins.color}\n`;\n\nexport const NumericalValue = styled(Text)`\n  ${fonts.numericalValue}\n  ${mixins.width}\n  ${mixins.font}\n  ${mixins.inheritfont}\n  ${mixins.color}\n`;\n\nexport const BigNumber = styled(NumericalValue)`\n  ${fonts.bigNumber}\n`;\n\nexport const Spacer = styled(View)`\n  flex-direction: row;\n  position: relative;\n  ${p => {\n    if (Number.isInteger(p.nestingLevel) || Number.isInteger(p.additionalNesting)) {\n      const total = (p.nestingLevel || 0) + (p.additionalNesting || 0);\n      const UNIT = p.screenSize > 0 ? layout.NESTING_UNIT_RESONSIVE : layout.NESTING_UNIT;\n      if (!total * UNIT) {\n        return '';\n      }\n      return `padding-left: ${sizing((total - (p.screenSize > 0 ? 1 : 0)) * UNIT)};`;\n    }\n    return '';\n  }}\n  flex-grow: 1;\n  ${mixins.flex}\n`;\n\nexport const CloseX = styled(Image)`\n  position: absolute;\n  ${p => (p.position ? `position: ${p.position};` : null)}\n  ${p => (p.top ? `top: ${size(p.top)};` : null)}\n  ${p => (p.right ? `right: ${size(p.right)};` : null)}\n  ${() => (!isNative ? 'user-select: none; cursor: pointer;' : '')}\n  z-index: 10;\n`;\n\nexport const Warning = styled(SmallText)`\n  color: ${colors.warning};\n`;\n\nexport const Overlay = styled(View)`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: ${colors.modalBackground};\n`;\n\n// export const Badge = styled(View)`\n//   border-radius: 100%;\n//   align-items: center;\n//   justify-content: center;\n//   display: flex;\n//   flex-direction: row;\n// `;\nBadge.propTypes = {\n  color: PropTypes.string,\n  textColor: PropTypes.string,\n  h: PropTypes.number,\n  children: PropTypes.node,\n  number: PropTypes.number\n};\n\nexport function Badge({ color, textColor, h, children, number, ...styles }) {\n  if (!number) return null;\n  return (\n    <View\n      minwidth={h || 1.75}\n      p={'0 0.5'}\n      h={h || 1.75}\n      bradius={(h || 1.75) / 2}\n      align={'center'}\n      justify={'center'}\n      bg={color || colors.blue}\n      {...styles}\n    >\n      <NumericalValue fs={1.25} lh={h || 1.75} c={textColor || colors.white}>\n        {abbreviateNumber(number)}\n      </NumericalValue>\n    </View>\n  );\n}\n\nexport const Err = styled(Text)`\n  color: ${colors.red};\n`;\n\nEthAddress.propTypes = {\n  address: PropTypes.object\n};\n\nexport function EthAddress({ address }) {\n  if (!address) return null;\n  return (\n    <ULink to={`https://etherscan.io/address/${address}`} target=\"_blank\" external>\n      {address.slice(0, 6) + '...' + address.slice(address.length - 4, address.length)}\n    </ULink>\n  );\n}\n\nexport const ErrorBox = ({ children, ...styleProps }) => (\n  <View mt={2} p={2} bg={colors.errorA} border bc={colors.error} {...styleProps}>\n    {children}\n  </View>\n);\n\nexport const WarningBox = ({ children, ...styleProps }) => (\n  <View mt={2} p={2} bg={colors.warningA} border bc={colors.warning} {...styleProps}>\n    {children}\n  </View>\n);\n\nErrorBox.propTypes = {\n  children: PropTypes.node\n};\n\nWarningBox.propTypes = {\n  children: PropTypes.node,\n  styleProps: PropTypes.object\n};\n","import {\n  SHOW_TOOLTIP,\n  SET_TOOLTIP_DATA,\n  TOOLTIP_READY,\n  SET_BUTTON_TOOLTIP\n} from 'core/actionTypes';\n\nexport function setButtonTooltip(type, id) {\n  return {\n    type: SET_BUTTON_TOOLTIP,\n    payload: { id, type }\n  };\n}\n\nexport function tooltipReady(ready) {\n  return {\n    type: TOOLTIP_READY,\n    payload: ready\n  };\n}\n\nexport function setTooltipData(data) {\n  return {\n    type: SET_TOOLTIP_DATA,\n    payload: data\n  };\n}\n\nexport function showTooltip(name) {\n  return {\n    type: SHOW_TOOLTIP,\n    payload: name\n  };\n}\n\nexport function createToggleAction(name, el) {\n  return dispatch => {\n    if (!el) return;\n    el.measureInWindow((x, y, w, h) => {\n      const parent = { x, y, w, h };\n      if (x + y + w + h === 0) return;\n      dispatch(\n        setTooltipData({\n          name,\n          parent\n        })\n      );\n      dispatch(showTooltip(name));\n    });\n  };\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport PostInfo from 'modules/post/postinfo.component';\nimport ULink from 'modules/navigation/ULink.component';\n\nconst EarningTooltip = props => {\n  const { earning, posts, navigation, auth } = props;\n  const postId = earning.post;\n  const post = posts.posts[postId];\n  if (!post) {\n    return <div>No Post</div>;\n  }\n  let link;\n  if (post && post.metaPost) {\n    link = posts.links[post.metaPost];\n  }\n  return (\n    <div>\n      <ULink\n        to={`/${earning.community}/post/${post.parentPost ? post.parentPost : post._id}`}\n      >\n        <PostInfo\n          link={link}\n          post={post}\n          community={earning.community}\n          noLink\n          navigation={navigation}\n          auth={auth}\n        />\n      </ULink>\n    </div>\n  );\n};\n\nEarningTooltip.propTypes = {\n  earning: PropTypes.object,\n  posts: PropTypes.object,\n  navigation: PropTypes.object,\n  auth: PropTypes.object\n};\n\nfunction mapStateToProps(state) {\n  return {\n    posts: state.posts,\n    navigation: state.navigation,\n    auth: state.auth\n  };\n}\n\n// const mapDispatchToProps = dispatch => ({\n// });\n\nexport default connect(\n  mapStateToProps\n  // mapDispatchToProps\n)(EarningTooltip);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactTooltip from 'react-tooltip';\nimport EarningTooltip from 'modules/tooltip/web/postEarningTooltip.component';\n// import styled from 'styled-components';\nimport { BodyText, Title, View } from 'modules/styled/uni';\nimport { colors } from 'app/styles';\n\nconst TextTooltipComponent = ({ text, title }) => (\n  <View maxWidth={32} flex={1} fdirection={'column'}>\n    {title ? (\n      <Title c={colors.white} mb={1}>\n        {title}\n      </Title>\n    ) : null}\n    {text ? (\n      <BodyText c={colors.white} flex={1}>\n        {text}\n      </BodyText>\n    ) : null}\n  </View>\n);\n\nTextTooltipComponent.propTypes = {\n  text: PropTypes.string,\n  title: PropTypes.string\n};\n\nconst TOOLTIPS = {\n  POST: {},\n  EARNING: EarningTooltip,\n  TEXT: TextTooltipComponent\n};\n\n// const StyledReactTooltip = styled(ReactTooltip)`\n//   pointer-events: auto !important;\n//   &.show  {\n//     opacity: 1; !important;\n//   }\n//   /*\n//   background-color: ${colors.white} !important;\n//   box-shadow: 0 0 5px 2px #ccc;*/\n//   box-shadow: 0px 2px 10px 0px ${colors.grey};\n//   border-radius: 0 !important;\n//   /* &:after {\n//     display: none !important;\n//   } */\n//   padding: ${sizing(1.5)};\n//   max-width: ${sizing(60)};\n//   max-height: none !important;;\n//   height: auto !important;;\n//   display: flex;\n//   flex: 1;\n//   z-Index: 10000;\n// `;\n\nexport const TextTooltip = ({ id, type, ...rest }) => (\n  <ReactTooltip\n    className=\"reactTooltip\"\n    id={id}\n    effect=\"solid\"\n    type={type || 'light'}\n    // delayHide={100}\n    getContent={dataTip => {\n      const data = JSON.parse(dataTip);\n      if (!data) return null;\n\n      const { type, props } = data; // eslint-disable-line\n      if (!TOOLTIPS[type]) return null;\n\n      const TT = TOOLTIPS[type];\n      return <TT {...props} />;\n    }}\n    {...rest}\n  />\n);\n\nTextTooltip.propTypes = {\n  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  type: PropTypes.string\n};\n\n// export const CustomTooltip = ({ id, type }) => (\n//   <StyledReactTooltip\n//     className='reactTooltip'\n//     id={id}\n//     effect=\"solid\"\n//     type={type || 'light'}\n//     delayHide={100}\n//     getContent={dataTip => {\n//       const data = JSON.parse(dataTip);\n//       if (!data) return null;\n\n//       const { type, props } = data; // eslint-disable-line\n//       if (!TOOLTIPS[type]) return null;\n\n//       const TT = TOOLTIPS[type];\n//       return <TT {...props} />;\n//     }}\n//   />\n// );\n\n// CustomTooltip.propTypes = {\n//   id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n//   type: PropTypes.string\n// };\n","import * as types from 'core/actionTypes';\nimport * as utils from 'app/utils';\n\nconst Alert = utils.alert.Alert();\n\nexport function setError(type, bool, message) {\n  if (message) Alert.alert(message);\n  return {\n    type: types.SET_ERROR,\n    payload: {\n      type,\n      bool\n    }\n  };\n}\n","import React from 'react';\nimport loadable from '@loadable/component';\nimport OnboardingModal from 'modules/ui/web/onboardingModal';\n\nconst SettingsModal = loadable(() =>\n  import('modules/profile/web/settingsModal.container')\n);\nconst InviteModal = loadable(() => import('modules/invites/web/inviteModal.container'));\nconst InviteModalTitle = loadable(() =>\n  import('modules/invites/inviteModalTitle.component')\n);\nconst GetTokensModal = loadable(() =>\n  import('modules/getTokens/web/getTokensModal.container')\n);\nconst CommunityMembers = loadable(() =>\n  import('modules/community/web/communityMembers.component')\n);\nconst CommunityMembersTitle = loadable(() =>\n  import('modules/community/communityMembersTitle.component')\n);\nconst ResetPassword = loadable(() => import('modules/auth/web/resetPassword.component'));\nconst LoginForm = loadable(() => import('modules/auth/web/login'));\nconst Forgot = loadable(() => import('modules/auth/web/forgot.component'));\nconst SignupSocial = loadable(() => import('modules/auth/web/signupSocial'));\nconst SignupEmail = loadable(() => import('modules/auth/web/profile.form'));\nconst SetHandle = loadable(() => import('modules/auth/web/handle.component'));\nconst ConfirmEmail = loadable(() => import('modules/auth/web/confirmEmail.component'));\nconst BetBody = loadable(() => import('modules/post/bet/bet'));\nconst CashOutModal = loadable(() => import('modules/wallet/web/cashOutModal'));\nconst Signup3Box = loadable(() => import('modules/auth/web/signup3Box'));\nconst LinkMobile = loadable(() => import('modules/profile/web/linkMobile'));\n\nconst ConnectMetamaskModal = loadable(() =>\n  import('modules/wallet/web/connectMetamaskModal')\n);\n\nconst CommunitySettings = loadable(() =>\n  import('modules/admin/web/communityAdminForm.component')\n);\nconst CreatePost = loadable(() => import('modules/createPost/createPost.container'));\nconst ModalHeader = loadable(() =>\n  import('modules/createPost/web/createPostModal.header')\n);\n\nexport const linkMobile = {\n  Body: LinkMobile,\n  maxWidth: [52, 40]\n};\n\nexport const signup3Box = {\n  Body: Signup3Box\n};\n\nexport const newpost = {\n  header: <ModalHeader />,\n  Body: CreatePost\n};\n\nexport const cashOut = {\n  Body: CashOutModal\n};\n\nexport const connectMetamask = {\n  Body: ConnectMetamaskModal\n};\n\nexport const investModal = {\n  Body: BetBody,\n  maxWidth: [52, 40]\n};\n\nexport const onboarding = {\n  title: 'Welcome To Relevant',\n  Body: OnboardingModal,\n  footer: () => {}\n};\n\nexport const settings = {\n  title: 'Settings',\n  Body: SettingsModal,\n  footer: () => {}\n};\n\nexport const communitySettings = {\n  title: 'Community Settings',\n  Body: CommunitySettings\n};\n\nexport const invite = {\n  title: <InviteModalTitle />,\n  Body: InviteModal,\n  footer: () => {}\n};\n\nexport const getTokens = {\n  title: 'Get Tokens',\n  Body: GetTokensModal,\n  footer: () => {}\n};\n\nexport const communityMembers = {\n  title: <CommunityMembersTitle />,\n  Body: CommunityMembers,\n  footer: () => {}\n};\n\nexport const resetPassword = {\n  title: 'Reset Password',\n  Body: ResetPassword,\n  redirect: '/user/login'\n};\n\nexport const login = {\n  title: 'Sign In',\n  Body: LoginForm,\n  footer: () => {}\n};\n\nexport const forgot = {\n  title: 'Recover Password',\n  Body: Forgot,\n  redirect: '/user/login'\n};\n\nexport const signupSocial = {\n  title: 'Join the Community',\n  Body: SignupSocial\n};\n\nexport const signupEmail = {\n  title: 'Join the Community',\n  Body: SignupEmail\n};\n\nexport const setHandle = {\n  title: 'Set your Handle',\n  Body: SetHandle\n};\n\nexport const confirm = {\n  title: 'Confirm Your Email',\n  Body: ConfirmEmail\n};\n","import React, { useEffect, useRef, useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport styled from 'styled-components/primitives';\nimport { View, Header, Touchable, CloseX } from 'modules/styled/uni';\nimport { colors, layout } from 'app/styles';\nimport { hideModal } from 'modules/navigation/navigation.actions';\nimport { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';\n\nconst DEFAULT_WIDTH = 95;\nconst DEFAULT_PADDING = 6;\n\nconst ModalParent = styled.View`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  max-width: 100vw;\n  height: 100vh;\n  background-color: ${colors.modalBackground};\n  z-index: 200;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch;\n`;\n\nconst ModalScroll = styled.View`\n  position: relative;\n  display: flex;\n  align-items: center;\n  min-height: 100vh;\n  justify-content: center;\n`;\n\nconst Modal = styled(View)`\n  z-index: 5;\n  ${layout.modalShadow}\n  max-width: 100vw;\n`;\n\nModalComponent.propTypes = {\n  header: PropTypes.object,\n  title: PropTypes.oneOfType([PropTypes.node, PropTypes.string]),\n  hideX: PropTypes.bool,\n  children: PropTypes.node,\n  footer: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  maxWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.array]),\n  padding: PropTypes.number,\n  close: PropTypes.func\n};\n\nfunction ModalComponent(props) {\n  const { footer, children, hideX, maxWidth, padding, header, title } = props;\n\n  const dispatch = useDispatch();\n  const close = props.close || (() => dispatch(hideModal()));\n\n  const modalElement = useRef(null);\n\n  const headerEl = header || title;\n  const footerEl = typeof footer === 'function' ? footer(props) : footer;\n\n  useEffect(() => {\n    const el = modalElement.current;\n    disableBodyScroll(el);\n    return () => enableBodyScroll(el);\n  }, [modalElement]);\n\n  const closeModal = useCallback(() => close(), [close]);\n\n  useEffect(() => {\n    const escFunction = e => (e.keyCode === 27 ? closeModal() : null);\n    document.addEventListener('keydown', escFunction, false);\n    return () => document.removeEventListener('keydown', escFunction, false);\n  }, [closeModal]);\n\n  const p = padding || [DEFAULT_PADDING, '6 3'];\n\n  return (\n    <ModalParent onClick={closeModal} ref={modalElement}>\n      <ModalScroll ignoreScrollLock>\n        <Modal\n          ignoreScrollLock\n          bg={colors.white}\n          w={maxWidth || [DEFAULT_WIDTH, '100vw']}\n          p={p}\n          justify={['space-between', 'center']}\n          fdirection=\"column\"\n          m={['6 0', '0']}\n          minheight={['auto', maxWidth ? 'auto' : '100vh']}\n          onClick={e => e.stopPropagation()}\n        >\n          {hideX ? null : (\n            <Touchable\n              onPress={closeModal}\n              style={{ zIndex: 10, position: 'absolute', top: 0, right: 0 }}\n            >\n              <CloseX\n                w={2.5}\n                h={2.5}\n                top={[6, 4]}\n                right={[6, 3]}\n                resizeMode={'contain'}\n                source={require('public/img/x.png')}\n              />\n            </Touchable>\n          )}\n          {headerEl ? (\n            <Header pr={5} mb={3} shrink={1}>\n              {headerEl}\n            </Header>\n          ) : null}\n          {children}\n          {footerEl && <View mt={6}>{footerEl}</View>}\n        </Modal>\n      </ModalScroll>\n    </ModalParent>\n  );\n}\n\nexport default props => {\n  const modal = useSelector(state => state.navigation.modal);\n  const { name } = props;\n  const visible = name && name === modal;\n  return visible && document\n    ? ReactDOM.createPortal(<ModalComponent {...props} />, document.body)\n    : null;\n};\n","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { showModal, hideModal } from 'modules/navigation/navigation.actions';\nimport Modal from 'modules/ui/modals/modal.component';\nimport queryString from 'query-string';\nimport { withRouter } from 'react-router-dom';\nimport * as modals from './desktop.lookup';\n\nModalContainer.propTypes = {\n  location: PropTypes.object,\n  history: PropTypes.object\n};\n\nconst isBrowser = process.env.BROWSER === true;\n\nfunction ModalContainer({ location, history }) {\n  const dispatch = useDispatch();\n  const { modal: currentModal, modalData } = useSelector(state => state.navigation);\n  const urlParams = queryString.parse(location.search);\n  const { modal, modalParams } = urlParams;\n\n  useEffect(() => {\n    if ((!modal && currentModal) || (modal && currentModal && modal !== currentModal)) {\n      const qString = queryString.stringify({\n        ...urlParams,\n        modal: currentModal,\n        modalParams: JSON.stringify(modalData)\n      });\n      history.push({ search: qString });\n    }\n  }, [currentModal]); // eslint-disable-line\n\n  useEffect(() => {\n    if (!currentModal && modal && isBrowser) {\n      const params = modalParams ? JSON.parse(modalParams) : null;\n      dispatch(showModal(modal, params));\n    }\n    if (currentModal && !modal) dispatch(hideModal());\n  }, [modal]); // eslint-disable-line\n\n  if (!isBrowser) return null;\n\n  const modalEl = !!currentModal && modals[modal];\n  if (!modalEl) return null;\n\n  const { Body, redirect, ...rest } = modalEl;\n\n  const close = () => {\n    dispatch(hideModal());\n    closeModal(redirect, history, location);\n  };\n\n  return (\n    <Modal close={close} name={currentModal} {...rest}>\n      <Body close={close} />\n    </Modal>\n  );\n}\n\nfunction closeModal(redirect, history, location) {\n  const queryParams = queryString.parse(location.search);\n  if (queryParams.redirect) {\n    history.push(queryParams.redirect);\n  } else if (redirect) {\n    history.push(redirect);\n  } else {\n    history.push(location.pathname);\n  }\n}\n\nexport default withRouter(ModalContainer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { View, Text, Title, Button, ImageWrapper, Image } from 'modules/styled/uni';\nimport { colors } from 'app/styles';\n\nconst coin = require('public/img/relevantcoin.png');\nconst upvote = require('public/img/upvote.png');\n\nconst OnboardingModal = props => (\n  <View>\n    <ImageWrapper mt={6}>\n      <Image\n        resizeMode={'contain'}\n        w={2.8}\n        h={2.8}\n        mr={0.75}\n        source={require('public/img/r-emoji.png')}\n      />\n      <Title>Build Trust</Title>\n    </ImageWrapper>\n    <Text fs={1.75} mt={1}>\n      Boost your Reputation by posting quality comments. As your Reputation grows so does\n      your voting impact, and your earnings. The most reputable users become community\n      leaders.\n    </Text>\n\n    <ImageWrapper mt={6}>\n      <Image resizeMode={'contain'} w={2.8} h={2.8} mr={0.75} source={upvote} />\n      <Title>Curate Content</Title>\n    </ImageWrapper>\n    <Text fs={1.75} c={colors.black} mt={1}>\n      Share links, upvote quality content and downvote spam.\n    </Text>\n\n    <ImageWrapper mt={6}>\n      <Image resizeMode={'contain'} w={2.8} h={2.8} mr={0.75} source={coin} />\n      <Title>Get Rewards</Title>\n    </ImageWrapper>\n\n    <Text fs={1.75} mt={1}>\n      Earn coins for upvoting quality links. Coins can be traded in for Relevant Tokens\n      that represent ownership in the platform.\n    </Text>\n    <View align={'flex-start'} mt={3}>\n      <Button onPress={() => props.close()}>Got It</Button>\n    </View>\n  </View>\n);\n\nOnboardingModal.propTypes = {\n  close: PropTypes.func\n};\n\nexport default OnboardingModal;\n","import { normalize, schema } from 'normalizr';\nimport * as types from 'core/actionTypes';\nimport { api } from 'app/utils';\nimport { postSchema, setPostsSimple } from 'modules/post/post.actions';\nimport { updateAuthUser } from 'modules/auth/auth.actions';\n\nconst earningSchema = new schema.Entity(\n  'earnings',\n  {\n    post: postSchema\n  },\n  { idAttribute: '_id' }\n);\n\nexport function setEarnings({ data, status, skip }) {\n  return {\n    type: types.SET_EARNINGS,\n    payload: { data, status, skip }\n  };\n}\n\nexport function addEarning(earning) {\n  return {\n    type: types.ADD_EARNING,\n    payload: earning\n  };\n}\n\nexport function updateEarning(earning) {\n  return {\n    type: types.UPDATE_EARNING,\n    payload: earning\n  };\n}\n\nexport function getEarnings(status, limit, skip) {\n  return async dispatch => {\n    try {\n      const earnings = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'earnings',\n          query: {\n            status,\n            limit,\n            skip\n          }\n        })\n      );\n      const data = normalize(earnings, [earningSchema]);\n      dispatch(setEarnings({ data, status, skip }));\n      dispatch(setPostsSimple(data));\n      return true;\n    } catch (error) {\n      return false;\n    }\n  };\n}\n\nexport function updateCashoutLog(_id) {\n  return async dispatch => {\n    try {\n      const { user, earning } = await dispatch(\n        api.request({\n          method: 'PUT',\n          endpoint: 'earnings',\n          params: { _id }\n        })\n      );\n      dispatch(updateAuthUser(user));\n      dispatch(updateEarning(earning));\n      return true;\n    } catch (err) {\n      return false;\n    }\n  };\n}\n","const codes = `\n  .markdow-body {\n    flex: 1;\n  }\n  .markdown-body code {\n    padding: .2em .4em;\n    margin: 0;\n    font-size: 100%;\n    background-color: rgba(27,31,35,.05);\n    border-radius: 3px;\n  }\n\n  .markdown-body pre {\n    word-wrap: normal;\n  }\n\n  .markdown-body pre>code {\n    padding: 0;\n    margin: 0;\n    font-size: 100%;\n    word-break: normal;\n    white-space: pre;\n    background: transparent;\n    border: 0;\n  }\n\n  .markdown-body .highlight {\n    margin-top: 8px;\n    margin-bottom: 8px;\n  }\n\n  .markdown-body .highlight pre {\n    margin-bottom: 0;\n    word-break: normal;\n  }\n\n  .markdown-body .highlight pre,\n  .markdown-body pre {\n    padding: 16px;\n    overflow: auto;\n    font-size: 100%;\n    line-height: 1.45;\n    background-color: #f6f8fa;\n    border-radius: 3px;\n  }\n\n  .markdown-body pre code {\n    display: inline;\n    max-width: auto;\n    padding: 0;\n    margin: 0;\n    overflow: visible;\n    line-height: inherit;\n    word-wrap: normal;\n    background-color: initial;\n    border: 0;\n  }\n`;\n\nexport default `\n  ${codes}\n\n  .markdown-body blockquote {\n    margin: 0;\n  }\n\n  .markdown-body blockquote {\n    padding: 0 1em;\n    color: #6a737d;\n    border-left: .25em solid #dfe2e5;\n  }\n\n\n  .markdown-body ol,\n  .markdown-body ul {\n    padding-left: 0;\n    margin-top: 0;\n    margin-bottom: 0;\n  }\n\n  .markdown-body ol ol,\n  .markdown-body ul ol {\n    list-style-type: lower-roman;\n  }\n\n  .markdown-body ol ol ol,\n  .markdown-body ol ul ol,\n  .markdown-body ul ol ol,\n  .markdown-body ul ul ol {\n    list-style-type: lower-alpha;\n  }\n\n  .markdown-body ol,\n  .markdown-body ul {\n    padding-left: 2em;\n  }\n\n  .markdown-body li {\n    word-wrap: break-all;\n  }\n\n  .markdown-body li>p {\n    margin-top: 16px;\n  }\n\n  .markdown-body li+li {\n    margin-top: .25em;\n  }\n\n  .markdown-body blockquote,\n  .markdown-body details,\n  .markdown-body dl,\n  .markdown-body ol,\n  .markdown-body p,\n  .markdown-body pre,\n  .markdown-body table,\n  .markdown-body div,\n  .markdown-body ul {\n    margin-top: 8px;\n    margin-bottom: 8px;\n  }\n`;\n","import { createGlobalStyle } from 'styled-components';\nimport * as colors from 'app/styles/colors';\nimport sizing from './sizing';\nimport { title, header, commentText } from './fonts';\nimport markdown from './markdown';\n\n// eslint-disable-next-line\nexport const GlobalStyle = createGlobalStyle`\n  * {\n    box-sizing: border-box;\n    border-width: 0px;\n  }\n\n  html {\n    font-size: 95%;\n    display: flex;\n  }\n  body {\n    font-size: ${sizing(1.75)};\n    line-height: ${sizing(2)};\n  }\n\n  html, body {\n    width: 100%;\n    margin: 0;\n    padding: 0;\n    color: ${colors.black};\n    font-family: HelveticaNeue, Helvetica Neue, sans-serif;\n    position:relative;\n    flex: 1;\n    font-smooth: auto;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  ${markdown}\n  .markdown-body h1 {${header}}\n  .markdown-body h2 {${title}}\n  .markdown-body, .markdown-body p, .markdown-body li {${commentText}}\n\n  #app, main {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    min-height: 100%;\n    position: relative;\n    width: 100%;\n  }\n\n  /* pre {\n    font-family: inherit;\n    font-size: inherit;\n    white-space: pre-wrap;\n    margin: 0;\n    display: inline-block;\n    overflow-wrap: break-word;\n    overflow-wrap: anywhere;\n    max-width: 100%;\n  }\n  */\n\n  a {\n    color: ${colors.blue};\n    overflow-wrap: anywhere;\n    text-decoration: none;\n    cursor: pointer;\n  }\n\n  .smartbanner-top.smartbanner-android {\n    top: -80px !important;\n  }\n  .smartbanner-top.smartbanner-ios {\n    top: -80px !important;\n  }\n\n  // Hamburger menu transition time\n  .bm-overlay,\n  .bm-menu-wrap {\n    top: 0;\n    transition-duration: .3s !important;\n  }\n\n  @media screen\n  and (max-device-width: 414px) {\n    html {\n      font-size: 100%;\n    }\n\n    .BeaconContainer {\n      /*bottom: 30px !important; */\n      left: 0 !important;\n      top: 0 !important;\n      padding-bottom: 32px;\n    }\n    .c-BeaconCloseButton {\n      padding: 0;\n      margin: 0;\n      top: auto !important;\n      bottom: -32px !important;\n      height: 32px;\n      backgroundColor: blue;\n      z-index: 1000 !important;\n    }\n    .BeaconFabButtonFrame {\n      left: 16px !important;\n      right: auto !important;\n      bottom: 16px !important;\n    }\n  }\n`;\n","const lightTheme = true;\n// const darkTheme = false;\n\nconst gs = n => `hsl(0, 0%, ${n}%)`;\nconst gsa = (n, a) => `hsla(0, 0%, ${n}%, ${a})`;\n\nexport const blue = lightTheme ? '#0000ff' : '#0088ff';\nexport const grey = lightTheme ? gs(50) : gs(50);\n\nexport const black = lightTheme ? gs(0) : gs(100);\nexport const white = lightTheme ? gs(100) : gs(8);\n\nexport const lightGreyBg = lightTheme ? gs(98) : gs(7);\n\nexport const modalBackground = lightTheme ? gsa(100, 0.7) : gsa(0, 0.7);\n\nexport const green = '#7ED321';\nexport const red = '#D0021B';\nexport const gold = '#FFC864';\n\nexport const error = 'hsl(0, 66%, 45%)';\nexport const errorA = 'hsla(33, 66%, 45%, .05)';\nexport const warning = 'hsl(33, 93%,54%)';\nexport const warningA = 'hsla(33, 93%, 54%, .05)';\n\nexport const twitterBlue = '#00aced';\n\n// mobile post diver\nexport const dividerBg = lightTheme ? gs(97) : gs(3);\n\n// splash and user search bg\nexport const lightGrey = lightTheme ? gs(87) : gs(13);\nexport const lightBorder = lightTheme ? gs(85) : gs(20);\nexport const redditColor = '#ff4500';\nexport const uniswap = 'rgb(220, 107, 229)';\n\nexport const background = white;\nexport const secondaryText = grey;\nexport const lineColor = lightGrey;\nexport const secondaryBG = lightGreyBg;\n","import sizing from './sizing';\nimport * as colors from './colors';\n\nexport const HELVETICA_NEUE_BOLD = 'HelveticaNeue-Bold';\nexport const HELVETICA_NEUE_CONDENSED_BOLD = 'HelveticaNeue-CondensedBold';\nexport const HELVETICA_NEUE_MEDIUM = 'HelveticaNeue-Medium';\nexport const HELVETICA_NEUE = 'HelveticaNeue';\nexport const HELVETICA_REGULAR = 'HelveticaNeue';\nexport const GEORGIA = 'Georgia';\n\nexport const HelveticaNeueBold = `font-family: '${HELVETICA_NEUE_BOLD}';`;\nexport const HelveticaNeueCondensedBold = `font-family: '${HELVETICA_NEUE_CONDENSED_BOLD}';`;\nexport const HelveticaNeueMedium = `font-family: '${HELVETICA_NEUE_MEDIUM}';`;\nexport const HelveticaNeue = `font-family: '${HELVETICA_NEUE}';`;\nexport const Georgia = `font-family: '${GEORGIA}';`;\n\nexport const lh = 1.4;\n\nexport const bodyStyle = {\n  fontSize: sizing(1.75),\n  lineHeight: sizing(1.75 * lh),\n  fontFamily: HELVETICA_REGULAR,\n  color: colors.black\n};\n\nexport const header = {\n  fontSize: sizing(3),\n  lineHeight: sizing(3 * lh),\n  fontFamily: HELVETICA_NEUE_BOLD,\n  color: colors.black\n};\n\nexport const highlight = {\n  fontSize: sizing(2.5),\n  lineHeight: sizing(2.5 * lh),\n  fontFamily: GEORGIA,\n  fontStyle: 'italic',\n  color: colors.black\n};\n\nexport const title = {\n  // display: 'flex',\n  fontSize: sizing(2.5),\n  lineHeight: sizing(2.5 * lh),\n  fontFamily: HELVETICA_NEUE_CONDENSED_BOLD,\n  color: colors.black\n};\n\n// REQUIRES FONT-INHERIT\nexport const numericalValue = {\n  fontSize: sizing(1.75),\n  lineHeight: sizing(1.75 * lh),\n  fontFamily: HELVETICA_NEUE_CONDENSED_BOLD,\n  color: colors.black\n};\n\nexport const link = {\n  fontSize: sizing(1.5),\n  lineHeight: sizing(1.5 * lh),\n  fontFamily: HELVETICA_NEUE_MEDIUM,\n  color: colors.grey\n  // padding: `${sizing(0.5)} 0`\n};\n\nexport const altLink = {\n  ...link,\n  textDecoration: 'underline'\n};\n\n// export const bodyText = {\n//   fontSize: sizing(1.5),\n//   lineHeight: sizing(1.5 * lh),\n//   fontFamily: HELVETICA_REGULAR,\n//   color: colors.black\n// };\n\nexport const commentText = {\n  fontSize: sizing(2),\n  lineHeight: sizing(2 * lh),\n  fontFamily: GEORGIA,\n  color: colors.black\n};\n\nexport const secondaryText = {\n  fontSize: sizing(1.5),\n  lineHeight: sizing(1.5 * lh),\n  fontFamily: HELVETICA_REGULAR,\n  color: colors.secondaryText\n};\n\nexport const communityLink = {\n  fontSize: sizing(1.75),\n  lineHeight: sizing(1.75 * lh),\n  fontFamily: HELVETICA_REGULAR,\n  color: colors.grey\n};\n\nexport const CTALink = {\n  fontSize: sizing(1.5),\n  lineHeight: sizing(1.5 * lh),\n  fontFamily: HELVETICA_REGULAR,\n  color: colors.blue\n};\n\nexport const button = {\n  background: colors.blue,\n  color: colors.white,\n  display: 'flex',\n  alignItems: 'center',\n  border: 'none',\n  justifyContent: 'space-between',\n  height: sizing(16),\n  minWidth: sizing(18),\n  padding: `0  ${sizing(2)}`,\n  fontsize: sizing(1.5),\n  fontFamily: HELVETICA_NEUE_MEDIUM\n};\n","import * as colors from 'app/styles/colors';\nimport * as layout from 'app/styles/layout';\nimport sizing, { size } from 'app/styles/sizing';\nimport * as fonts from 'app/styles/fonts';\nimport * as mixins from 'app/styles/mixins';\nimport * as screens from 'app/styles/screens';\nimport { responsiveHandler as responsive } from './responsive';\n\nlet GlobalStyle; // eslint-disable-line\nif (process.env.WEB === 'true') {\n  GlobalStyle = require('app/styles/baseStyles').GlobalStyle;\n}\n\nexport const isNative = process.env.WEB !== 'true';\n\nexport { sizing, colors, layout, mixins, fonts, GlobalStyle, size, screens, responsive };\n","import { css } from 'styled-components';\nimport { lineColor } from './colors';\nimport { size } from './sizing';\nimport { responsiveHandler } from './responsive';\n\nexport const color = css`\n  ${p => (p.c ? `color: ${p.c};` : '')};\n  ${p => (p.c ? `text-decoration-color: ${p.c};` : '')};\n`;\n\nexport const padding = css`\n  ${p => (p.p ? `padding: ${size(p.p)}` : '')};\n  ${p => (p.pb ? `padding-bottom: ${size(p.pb)}` : '')};\n  ${p => (p.pl ? `padding-left: ${size(p.pl)}` : '')};\n  ${p => (p.pr ? `padding-right: ${size(p.pr)}` : '')};\n  ${p => (p.pt ? `padding-top: ${size(p.pt)}` : '')};\n`;\n\nexport const margin = css`\n  ${p => (p.m ? `margin: ${size(p.m)}` : '')};\n  ${p => (p.mb ? `margin-bottom: ${size(p.mb)}` : '')};\n  ${p => (p.ml ? `margin-left: ${size(p.ml)}` : '')};\n  ${p => (p.mr ? `margin-right: ${size(p.mr)}` : '')};\n  ${p => (p.mt ? `margin-top: ${size(p.mt)}` : '')};\n`;\n\nexport const font = css`\n  ${p => (p.fs ? `font-size: ${size(p.fs)}` : '')};\n  ${p => (p.lh ? `line-height: ${size(p.lh)}` : '')};\n  ${p => (p.fw ? `font-weight: ${p.fw}` : '')};\n  ${p => (p.ff ? `font-family: ${p.ff}` : '')};\n  ${p => (p.td ? `text-decoration: ${p.td}; }` : '')};\n`;\n\nexport const display = css`\n  ${p => (p.d ? `display: ${p.d}` : '')};\n`;\n\nexport const inheritfont = css`\n  ${p =>\n    p.inheritfont\n      ? `\n    font-size: 'inherit';\n    line-height: 'inherit';\n    font-family: 'inherit';`\n      : ''};\n`;\n\nexport const inheritcolor = css`\n  ${p =>\n    p.inheritcolor\n      ? `\n    color: 'inherit';`\n      : ''};\n`;\n\nexport const width = css`\n  ${p => (p.w ? `width: ${size(p.w)};` : '')};\n  ${p => (p.minwidth ? `min-width: ${size(p.minwidth)};` : '')};\n  ${p => (p.maxWidth ? `max-width: ${size(p.maxWidth)};` : '')};\n`;\n\nexport const height = css`\n  ${p => (p.h ? `height: ${size(p.h)};` : '')};\n  ${p => (p.minheight ? `min-height: ${size(p.minheight)};` : '')};\n  ${p => (p.maxheight ? `max-height: ${size(p.maxheight)};` : '')};\n`;\n\nexport const background = css`\n  ${p => (p.bg ? `background: ${p.bg};` : '')};\n`;\n\nexport const borderRadius = css`\n  ${p => (p.bradius ? `border-radius: ${size(p.bradius)};` : '')};\n`;\n\nconst universalBorder = (side, c = lineColor, w = '1px') => `\n  border${side ? `-${side}` : ''}-color: ${c};\n  border${side ? `-${side}` : ''}-width: ${size(w)};\n  border-style: solid;\n`;\n\nexport const border = css`\n  ${p => p.br && universalBorder('right', p.bc, p.bw)};\n  ${p => p.bl && universalBorder('left', p.bc, p.bw)};\n  ${p => p.bt && universalBorder('top', p.bc, p.bw)};\n  ${p => p.bb && universalBorder('bottom', p.bc, p.bw)};\n  ${p => p.border && universalBorder('', p.bc, p.bw)};\n`;\n\nexport const flex = css`\n  position: relative;\n  ${p => (p.flex ? `flex: ${responsiveHandler(p.flex)}` : '')};\n  ${p => (p.position ? `position: ${responsiveHandler(p.position)}` : '')};\n  ${p => (p.fdirection ? `flex-direction: ${responsiveHandler(p.fdirection)}` : '')};\n  ${p => (p.justify ? `justify-content: ${responsiveHandler(p.justify)}` : '')};\n  ${p => (p.align ? `align-items: ${responsiveHandler(p.align)}` : '')};\n  ${p => (p.shrink ? `flex-shrink: ${responsiveHandler(p.shrink)}` : '')};\n  ${p => (p.grow ? `flex-grow: ${responsiveHandler(p.grow)}` : '')};\n  ${p => (p.wrap ? 'flex-wrap: wrap' : '')};\n  ${p => (p.inline ? '' : 'display: flex')};\n  ${p => (p.alignself ? `align-self: ${responsiveHandler(p.alignself)}` : '')};\n`;\n\nexport const link = css`\n  ${p => (p.color ? `color: ${p.color}` : '')};\n  ${p => (p.hc ? `&:hover * { color: ${p.hc}; }` : '')};\n  ${p => (p.hc ? `&:hover * { fill: ${p.hc}; }` : '')};\n  ${p => (p.ac ? `&.active * { color: ${p.ac}; }` : '')};\n  ${p => (p.ac ? `&.active * { fill: ${p.ac}; }` : '')};\n  ${p => (p.td ? `text-decoration: ${p.td}; }` : '')};\n`;\n\nexport const position = css`\n  ${p => (p.absolute ? `position: absolute;` : '')};\n  ${p => (p.top ? `top: ${size(p.top)}; }` : '')};\n  ${p => (p.left ? `left: ${size(p.left)}; }` : '')};\n  ${p => (p.bottom ? `bottom: ${size(p.bottom)}; }` : '')};\n  ${p => (p.right ? `right: ${size(p.right)}; }` : '')};\n`;\n\nexport const cursor = css`\n  ${p => (p.cursor && !p.mobile ? `cursor: ${p.cursor}; }` : '')};\n`;\n\nexport const zIndex = css`\n  ${p => (p.zIndex ? `z-index: ${p.zIndex}` : '')};\n`;\n","import * as colors from './colors';\nimport sizing, { size } from './sizing';\n// import { size } from './mixins';\n\n// TODO should we keep things consistent? Doesn't seem useful anymore\nexport const linkStyle = `\n  text-decoration: none;\n  color: ${props => props.color || 'black'}\n`;\n\nexport const activeButtonShadow = {\n  boxShadow: '0 2px 6px hsl(240,0%,70%);'\n};\n\nexport const modalShadow = {\n  boxShadow: '0 2px 6px hsl(0,0%,70%)'\n};\n\nconst s = 1;\n\nexport const AVATAR_SIZE = 4 * s;\nexport const POST_IMAGE_H = 10 * s;\nexport const POST_IMAGE_W = 20 * s;\nexport const CENTER_BUTTON_SIZE = 4.5 * s;\nexport const VOTE_BUTTON_SIZE = 2.75 * s;\nexport const SIDE_NAV_PADDING = 3;\nexport const MAX_POST_WIDTH = 120;\n\nexport const DESKTOP_PADDING = 4;\n\nexport const BANNER_PROMPT_HEIGHT = size([5, 7]);\n\nexport const headerHeight = sizing(10);\nexport const mainHeaderHeight = sizing(10);\nexport const sideNavWidth = sizing(37);\n\nexport const NESTING_UNIT = 3;\nexport const POST_BUTTONS_NESTING_UNITS = 4;\n// export const POST_BUTTONS_UNITS = 4;\nexport const POST_BUTTONS_WIDTH = POST_BUTTONS_NESTING_UNITS * NESTING_UNIT;\n\nexport const NESTING_UNIT_RESONSIVE = 2;\nexport const POST_BUTTONS_WIDTH_RESPONSIVE =\n  POST_BUTTONS_NESTING_UNITS * NESTING_UNIT_RESONSIVE;\n\n// this is handled by mixins now — deprecated\nexport const universalBorder = (side, color, width) => `\n  border${side ? `-${side}` : ''}-color: ${color || colors.lineColor};\n  border${side ? `-${side}` : ''}-width: ${width || '1px'};\n  border-style: solid;\n`;\n\nexport const textRow = {\n  display: 'flex',\n  flexDirection: 'row',\n  alignItems: 'center'\n};\n\nexport const buttonFont = {\n  fontSize: sizing(1.5),\n  color: colors.white,\n  fontFamily: 'HelveticaNeue-Medium'\n};\n\nexport const button = {\n  background: colors.blue,\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  height: size(6),\n  minWidth: size([18, 15]),\n  padding: `0 ${sizing(2)}`,\n  margin: 0\n};\n\nexport const tag = {\n  ...button,\n  cursor: 'pointer',\n  background: colors.blue,\n  color: colors.white,\n  minWidth: 0,\n  height: sizing(4),\n  padding: sizing(1.5),\n  fontSize: sizing(1.5)\n};\n\nexport const animatedElement = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  zIndex: 10000,\n  backgroundColor: 'transparent'\n};\n\nexport const formImageProps = {\n  p: 2,\n  w: 9,\n  h: 9,\n  m: '1 0 0 0',\n  bradius: '50%'\n};\n","// This assumes we are working with 2 breakpoints/3 sizes\n// export default\nimport { mediumScreenWidth, smallScreenWidth } from './screens';\n\nlet Dimensions;\nlet isNative = false;\nlet isServer = false;\nlet NATIVE_WIDTH;\n\nif (process.env.WEB !== 'true') {\n  isNative = true;\n  Dimensions = require('react-native').Dimensions;\n  const { width } = Dimensions.get('window');\n  NATIVE_WIDTH = width;\n}\n\nif (!process.env.BROWSER) {\n  isServer = true;\n  Dimensions = require('react-native-web').Dimensions;\n}\n\nexport const responsiveHandler = val => {\n  if (!Array.isArray(val)) return val;\n  if (val.length === 1) return val[0];\n\n  const WIDTH = getWidth();\n  if (!WIDTH) return val[0];\n\n  const breakpoints = [mediumScreenWidth, smallScreenWidth, 0];\n  for (let i = 0; i < breakpoints.length; i++) {\n    if (WIDTH >= breakpoints[i]) {\n      if (val.length > i) return val[i];\n      // return smallest available screen\n      return val[val.length - 1];\n    }\n  }\n  return null;\n};\n\n// const widthCache = {\n//   time: 0,\n//   value: 0\n// };\n// export function getWidth() {\n//   const now = Date.now();\n//   if (now - widthCache.time < 3000) return widthCache.value;\n//   widthCache.value = width();\n//   widthCache.time = now;\n//   return widthCache.value;\n// }\n\nexport function getWidth() {\n  try {\n    if (isNative) return NATIVE_WIDTH;\n    if (isServer) return Dimensions.get('window').width;\n    return window.innerWidth;\n  } catch (err) {\n    return null;\n  }\n}\n","export const mediumScreenWidth = 746;\nexport const smallScreenWidth = 414;\n","import memoize from 'memoizee';\nimport { responsiveHandler, getWidth } from './responsive';\n\nlet isNative = true;\nif (process.env.WEB === 'true') {\n  isNative = false;\n}\n\nconst cache = {};\n\nconst sizing = memoize(\n  (unit, type) => {\n    if (type === 'mobileNumber' && isNative) return unit * 8;\n\n    if (!isNative) {\n      if (type) return `${unit}${type}`;\n      return `${unit / 2}rem`;\n    }\n    if (type) {\n      if (unit < 0) return unit;\n      return `${unit}${type}`;\n    }\n    if (unit < 0) return unit * 8;\n    return `${unit * 8}px`;\n  },\n  { primitive: true }\n);\n\nexport const size = value => {\n  const w = getWidth();\n  if (cache[w] && cache[w][value]) return cache[w][value];\n  const units = responsiveHandler(value);\n\n  if (typeof units === 'number') return sizing(units);\n  if (!units || units.match(/px|rem|em|vh|vw|auto|%|pt/)) return units;\n  const uArray = units.split(' ');\n  if (uArray.length === 1) sizing(Number(units));\n  const result = uArray.map(u => sizing(Number(u))).join(' ');\n  if (!cache[w]) cache[w] = {};\n  cache[w][value] = result;\n  return result;\n};\n\nexport default sizing;\n","import { toast } from 'react-toastify';\n\nconst IS_NATIVE = process.env.WEB !== 'true';\nconst IS_BROWSER = process.env.BROWSER;\n\nexport const browserAlerts = {\n  alert: (message, alertType) => {\n    toast(message, {\n      position: toast.POSITION.BOTTOM_RIGHT,\n      type: alertType || 'error',\n      hideProgressBar: true\n    });\n  }\n};\n\nexport function Alert() {\n  if (IS_NATIVE) return require('react-native').Alert;\n  if (IS_BROWSER) return browserAlerts;\n\n  // eslint-disable-next-line\n  return { alert: (a, b) => console.log(a, ' ', b) };\n}\n","import { Alert } from 'app/utils/alert';\n\nlet RNFetchBlob;\nlet Platform = {};\n\nif (process.env.WEB !== 'true') {\n  Platform = require('react-native').Platform;\n  if (Platform.OS === 'android') {\n    RNFetchBlob = require('rn-fetch-blob').default;\n  }\n}\n\nfunction isDataURL(s) {\n  return !!s.match(isDataURL.regex);\n}\n// eslint-disable-next-line\nisDataURL.regex = /^\\s*data:([a-z]+\\/[a-z]+(;[a-z\\-]+\\=[a-z\\-]+)?)?(;base64)?,[a-z0-9\\!\\$\\&\\'\\,\\(\\)\\*\\+\\,\\;\\=\\-\\.\\_\\~\\:\\@\\/\\?\\%\\s]*\\s*$/i;\n\nfunction dataURItoBlob(dataURI) {\n  // convert base64/URLEncoded data component to raw binary data held in a string\n  let byteString;\n  if (dataURI.split(',')[0].indexOf('base64') >= 0) {\n    byteString = atob(dataURI.split(',')[1]);\n  } else {\n    byteString = unescape(dataURI.split(',')[1]);\n  }\n\n  // separate out the mime component\n  const mimeString = dataURI\n    .split(',')[0]\n    .split(':')[1]\n    .split(';')[0];\n\n  // write the bytes of the string to a typed array\n  const ia = new Uint8Array(byteString.length);\n  for (let i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n\n  return new Blob([ia], { type: mimeString });\n}\n\nasync function uploadToS3(\n  uri,\n  policy,\n  signature,\n  url,\n  publicUrl,\n  signedObjectName,\n  AWS_ACCESS_KEY\n) {\n  const body = new FormData();\n\n  try {\n    if (Platform.OS === 'android' && (uri.match('http://') || uri.match('https://'))) {\n      const res = await RNFetchBlob.config({\n        fileCache: true,\n        session: 'uploads'\n      }).fetch('GET', uri);\n\n      uri = 'file://' + res.path();\n    }\n  } catch (err) {\n    Alert().alert('Error uploading image ', err);\n  }\n\n  let file = {\n    uri,\n    name: signedObjectName,\n    type: 'image/jpeg'\n  };\n\n  if (isDataURL(uri)) {\n    file = dataURItoBlob(uri);\n  }\n\n  body.append('key', signedObjectName);\n  body.append('AWSAccessKeyId', AWS_ACCESS_KEY);\n  body.append('acl', 'public-read');\n  body.append('success_action_status', '201');\n  body.append('Content-Type', file.type);\n  body.append('policy', policy);\n  body.append('signature', signature);\n  body.append('file', file);\n\n  return fetch(url, {\n    method: 'POST',\n    body\n  })\n    .then(response => {\n      if (Platform.OS === 'android') {\n        RNFetchBlob.session('uploads').dispose();\n        if (response.status === 201) {\n          return { success: true, url: publicUrl };\n        }\n        return { success: false, response };\n      }\n      return { success: true, url: publicUrl };\n    })\n    .catch(error => {\n      if (Platform.OS === 'android') {\n        RNFetchBlob.session('uploads').dispose();\n      }\n      return { success: false, url: null, error };\n    });\n}\n\nfunction executeOnSignedUrl(uri, fileName) {\n  const extension = fileName || uri.substr(uri.length - 4);\n  const signedPutUrl = process.env.API_SERVER + '/api/s3/sign';\n  let signedObjectName = Math.random()\n    .toString(36)\n    .substr(2, 9);\n  signedObjectName += '_' + extension;\n\n  return fetch(\n    signedPutUrl +\n      '?s3_object_type=' +\n      'multipart/form-data' +\n      '&s3_object_name=' +\n      signedObjectName,\n    {\n      credentials: 'include',\n      method: 'GET'\n    }\n  )\n    .then(res => res.json())\n    .then(resJSON =>\n      uploadToS3(\n        uri,\n        resJSON.signature.s3Policy,\n        resJSON.signature.s3Signature,\n        resJSON.url,\n        resJSON.publicUrl,\n        signedObjectName,\n        resJSON.AWS_ACCESS_KEY\n      )\n    )\n    .catch(error => ({ success: false, url: null, error }));\n}\n\nexport function toS3Advanced(uri, fileName) {\n  return executeOnSignedUrl(uri, fileName);\n}\n","import * as storage from './storage';\n\nconst routes = {};\nconst IS_SERVER = !process.env.BROWSER && process.env.WEB === 'true';\nconst IS_CLIENT = !IS_SERVER;\n\n// TODO this should be somewhere else!\nexport const env = () => {\n  if (process.env.WEB !== 'true') {\n    require('../publicenv');\n    return process.env;\n  }\n  return process.env;\n};\nenv();\n\nconst API_URL = process.env.API_SERVER || '';\n\n// if (IS_CLIENT) {\n//   // this is a weird hack that makes conditional require work in react-native\n// } else {\n//   // Desktop ONLY!!!\n//   // use react-native field in package.json\n//   // this will prevent react native from loading these modules\n//   const postApi = '../../server/api/post/post.controller';\n//   const userApi = '../../server/api/user/user.controller';\n//   const commentsApi = '../../server/api/comment/comment.controller';\n//   const feedApi = '../../server/api/communityFeed/communityFeed.controller';\n//   const communityApi = '../../server/api/community/community.controller';\n\n//   routes.comment = require(commentsApi) || {}; // eslint-disable-line\n//   routes.communityFeed = require(feedApi) || {}; // eslint-disable-line\n//   routes.post = require(postApi) || {}; // eslint-disable-line\n//   routes.user = require(userApi) || {}; // eslint-disable-line\n//   routes.community = require(communityApi) || {}; // eslint-disable-line\n// }\n\nexport const request = (options) => (dispatch, getState) => _request(options, getState);\n\n/**\n * send request to api\n * @param  {[type]} options\n * query - Object of url query params\n * params - url params\n * endpoint - api endpoint (user / post etc)\n * path - speicifi api call (default is index)\n * uri - optional - custom url\n * method - REST method\n * body: body\n */\nexport async function _request(options, getState) {\n  // Add community query parameter\n  const state = getState();\n  const community = state.community.active;\n  const query = community ? { community, ...options.query } : { ...options.query };\n  const params = { ...options, query };\n\n  // ---------------------------------------------\n  // This is the case when request is orginating from nodejs\n  // ---------------------------------------------\n  // if (IS_SERVER) return getDataOnServer(params);\n\n  // ---------------------------------------------\n  // This is the case when request is orginating from client\n  // ---------------------------------------------\n  return getDataFromClient(params);\n}\n\nasync function getDataFromClient(params) {\n  const uri = constructUri(params);\n  const queryString = queryParams(params.query);\n  const response = await fetch(uri + queryString, {\n    method: params.method,\n    ...(await reqOptions()),\n    body: params.body,\n  });\n  const responseOk = await handleErrors(response);\n  return responseOk.json();\n}\n\n// async function getDataOnServer(params) {\n//   const path = params.path || '';\n//   if (path === '') params.path = 'index';\n//   const req = {\n//     params: params.params,\n//     body: params.body,\n//     query: params.query,\n//     user: params.user,\n//   };\n//   const next = () => null;\n//   const res = null;\n//   if (!routes[params.endpoint] || !routes[params.endpoint][params.path]) {\n//     return null;\n//   }\n//   const resJSON = await routes[params.endpoint][params.path](req, res, next);\n\n//   // convert to object in case we get a mongoose object back\n//   return resJSON && resJSON.toObject ? resJSON.toObject() : resJSON;\n// }\n\nfunction constructUri(options) {\n  const rootUrl = options.uri || API_URL;\n  const apiPath = options.endpoint.match('auth') ? '' : '/api/';\n  const path = options.path || '';\n  const params = options.params\n    ? Object.keys(options.params).reduce((a, key) => a + '/' + options.params[key], '')\n    : '';\n  return rootUrl + apiPath + options.endpoint + path + params;\n}\n\nexport async function reqOptions() {\n  try {\n    const token = await storage.getToken();\n    return {\n      credentials: 'include',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n    };\n  } catch (err) {\n    return {\n      credentials: 'include',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n    };\n  }\n}\n\nexport const queryParams = (params) => {\n  if (!params) return '';\n  const paramString = Object.keys(params)\n    .filter((p) => params[p])\n    .map((k) => encodeURIComponent(k) + '=' + encodeURIComponent(params[k]))\n    .join('&');\n  if (paramString && paramString.length) return '?' + paramString;\n  return '';\n};\n\nexport async function handleErrors(response) {\n  if (!response.ok) {\n    let error = response.statusText;\n    try {\n      const json = await response.json();\n      if (json) {\n        error = json.message;\n        throw Error(error);\n      }\n    } catch (err) {\n      throw Error(error);\n    }\n  }\n  return response;\n}\n","import ExifReader from 'exifreader';\nimport dataUriToBuffer from 'data-uri-to-buffer';\n\n/* Image resize / EXIF processing functions */\n\nexport const MAX_IMAGE_DIMENSION = 1024;\nexport const MAX_FILE_SIZE = 1024 * 400;\n\nexport function loadFile(file) {\n  return new Promise(resolve => {\n    const reader = new FileReader();\n    reader.onload = e => resolve(e.target.result);\n    reader.readAsArrayBuffer(file);\n  });\n}\n\nfunction getScale(width, height, viewportWidth, viewportHeight, fillViewport) {\n  function fitHorizontal() {\n    return viewportWidth / width;\n  }\n  function fitVertical() {\n    return viewportHeight / height;\n  }\n  fillViewport = !!fillViewport;\n  const landscape = width / height > viewportWidth / viewportHeight;\n  if (landscape) {\n    if (fillViewport) {\n      return fitVertical();\n    }\n    if (width > viewportWidth) {\n      return fitHorizontal();\n    }\n  } else {\n    if (fillViewport) {\n      return fitHorizontal();\n    }\n    if (height > viewportHeight) {\n      return fitVertical();\n    }\n  }\n  return 1;\n}\n\nfunction applyRotation(canvas, ctx, deg) {\n  const radians = deg * (Math.PI / 180);\n  if (deg === 90) {\n    ctx.translate(canvas.width, 0);\n  } else if (deg === 180) {\n    ctx.translate(canvas.width, canvas.height);\n  } else if (deg === 270) {\n    ctx.translate(0, canvas.height);\n  }\n  ctx.rotate(radians);\n}\n\nfunction base64ToUint8Array(string, start, finish) {\n  start = start || 0;\n  finish = finish || string.length;\n  const binary = atob(string);\n  const buffer = new Uint8Array(binary.length);\n  for (let i = start; i < finish; i++) {\n    buffer[i] = binary.charCodeAt(i);\n  }\n  return buffer;\n}\n\nfunction getOrientation(uri) {\n  // Split off the base64 URL header\n  const base64String = uri.split(',')[1];\n  // Read off first 128KB, which is all we need to\n  // get the EXIF data\n  const arr = base64ToUint8Array(base64String, 0, 2 ** 17);\n  try {\n    const tags = ExifReader.load(arr.buffer);\n    return tags.Orientation.value;\n  } catch (err) {\n    return 1;\n  }\n}\n\n/**\n * Mapping from EXIF orientation values to data\n * regarding the rotation and mirroring necessary to\n * render the canvas correctly\n * Derived from:\n * http://www.daveperrett.com/articles/2012/07/28/exif-orientation-handling-is-a-ghetto/\n */\nconst orientationToTransform = {\n  1: { rotation: 0, mirror: false },\n  2: { rotation: 0, mirror: true },\n  3: { rotation: 180, mirror: false },\n  4: { rotation: 180, mirror: true },\n  5: { rotation: 90, mirror: true },\n  6: { rotation: 90, mirror: false },\n  7: { rotation: 270, mirror: true },\n  8: { rotation: 270, mirror: false }\n};\n\nfunction applyOrientationCorrection(canvas, ctx, uri) {\n  const orientation = getOrientation(uri);\n  // Only apply transform if there is some non-normal orientation\n  if (orientation && orientation !== 1) {\n    const { rotation } = orientationToTransform[orientation];\n    const flipAspect = rotation === 90 || rotation === 270;\n    if (flipAspect) {\n      // Fancy schmancy swap algo\n      canvas.width = canvas.height + canvas.width;\n      canvas.height = canvas.width - canvas.height;\n      canvas.width -= canvas.height;\n    }\n    if (rotation > 0) {\n      applyRotation(canvas, ctx, rotation);\n    }\n  }\n}\n\nexport function renderToCanvas(img, options) {\n  if (!img) return null;\n  options = options || {};\n\n  // Canvas max size for any side\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n  const initialScale = options.scale || 1;\n  // Scale to needed to constrain canvas to max size\n  let scale = getScale(\n    img.width * initialScale,\n    img.height * initialScale,\n    MAX_IMAGE_DIMENSION,\n    MAX_IMAGE_DIMENSION,\n    true\n  );\n  // Still need to apply the user defined scale\n  scale *= initialScale;\n  canvas.width = Math.round(img.width * scale);\n  canvas.height = Math.round(img.height * scale);\n  const { correctOrientation } = options;\n  const jpeg = !!img.src.match(/data:image\\/jpeg|\\.jpeg$|\\.jpg$/i);\n  const hasDataURI = !!img.src.match(/^data:/);\n\n  ctx.save();\n\n  // Can only correct orientation on JPEGs represented as dataURIs\n  // for the time being\n  if (correctOrientation && jpeg && hasDataURI) {\n    applyOrientationCorrection(canvas, ctx, img.src);\n  }\n  // Resize image if too large\n  if (scale !== 1) {\n    ctx.scale(scale, scale);\n  }\n\n  ctx.drawImage(img, 0, 0);\n  ctx.restore();\n\n  return canvas;\n}\n\nexport function downsample(img) {\n  const resized = renderToCanvas(img, { correctOrientation: true });\n  let buf;\n  let dataURL;\n  let quality = 0.8;\n  do {\n    dataURL = resized.toDataURL('image/jpeg', quality);\n    buf = dataUriToBuffer(dataURL);\n    quality -= 0.05;\n  } while (buf.length > MAX_FILE_SIZE && quality > 0.1);\n  return dataURL;\n}\n\nexport function loadImage(file) {\n  return new Promise((resolve, reject) => {\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = e => {\n        reader.onload = null;\n        reader.onerror = null;\n        const dataURL = e.target.result;\n        const buf = dataUriToBuffer(dataURL);\n        if (buf.length <= MAX_FILE_SIZE) {\n          resolve(dataURL);\n        } else {\n          const img = new Image();\n          img.onload = () => {\n            img.onload = null;\n            img.onerror = null;\n            resolve(downsample(img));\n          };\n          img.onerror = () => {\n            img.onload = null;\n            img.onerror = null;\n            reject();\n          };\n          img.src = dataURL;\n        }\n      };\n      reader.onerror = () => {\n        reader.onload = null;\n        reader.onerror = null;\n        reject();\n      };\n      reader.readAsDataURL(file);\n    } else reject();\n  });\n}\n","/*\n  tween.add({\n    obj: el.style,\n    units: \"px\",\n    from: { left: 0 },\n    to: { left: 100 },\n    duration: 1000,\n    easing: easing.circ_out,\n    update: function(obj){\n      console.log(obj.left)\n    }\n    finished: function(){\n      console.log(\"done\")\n    }\n  })\n*/\n\nconst lerp = (n, a, b) => (b - a) * n + a;\n\nlet tweens = [];\n\nlet lastT = 0;\nlet id = 0;\nlet animationFrame = 0;\n\nconst speed = 1;\n\nexport const add = tween => {\n  tween.id = id++;\n  tween.obj = tween.obj || {};\n  if (tween.easing) {\n    if (typeof tween.easing === 'string') {\n      tween.easing = easing[tween.easing];\n    }\n  } else {\n    tween.easing = easing.linear;\n  }\n  if (!('from' in tween) && !('to' in tween)) {\n    tween.keys = [];\n  } else if (!('from' in tween)) {\n    tween.from = {};\n    tween.keys = Object.keys(tween.to);\n    tween.keys.forEach(prop => {\n      tween.from[prop] = parseFloat(tween.obj[prop]);\n    });\n  } else {\n    tween.keys = Object.keys(tween.from);\n  }\n  tween.delay = tween.delay || 0;\n  tween.start = lastT + tween.delay;\n  tween.done = false;\n  tween.after = tween.after || [];\n  tween.then = fn => {\n    tween.after.push(fn);\n    return tween;\n  };\n  tween.tick = 0;\n  tween.skip = tween.skip || 1;\n  tween.dt = 0;\n  tweens.push(tween);\n  return tween;\n};\n\nexport const update = t => {\n  let done = false;\n  animationFrame = requestAnimationFrame(update);\n  lastT = t * speed;\n  if (tweens.length === 0) return;\n  tweens.forEach(tween => {\n    const dt = Math.min(1.0, (t - tween.start) / tween.duration);\n    tween.tick++;\n    if (dt < 0 || (dt < 1 && tween.tick % tween.skip !== 0)) return;\n    const ddt = tween.easing(dt);\n    tween.dt = ddt;\n    tween.keys.forEach(prop => {\n      let val = lerp(ddt, tween.from[prop], tween.to[prop]);\n      if (tween.round) val = Math.round(val);\n      if (tween.units) val = Math.round(val) + tween.units;\n      tween.obj[prop] = val;\n    });\n    if (tween.update) {\n      tween.update(tween.obj, dt);\n    }\n    if (dt === 1) {\n      if (tween.finished) {\n        tween.finished(tween);\n      }\n      if (tween.after.length) {\n        const twn = tween.after.shift();\n        twn.obj = twn.obj || tween.obj;\n        twn.after = tween.after;\n        add(twn);\n      }\n      if (tween.loop) {\n        tween.start = t + tween.delay;\n      } else {\n        done = true;\n        tween.done = true;\n      }\n    }\n  });\n  if (done) {\n    tweens = tweens.filter(tween => !tween.done);\n  }\n};\n\nexport const remove = tween => {\n  if (tween) tweens = tweens.filter(t => t.id !== tween.id);\n};\n\nexport const start = () => {\n  if (animationFrame) cancelAnimationFrame(animationFrame);\n  animationFrame = requestAnimationFrame(update);\n};\n\nexport const stop = () => {\n  cancelAnimationFrame(animationFrame);\n};\n\nexport const reset = () => {\n  stop();\n  tweens = [];\n};\n\nexport const easing = {\n  linear: t => t,\n  circ_out: t => Math.sqrt(1 - (t -= 1) * t),\n  circ_in: t => -(Math.sqrt(1 - t * t) - 1),\n  circ_in_out: t => {\n    t *= 2;\n    return t < 1\n      ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n      : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n  },\n  quad_in: n => n ** 2,\n  quad_out: n => n * (n - 2) * -1,\n  quad_in_out: n => {\n    n *= 2;\n    if (n < 1) {\n      return n ** 2 / 2;\n    }\n    return (-1 * (--n * (n - 2) - 1)) / 2;\n  },\n  cubic_bezier: (mX1, mY1, mX2, mY2) => {\n    function A(aA1, aA2) {\n      return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n    }\n    function B(aA1, aA2) {\n      return 3.0 * aA2 - 6.0 * aA1;\n    }\n    function C(aA1) {\n      return 3.0 * aA1;\n    }\n\n    // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\n    function CalcBezier(aT, aA1, aA2) {\n      return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n    }\n\n    // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\n    // function GetSlope(aT, aA1, aA2) {\n    //   return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n    // }\n\n    // function GetTForX(aX) {\n    //   // Newton raphson iteration\n    //   let aGuessT = aX\n    //   for (let i = 0; i < 10; ++i) {\n    //     const currentSlope = GetSlope(aGuessT, mX1, mX2)\n    //     if (currentSlope == 0.0) return aGuessT\n    //     const currentX = CalcBezier(aGuessT, mX1, mX2) - aX\n    //     aGuessT -= currentX / currentSlope\n    //   }\n    //   return aGuessT\n    // }\n\n    return aX => {\n      if (mX1 === mY1 && mX2 === mY2) return aX; // linear\n      return CalcBezier(aX, mY1, mY2);\n    };\n  }\n};\n","export function unique(array) {\n  return array.filter((elem, pos, arr) => arr.indexOf(elem) === pos);\n}\n","import relativeTime from 'dayjs/plugin/relativeTime';\nimport dayjs from 'dayjs';\n// import moment from 'moment';\n\ndayjs.extend(relativeTime);\n\nexport function toNumber(num, dec) {\n  if (num === undefined || dec === undefined) return null;\n  return num / 10 ** dec;\n}\n\nexport function toFixed(num, dec) {\n  if (!num) return 0;\n  return num.toFixed(dec);\n}\n\nexport function percentChange(user) {\n  let totalPercent = 0;\n\n  if (!user || !user.relevanceRecord || !user.relevanceRecord.length) return 0;\n\n  user.relevanceRecord.forEach(record => {\n    let percent = 0;\n    const endInterval = new Date();\n    const endRelevance = user.pagerank;\n    const last = record;\n    const oldRel = Math.abs(last.relevance);\n    if (oldRel === 0) return;\n    percent = ((endRelevance - oldRel) * 100) / oldRel;\n    const timeInteraval = endInterval - new Date(last.time);\n    const scale = (1 * 24 * 60 * 60 * 1000) / timeInteraval;\n    percent *= scale;\n    totalPercent += percent;\n  });\n\n  const total = totalPercent / user.relevanceRecord.length;\n  return total;\n}\n\nexport function abbreviateNumber(num, _fixed) {\n  if (typeof num !== 'number') return num;\n  let fixed = 0;\n\n  if (typeof _fixed === 'number') fixed = _fixed;\n  if (num === null) {\n    return null;\n  } // terminate early\n  if (num === 0) {\n    return '0';\n  } // terminate early\n  if (typeof num !== 'number') num = Number(num);\n  fixed = !fixed || fixed < 0 ? 0 : fixed; // number of decimal places to show\n  const b = num.toPrecision(2).split('e'); // get power\n  // floor at decimals, ceiling at trillions\n  const k = b.length === 1 ? 0 : Math.floor(Math.min(b[1].slice(1), 14) / 3);\n  // divide by power\n  const newNum = k < 1 ? num : num / 10 ** (k * 3);\n  if (Math.abs(newNum) < 100) fixed = 1;\n  if (Math.abs(newNum) < 10) fixed = 1;\n  if (Math.abs(newNum) < 1) fixed++;\n  if (Math.abs(newNum) < 0.1) fixed++;\n  if (Math.abs(newNum) < 0.01) fixed++;\n  if (Math.abs(newNum) < 0.001) fixed++;\n\n  const c = newNum.toFixed(fixed);\n  const d = c < 0 ? -Math.abs(c) : Math.abs(c); // enforce -0 is 0 and trim .00s\n  const e = d + ['', 'K', 'M', 'B', 'T'][k]; // append power\n  return e;\n}\n\nexport function capitalize(string) {\n  return string\n    .split(' ')\n    .map(s => s.charAt(0).toUpperCase() + s.slice(1))\n    .join(' ');\n}\n\nexport function getTimestamp(date, withoutSuffix) {\n  if (!date) return null;\n  const fromNow = dayjs(date).fromNow(withoutSuffix);\n  return capitalize(fromNow);\n}\n\nexport function getMonth(date) {\n  if (!date) return null;\n  return dayjs(date).format('MMMM');\n}\n\nexport function getDayMonthYearTimestamp(date) {\n  if (!date) return null;\n  return dayjs(date).format('MMM D, YYYY');\n}\n\nexport function guid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n    const r = (Math.random() * 16) | 0; // eslint-disable-line\n    const v = c === 'x' ? r : (r & 0x3) | 0x8; // eslint-disable-line\n    return v.toString(16);\n  });\n}\n\nexport function timeLeft({ _date, index }) {\n  const now = new Date();\n  const date = new Date(_date);\n  const seconds = Math.round((date.getTime() - now.getTime()) / 1000);\n\n  const d = 0;\n  // const d = Math.round(seconds / (3600 * 24));\n  const h = Math.round(seconds / 3600);\n  const m = Math.round((seconds % 3600) / 60);\n  const s = seconds % 60;\n  const abr = ['hr', 'min', 'sec'];\n  const data = [h > 9 ? h : d ? h : h || '0', m > 9 ? m : d && h ? m : m || '0', s]\n    .map((t, i) => (t ? t + abr[i] : null))\n    .filter(t => t);\n\n  if (index) return data[index - 1];\n  return data.join(':');\n}\n\nexport function timeLeftTick(_date) {\n  const now = new Date();\n  const date = new Date(_date);\n  const seconds = Math.round((date.getTime() - now.getTime()) / 1000);\n\n  const d = Math.round(seconds / (3600 * 24));\n  const h = Math.round((seconds % 24) / 3600);\n  const m = Math.round((seconds % 3600) / 60);\n  const s = seconds % 60;\n  const abr = [` day${d > 1 ? 's' : ''} `, ':', ':', ''];\n  const fmtT = t => (t < 10 ? '0' + t : t || '00');\n  const data = [d, fmtT(h), fmtT(m), fmtT(s)]\n    .map((t, i) => (t ? t + abr[i] : null))\n    .filter(t => t);\n\n  return data.join('');\n}\n","import get from 'lodash/get';\nimport { SLOPE, EXPONENT } from '@r3l/common';\n\nexport const URL_REGEX = new RegExp(\n  // eslint-disable-next-line\n  /(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%_\\+~#=]{2,256}\\.[a-z]{2,10}\\b([-a-zA-Z0-9@:%_\\+~#?&//=]*)/g\n);\n\nexport function getTitle({ post, link, maxLength }) {\n  let title = link?.title || post?.title;\n  const fromBody = !title || title === '';\n  title = title || get(post, 'body');\n\n  const limit = maxLength || 160;\n  if (fromBody) {\n    const lines = title?.split(/\\n/);\n    title = lines?.slice(0, 1).join('\\n');\n    if (!title) return 'Untitled';\n    if (title?.length <= limit) return title;\n    return title?.substr(0, title.lastIndexOf(' ', limit)) + '...';\n  }\n\n  if (title && title.length > limit) {\n    title = title.substr(0, title.lastIndexOf(' ', limit)) + '...';\n  }\n  title = title && title.trim();\n  return title || 'Untitled';\n}\n\nexport function getFavIcon(domain) {\n  return `https://api.faviconkit.com/${domain}/144`;\n  // return `https://s2.googleusercontent.com/s2/favicons?domain=${domain}`;\n}\n\nexport const getPostUrl = (community, post) => {\n  if (!post) return null;\n  const { parentPost } = post;\n  const postId = parentPost ? parentPost._id || parentPost : post._id || post;\n  const commentId = parentPost ? '/' + (post._id || post) : '';\n  return `/${community}/post/${postId}${commentId}`;\n};\n\nexport const computeShares = ({ post, stakedTokens }) => {\n  const { balance, shares: postShares } = post.data;\n  const nexp = EXPONENT + 1;\n\n  const shares =\n    (((Math.max(balance, 0) + stakedTokens) / SLOPE) * nexp) ** (1 / nexp) -\n    (postShares || 0);\n  return shares;\n};\n\nexport const getPostType = ({ post }) => {\n  const type = !post.parentPost && post.url ? 'link' : post.type;\n  return type;\n};\n","/* eslint-disable */\n\nvar ConvId;\n\nexports.TwitterCT = {\n  init: function(convId) {\n    ConvId = convId;\n    !(function(e, t, n, s, u, a) {\n      e.twq ||\n        ((s = e.twq = function() {\n          s.exe ? s.exe.apply(s, arguments) : s.queue.push(arguments);\n        }),\n        (s.version = '1.1'),\n        (s.queue = []),\n        (u = t.createElement(n)),\n        (u.async = !0),\n        (u.src = '//static.ads-twitter.com/uwt.js'),\n        (a = t.getElementsByTagName(n)[0]),\n        a.parentNode.insertBefore(u, a));\n    })(window, document, 'script');\n    if (!ConvId) {\n      console.error('TwitterConvTrkr.init(convId) missing conversion id.');\n      return;\n    } else {\n      twq('init', ConvId);\n    }\n  },\n\n  signUp: function() {\n    if (!ConvId) {\n      console.error('TwitterConvTrkr init must be called first.');\n      return;\n    }\n    twq('track', 'Purchase', { value: 1 });\n  },\n\n  pageView: function() {\n    if (!ConvId) {\n      console.error('TwitterConvTrkr init must be called first.');\n      return;\n    }\n    twq('track', 'PageView');\n  }\n};\n","let userDefaults;\nlet cookie;\nlet localStorage;\n\nif (process.env.WEB !== 'true') {\n  userDefaults = require('react-native-swiss-knife').RNSKBucket;\n} else {\n  const Cookies =\n    process.env.BROWSER && process.env.NODE_ENV !== 'test'\n      ? require('universal-cookie').default\n      : require('universal-cookie');\n  cookie = new Cookies();\n  if (process.env.BROWSER) localStorage = window.localStorage;\n}\n\nconst APP_GROUP_ID = 'group.com.4real.relevant';\n\nlet token;\n\nexport const local = localStorage;\n\nexport function get(key) {\n  return new Promise((resolve, reject) => {\n    if (userDefaults) {\n      return userDefaults\n        .get(key, APP_GROUP_ID)\n        .then(val => {\n          if (val) {\n            return resolve(val);\n          }\n          return resolve(null);\n        })\n        .catch(err => reject(err));\n    }\n    // WEB\n    const val = cookie.get(key, { path: '/' });\n    if (val) {\n      return resolve(val);\n    }\n    return resolve(null);\n  });\n}\n\nexport function remove(key) {\n  if (userDefaults) {\n    return new Promise(resolve => {\n      userDefaults.remove(key, APP_GROUP_ID);\n      resolve();\n    });\n  }\n  return new Promise(resolve => {\n    cookie.remove(key, { path: '/' });\n    resolve();\n  });\n}\n\nexport function set(key, val) {\n  if (userDefaults) {\n    return new Promise(resolve => {\n      userDefaults.set(key, String(val), APP_GROUP_ID);\n      resolve();\n    });\n  }\n  return new Promise(resolve => {\n    cookie.set(key, val, { path: '/' });\n    resolve();\n  });\n}\n\nexport function getToken() {\n  return new Promise((resolve, reject) => {\n    if (token) return resolve(token);\n\n    if (userDefaults) {\n      return userDefaults\n        .get('token', APP_GROUP_ID)\n        .then(newToken => {\n          if (newToken) {\n            token = newToken;\n            return resolve(token);\n          }\n          return resolve(null);\n        })\n        .catch(err => reject(err));\n    }\n    // WEB\n    const newToken = cookie.get('token', { path: '/' });\n    if (newToken) {\n      token = newToken;\n      return resolve(token);\n    }\n    return resolve(token);\n    // reject(new Error('not logged in'));\n  });\n}\n\nexport const setToken = async newToken => {\n  token = newToken;\n  set('token', newToken);\n};\nexport const removeToken = async () => {\n  token = null;\n  console.log('REMOVING TOKEN!'); // eslint-disable-line\n  remove('token');\n};\n\n// Expects unix timecode\nconst isTimecodeExpired = (date, days) => {\n  const now = new Date().getTime();\n  const diff = Math.abs(now - Number(date));\n  const ONE_DAY = 1000 * 60 * 60 * 24;\n  return diff > days * ONE_DAY;\n};\n\nexport const isDismissed = async (key, days) => {\n  let dismissed;\n  try {\n    dismissed = await get(key);\n  } catch (err) {\n    return false;\n  }\n  if (!dismissed) {\n    return false;\n  }\n  if (isTimecodeExpired(Number(dismissed), days)) {\n    remove(key);\n    return false;\n  }\n  return true;\n};\n","import { Alert } from 'app/utils/alert';\nimport { linkifyMatch } from 'modules/comment/linkify';\n\nlet LinkifyContainer;\nif (process.env.WEB !== 'true') {\n  LinkifyContainer = require('modules/text/mobile/textBody.component').default;\n} else {\n  LinkifyContainer = require('linkifyjs/react');\n}\n\nexport const Linkify = LinkifyContainer;\n\nexport function getTextData(postBody) {\n  const matches = linkifyMatch(postBody) || [];\n\n  const tags = matches.filter(m => m.schema === '#').map(m => m.text.replace('#', ''));\n\n  const mentions = matches\n    .filter(m => m.schema === '@')\n    .map(m => m.text.replace('@', ''));\n\n  const urls = matches.filter(m => m.schema !== '#' && m.schema !== '@');\n  const url = urls[0];\n  return { url, mentions, tags };\n}\n\n// TODO Deprecate\nexport function getMentions(words) {\n  return words\n    .map(word => {\n      if (word.match(/^@\\S+/g)) {\n        const mention = word.replace(/@/g, '');\n        return mention !== '' ? mention : null;\n      }\n      return null;\n    })\n    .filter(el => el !== null);\n}\n\n// TODO Deprecate\nexport function getTags(words) {\n  return words\n    .map(word => {\n      if (word.match(/^#\\S+/g)) {\n        const tag = word.replace(/#/g, '').trim();\n        return tag !== '' ? tag : null;\n      }\n      return null;\n    })\n    .filter(el => el !== null);\n}\n\n// TODO Deprecate - use desktop create post and regular text input\nexport function getWords(text) {\n  const res = text\n    .replace(/[,.!?](?!\\b)|[\\s+]/g, a => '__WRD_SPLT__' + a + '__WRD_SPLT__')\n    .split(/__WRD_SPLT__/);\n  return res;\n}\n\nexport const NAME_PATTERN = /^[a-zA-Z0-9-_]+$/;\n\n// Android crashes when flag is separate argument w error:\n// Cannot supply flags when constructing one RegExp from another\nconst HTML_REGEX = new RegExp(/<[^>]*>/gm);\n\nexport function stripHTML(text) {\n  return (text || '').replace(HTML_REGEX, '');\n}\n\nexport function copyToClipBoard(url) {\n  const el = document.createElement('textarea');\n  el.value = url;\n  el.setAttribute('readonly', '');\n  el.style.position = 'absolute';\n  el.style.left = '-9999px';\n  document.body.appendChild(el);\n  el.select();\n  document.execCommand('copy');\n  document.body.removeChild(el);\n  Alert().alert('Link copied to clip board ^_^', 'success');\n}\n\nexport function childIsString(children) {\n  const isString = typeof children === 'string';\n  const isArray = typeof children === 'object' && children.length;\n  const isTextArray = isArray && children.find(el => typeof el !== 'string');\n  const renderString = !children || !children.$$typeof || isTextArray || isString;\n  return renderString;\n}\n\nexport const getTitle = text => {\n  const headerMatch = /^#+(.*)$/;\n  const lines = text.split('\\n');\n  const noEmptyLines = lines.filter(line => line.length > 0);\n  if (noEmptyLines.length === 0) return {};\n  const firstLine = noEmptyLines[0];\n  const match = firstLine.match(headerMatch);\n  if (match == null) {\n    const limit = 60;\n    if (firstLine.length <= limit) return { titleText: firstLine, isHeading: false };\n    const titleText = firstLine.substr(0, firstLine.lastIndexOf(' ', limit)) + '...';\n    return { titleText, isHeading: false };\n  }\n  const title = match && match[1];\n  return { titleText: title.trim(), isHeading: true };\n};\n"],"sourceRoot":""}
{"version":3,"sources":["webpack:////Users/slavab/local/relevant/node_modules/pell/dist/pell.min.js","webpack:///./src/modules/admin/admin.actions.js","webpack:///./src/modules/admin/web/email.component.js","webpack:///./src/modules/ui/web/ShadowButton.js"],"names":["t","e","Object","assign","arguments","length","n","r","prototype","hasOwnProperty","call","c","l","a","addEventListener","s","appendChild","d","document","createElement","queryCommandState","f","execCommand","p","bold","icon","title","state","result","italic","underline","strikethrough","heading1","heading2","paragraph","quote","olist","ulist","code","line","link","window","prompt","image","m","actionbar","button","content","selected","actions","map","name","keys","classes","i","o","className","element","u","contentEditable","oninput","target","firstChild","nodeType","innerHTML","onChange","onkeydown","key","queryCommandValue","setTimeout","forEach","setAttribute","onclick","focus","classList","styleWithCSS","exec","init","default","defineProperty","value","exports","Alert","alert","API","process","inviteSchema","schema","Entity","idAttribute","listSchema","setInvites","data","community","skip","type","types","payload","setWaitlist","deleteWaitlistUsers","users","updateInvite","invite","destroyInvite","setInviteCount","count","getInviteCount","dispatch","api","request","method","endpoint","path","message","getInvites","limit","query","responseJSON","normalize","invites","createInvite","body","JSON","stringify","res","destroy","fetch","_id","reqOptions","then","handleErrors","catch","error","console","log","getWaitlist","response","json","wait","inviteFromWaitlist","err","signupForMailingList","user","setDownvotes","getDownvotes","sendEmail","email","saveEmail","loadEmail","deleteWaitlistUser","sendPostNotification","post","pell","require","Email","props","html","subject","campaign","handleChange","bind","submit","this","editor","getElementById","setState","event","style","display","flexDirection","alignSelf","marginLeft","placeholder","flex","width","margin","id","justifyContent","marginBottom","backgroundColor","color","onClick","Component","PropTypes","object","connect","auth","admin","bindActionCreators","adminActions","ShadowButton","children","propTypes","func","node"],"mappings":"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","file":"admin-web-email-component.bundle.js","sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e(t.pell={})}(this,function(t){\"use strict\";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=\"defaultParagraphSeparator\",l=\"formatBlock\",a=function(t,e,n){return t.addEventListener(e,n)},s=function(t,e){return t.appendChild(e)},d=function(t){return document.createElement(t)},n=function(t){return document.queryCommandState(t)},f=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return document.execCommand(t,!1,e)},p={bold:{icon:\"<b>B</b>\",title:\"Bold\",state:function(){return n(\"bold\")},result:function(){return f(\"bold\")}},italic:{icon:\"<i>I</i>\",title:\"Italic\",state:function(){return n(\"italic\")},result:function(){return f(\"italic\")}},underline:{icon:\"<u>U</u>\",title:\"Underline\",state:function(){return n(\"underline\")},result:function(){return f(\"underline\")}},strikethrough:{icon:\"<strike>S</strike>\",title:\"Strike-through\",state:function(){return n(\"strikeThrough\")},result:function(){return f(\"strikeThrough\")}},heading1:{icon:\"<b>H<sub>1</sub></b>\",title:\"Heading 1\",result:function(){return f(l,\"<h1>\")}},heading2:{icon:\"<b>H<sub>2</sub></b>\",title:\"Heading 2\",result:function(){return f(l,\"<h2>\")}},paragraph:{icon:\"&#182;\",title:\"Paragraph\",result:function(){return f(l,\"<p>\")}},quote:{icon:\"&#8220; &#8221;\",title:\"Quote\",result:function(){return f(l,\"<blockquote>\")}},olist:{icon:\"&#35;\",title:\"Ordered List\",result:function(){return f(\"insertOrderedList\")}},ulist:{icon:\"&#8226;\",title:\"Unordered List\",result:function(){return f(\"insertUnorderedList\")}},code:{icon:\"&lt;/&gt;\",title:\"Code\",result:function(){return f(l,\"<pre>\")}},line:{icon:\"&#8213;\",title:\"Horizontal Line\",result:function(){return f(\"insertHorizontalRule\")}},link:{icon:\"&#128279;\",title:\"Link\",result:function(){var t=window.prompt(\"Enter the link URL\");t&&f(\"createLink\",t)}},image:{icon:\"&#128247;\",title:\"Image\",result:function(){var t=window.prompt(\"Enter the image URL\");t&&f(\"insertImage\",t)}}},m={actionbar:\"pell-actionbar\",button:\"pell-button\",content:\"pell-content\",selected:\"pell-button-selected\"},r=function(n){var t=n.actions?n.actions.map(function(t){return\"string\"==typeof t?p[t]:p[t.name]?e({},p[t.name],t):t}):Object.keys(p).map(function(t){return p[t]}),r=e({},m,n.classes),i=n[c]||\"div\",o=d(\"div\");o.className=r.actionbar,s(n.element,o);var u=n.element.content=d(\"div\");return u.contentEditable=!0,u.className=r.content,u.oninput=function(t){var e=t.target.firstChild;e&&3===e.nodeType?f(l,\"<\"+i+\">\"):\"<br>\"===u.innerHTML&&(u.innerHTML=\"\"),n.onChange(u.innerHTML)},u.onkeydown=function(t){var e;\"Enter\"===t.key&&\"blockquote\"===(e=l,document.queryCommandValue(e))&&setTimeout(function(){return f(l,\"<\"+i+\">\")},0)},s(n.element,u),t.forEach(function(t){var e=d(\"button\");if(e.className=r.button,e.innerHTML=t.icon,e.title=t.title,e.setAttribute(\"type\",\"button\"),e.onclick=function(){return t.result()&&u.focus()},t.state){var n=function(){return e.classList[t.state()?\"add\":\"remove\"](r.selected)};a(u,\"keyup\",n),a(u,\"mouseup\",n),a(e,\"click\",n)}s(o,e)}),n.styleWithCSS&&f(\"styleWithCSS\"),f(c,i),n.element},i={exec:f,init:r};t.exec=f,t.init=r,t.default=i,Object.defineProperty(t,\"__esModule\",{value:!0})});\n","/* eslint-disable no-console */\nimport { normalize, schema } from 'normalizr';\nimport * as types from 'core/actionTypes';\nimport { alert, api } from 'app/utils';\n\nconst Alert = alert.Alert();\nconst API = process.env.API_SERVER + '/api';\n\nconst inviteSchema = new schema.Entity(\n  'invites',\n  {},\n  {\n    idAttribute: '_id'\n  }\n);\n\nconst listSchema = new schema.Entity(\n  'wait',\n  {},\n  {\n    idAttribute: '_id'\n  }\n);\n\nexport function setInvites({ data, community, skip }) {\n  return {\n    type: types.SET_INVITES,\n    payload: {\n      data,\n      community,\n      skip\n    }\n  };\n}\n\nexport function setWaitlist(data) {\n  return {\n    type: types.SET_WAITLIST,\n    payload: data\n  };\n}\n\nexport function deleteWaitlistUsers(users) {\n  return {\n    type: types.DELETE_WAITLIST_USER,\n    payload: users\n  };\n}\n\nexport function updateInvite(invite) {\n  return {\n    type: types.UPDATE_INVITE,\n    payload: invite\n  };\n}\n\nexport function destroyInvite(invite) {\n  return {\n    type: types.DESTROY_INVITE,\n    payload: invite\n  };\n}\n\nexport function setInviteCount(count) {\n  return {\n    type: types.SET_INVITE_COUNT,\n    payload: count\n  };\n}\n\nexport function getInviteCount() {\n  return async dispatch => {\n    try {\n      const count = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'invites',\n          path: '/count'\n        })\n      );\n\n      dispatch(setInviteCount(count));\n    } catch (err) {\n      Alert.alert(err.message);\n    }\n  };\n}\n\nexport function getInvites(skip, limit, community) {\n  return async dispatch => {\n    try {\n      const responseJSON = await dispatch(\n        api.request({\n          method: 'GET',\n          query: { skip, limit },\n          endpoint: 'invites',\n          path: ''\n        })\n      );\n      const data = normalize(\n        {\n          invites: responseJSON\n        },\n        {\n          invites: [inviteSchema]\n        }\n      );\n      dispatch(setInvites({ data, community, skip }));\n      return true;\n    } catch (error) {\n      return false;\n    }\n  };\n}\n\nexport function createInvite(invite) {\n  return async dispatch => {\n    try {\n      const res = await dispatch(\n        api.request({\n          method: 'POST',\n          endpoint: 'invites',\n          path: '/',\n          body: JSON.stringify(invite)\n        })\n      );\n      dispatch(updateInvite(res.invite[0]));\n      dispatch(setInviteCount(res.count));\n      return res;\n    } catch (error) {\n      Alert.alert(error.message);\n      return false;\n    }\n  };\n}\n\n// export function sendInvitationEmail(id) {\n//   return async dispatch =>\n//     fetch(API + '/invites/email', {\n//       method: 'POST',\n//       ...(await api.reqOptions()),\n//       body: JSON.stringify({\n//         inviteId: id\n//       })\n//     })\n//     .then(api.handleErrors)\n//     .then(response => response.json())\n//     .then(responseJSON => {\n//       dispatch(updateInvite(responseJSON));\n//       Alert.alert('Invitation email has been sent');\n//     })\n//     .catch(error => {\n//       console.log('invites error', error);\n//     });\n// }\n\n// export function checkInviteCode(code) {\n//   return async dispatch =>\n//     fetch(API + '/invites', {\n//       method: 'PUT',\n//       ...(await api.reqOptions()),\n//       body: JSON.stringify({\n//         code\n//       })\n//     })\n//     .then(api.handleErrors)\n//     .then(response => response.json())\n//     .then(responseJSON => {\n//       dispatch(updateInvite(responseJSON));\n//       if (responseJSON) return responseJSON;\n//       return false;\n//     })\n//     .catch(error => {\n//       Alert.alert(error.message);\n//       console.log('invites error', error);\n//     });\n// }\n\nexport function destroy(invite) {\n  return async dispatch =>\n    fetch(API + '/invites/' + invite._id, {\n      method: 'DELETE',\n      ...(await api.reqOptions())\n    })\n      .then(api.handleErrors)\n      .then(() => {\n        Alert.alert('removed item');\n        dispatch(destroyInvite(invite));\n      })\n      .catch(error => {\n        Alert.alert(error.message);\n        console.log('invites error', error);\n      });\n}\n\nexport function getWaitlist() {\n  return async dispatch =>\n    fetch(API + '/list', {\n      method: 'GET',\n      ...(await api.reqOptions())\n    })\n      .then(api.handleErrors)\n      .then(response => response.json())\n      .then(responseJSON => {\n        const data = normalize(\n          {\n            wait: responseJSON\n          },\n          {\n            wait: [listSchema]\n          }\n        );\n        dispatch(setWaitlist(data));\n      })\n      .catch(error => {\n        console.log('invites error', error);\n      });\n}\n\nexport function inviteFromWaitlist(invites) {\n  return async dispatch =>\n    fetch(process.env.API_SERVER + '/api/list/', {\n      method: 'PUT',\n      ...(await api.reqOptions()),\n      body: JSON.stringify(invites)\n    })\n      .then(api.handleErrors)\n      // .then(response => response.json())\n      .then(() => {\n        Alert.alert('users have been invited!');\n        dispatch(deleteWaitlistUsers(invites));\n        return true;\n      })\n      .catch(err => {\n        Alert.alert(err.message);\n        console.log(err);\n        return false;\n      });\n}\n\nexport function signupForMailingList(user) {\n  return async () =>\n    fetch(process.env.API_SERVER + '/api/list/', {\n      method: 'POST',\n      ...(await api.reqOptions()),\n      body: JSON.stringify(user)\n    })\n      .then(api.handleErrors)\n      .then(() => {\n        Alert.alert(\"You've been added to the waitlist.\", 'success');\n        return true;\n      })\n      .catch(err => {\n        Alert.alert(err.message);\n        console.log(err);\n        return false;\n      });\n}\n\nexport function setDownvotes(data) {\n  return {\n    type: types.SET_DOWNVOTES,\n    payload: data\n  };\n}\n\nexport function getDownvotes(skip, limit) {\n  return dispatch =>\n    dispatch(\n      api.request({\n        method: 'GET',\n        query: {\n          skip,\n          limit\n        },\n        endpoint: 'invest',\n        path: '/downvotes'\n      })\n    )\n      .then(res => dispatch(setDownvotes(res)))\n      .catch(err => Alert.alert(err.message));\n}\n\nexport function sendEmail(email) {\n  return async dispatch => {\n    try {\n      await dispatch(\n        api.request({\n          method: 'PUT',\n          endpoint: 'email',\n          path: '/',\n          body: JSON.stringify(email)\n        })\n      );\n      Alert.alert('Email has been sent');\n      return true;\n    } catch (error) {\n      return false;\n    }\n  };\n}\n\nexport function saveEmail(email) {\n  return async dispatch => {\n    try {\n      await dispatch(\n        api.request({\n          method: 'PUT',\n          endpoint: 'email',\n          path: '/save',\n          body: JSON.stringify(email)\n        })\n      );\n      Alert.alert('Email has been saved');\n      return true;\n    } catch (error) {\n      return false;\n    }\n  };\n}\n\nexport function loadEmail() {\n  return async dispatch => {\n    try {\n      const responseJSON = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'email',\n          path: '/load'\n        })\n      );\n      return responseJSON;\n    } catch (error) {\n      return false;\n    }\n  };\n}\n\nexport function deleteWaitlistUser(user) {\n  return async dispatch => {\n    try {\n      const result = await fetch(API + '/list/' + user._id, {\n        method: 'DELETE',\n        ...(await api.reqOptions())\n      });\n      // console.log(result)\n      if (result) {\n        dispatch(deleteWaitlistUsers([user]));\n      }\n    } catch (err) {\n      Alert.alert(err.message);\n    }\n  };\n}\n\nexport function sendPostNotification(post) {\n  return async dispatch => {\n    try {\n      await dispatch(\n        api.request({\n          method: 'POST',\n          endpoint: 'post',\n          path: '/sendPostNotification',\n          body: JSON.stringify(post)\n        })\n      );\n      return Alert.alert('Notification sent!');\n    } catch (error) {\n      return false;\n    }\n  };\n}\n\n// export function updateWaitlist(user) {\n//   return async dispatch =>\n//   fetch(API + '/list/' + user._id, {\n//     method: 'PUT',\n//     ...await api.reqOptions(),\n//     body: JSON.stringify({ user })\n//   })\n//   .then(api.handleErrors)\n//   .then((response) => response.json())\n//   .then((responseJSON) => {\n//     dispatch(updateWaitlist(responseJSON));\n//     if (responseJSON) return responseJSON;\n//     return false;\n//   })\n//   .catch((error) => {\n//     Alert.alert(error.message);\n//     console.log('invites error', error);\n//   });\n// }\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport * as adminActions from 'modules/admin/admin.actions';\nimport ShadowButton from 'modules/ui/web/ShadowButton';\n\nlet pell;\nif (process.env.BROWSER === true) {\n  pell = require('pell');\n  require('pell/dist/pell.min.css');\n  require('./admin.css');\n}\n\n// const customEntityTransform = (entity, text) => {\n//   switch (entity.type) {\n//     case 'IMAGE':\n//       return `<img src=\"${entity.data.src}\" style=\"margin:auto;display:block;float:${entity.data\n//        .alignment || 'none'};height: ${entity.data.height};width: ${entity.data.width}\"/>`;\n//     default:\n//       break;\n//   }\n// };\n\nclass Email extends Component {\n  static propTypes = {\n    actions: PropTypes.object\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      html: '',\n      email: '',\n      subject: '',\n      campaign: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.submit = this.submit.bind(this);\n    this.saveEmail = this.saveEmail.bind(this);\n    this.loadEmail = this.loadEmail.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadEmail();\n\n    this.editor = pell.init({\n      element: document.getElementById('email-editor'),\n      onChange: html => {\n        this.setState({ html });\n      },\n      styleWithCSS: true,\n      actions: [\n        'bold',\n        'underline',\n        'italic',\n        {\n          icon: '<b>Sml</b>',\n          title: 'small',\n          // result: () => pell.exec('decreaseFontSize')\n          result: () => pell.exec('fontSize', 2)\n        },\n        {\n          icon: '<b>reg</b>',\n          title: 'small',\n          // result: () => pell.exec('decreaseFontSize')\n          result: () => pell.exec('fontSize', 3)\n        },\n        'paragraph',\n        'heading1',\n        'heading2',\n        {\n          icon: '<b>H<sub>3</sub></b>',\n          title: 'H3',\n          result: () => pell.exec('formatBlock', '<H3>')\n        },\n        {\n          icon: '<b>H<sub>4</sub></b>',\n          title: 'H4',\n          result: () => pell.exec('formatBlock', '<H4>')\n        },\n        {\n          icon: '<b>Center</b>',\n          title: 'center',\n          result: () => pell.exec('justifyCenter')\n        },\n        {\n          icon: '<b>Left</b>',\n          title: 'left',\n          result: () => pell.exec('justifyLeft')\n        },\n        'image',\n        'link',\n        {\n          name: 'resize',\n          icon: '<b>Resize</b>',\n          result: () => pell.exec('enableObjectResizing')\n        },\n        {\n          icon: '<b><u><i>Clear</i></u></b>',\n          name: 'clear',\n          result: () => pell.exec('removeFormat')\n        }\n      ]\n      // classes: {\n      //   actionbar: 'pell-actionbar-custom-name',\n      //   button: 'pell-button-custom-name',\n      //   content: 'pell-content-custom-name'\n      // }\n    });\n  }\n\n  saveEmail() {\n    const { email, subject, campaign, html } = this.state;\n    this.props.actions.saveEmail({\n      email,\n      subject,\n      campaign,\n      html\n    });\n  }\n\n  loadEmail() {\n    this.props.actions.loadEmail().then(email => {\n      this.setState(email);\n      this.editor.content.innerHTML = email.html;\n    });\n  }\n\n  submit() {\n    const { email, subject, campaign, html } = this.state;\n    this.props.actions.sendEmail({ email, subject, campaign, html });\n    this.saveEmail();\n  }\n\n  handleChange(event) {\n    this.setState({ [event.target.name]: event.target.value });\n    if (event.target.name === 'html') {\n      this.editor.content.innerHTML = event.target.value;\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"adminContainer\">\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignSelf: 'flex-start',\n            marginLeft: 20\n          }}\n        >\n          <input\n            className={'blueInput'}\n            type={'email'}\n            name={'email'}\n            placeholder={'user email'}\n            value={this.state.email}\n            onChange={this.handleChange}\n          />\n          <input\n            className={'blueInput'}\n            type={'subject'}\n            name={'subject'}\n            placeholder={'subject'}\n            value={this.state.subject}\n            onChange={this.handleChange}\n          />\n          <input\n            className={'blueInput'}\n            type={'campaign'}\n            name={'campaign'}\n            placeholder={'campaign'}\n            value={this.state.campaign}\n            onChange={this.handleChange}\n          />\n        </div>\n        <div style={{ display: 'flex', flex: 1, flexDirection: 'row', width: '100%' }}>\n          <div style={{ flex: 1, margin: 20 }}>\n            <div id=\"email-editor\" />\n          </div>\n          <textarea\n            style={{ flex: 1, margin: 20 }}\n            value={this.state.html}\n            name={'html'}\n            onChange={this.handleChange}\n          />\n        </div>\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: 'row',\n            justifyContent: 'flex-end',\n            alignSelf: 'flex-start',\n            margin: 20,\n            marginBottom: 60\n          }}\n        >\n          <ShadowButton backgroundColor={'white'} color={'#3E3EFF'} onClick={this.submit}>\n            Send email\n          </ShadowButton>\n          <ShadowButton\n            backgroundColor={'white'}\n            color={'#3E3EFF'}\n            onClick={this.saveEmail}\n          >\n            Save draft\n          </ShadowButton>\n          <ShadowButton\n            backgroundColor={'white'}\n            color={'#3E3EFF'}\n            onClick={this.loadEmail}\n          >\n            Load\n          </ShadowButton>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  state => ({\n    auth: state.auth,\n    admin: state.admin\n  }),\n  dispatch => ({\n    actions: bindActionCreators(adminActions, dispatch)\n  })\n)(Email);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function ShadowButton(props) {\n  return (\n    <button\n      className=\"shadowButton\"\n      onClick={() => (props.onClick ? props.onClick() : null)}\n      style={{\n        ...props.style\n      }}\n    >\n      <span>{props.children}</span>\n    </button>\n  );\n}\n\nShadowButton.propTypes = {\n  onClick: PropTypes.func,\n  style: PropTypes.object,\n  children: PropTypes.node\n};\n"],"sourceRoot":""}
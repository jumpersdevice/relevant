{"version":3,"sources":["webpack:///./src/modules/admin/admin.actions.js","webpack:///./src/modules/invites/inviteModal.component.js","webpack:///./src/modules/invites/web/inviteModal.container.js","webpack:///./src/modules/web_ethTools/eth.context.js","webpack:///./src/modules/stats/coinStat.component.js","webpack:///./src/modules/wallet/price.context.js","webpack:///./src/utils/propValidation.js"],"names":["Alert","alert","API","process","inviteSchema","schema","Entity","idAttribute","listSchema","setInvites","data","community","skip","type","types","payload","setWaitlist","deleteWaitlistUsers","users","updateInvite","invite","destroyInvite","setInviteCount","count","getInviteCount","dispatch","a","api","request","method","endpoint","path","message","getInvites","limit","query","responseJSON","normalize","invites","createInvite","body","JSON","stringify","res","destroy","fetch","_id","reqOptions","then","handleErrors","catch","error","console","log","getWaitlist","response","json","wait","inviteFromWaitlist","err","signupForMailingList","user","setDownvotes","getDownvotes","sendEmail","email","saveEmail","loadEmail","deleteWaitlistUser","sendPostNotification","post","ModalDivider","styled","Divider","sizing","InviteModal","props","context","position","setValue","color","interpolate","inputRange","outputRange","animation","Animated","timing","toValue","duration","start","invitedBy","auth","postInviteGeneration","actions","newInvite","origin","window","location","code","Value","colors","black","this","inviteList","communityInvites","length","onShare","userMemberships","communities","currentId","Object","keys","find","key","slug","active","currentCommunity","membership","m","communityId","showAdminInvite","role","superAdmin","publicInviteUrl","handle","publicLink","invitesEl","map","url","generateInviteUrl","isNew","Date","getTime","parse","createdAt","redeemed","grey","blue","animate","mt","fdirection","justify","flex","mr","numberOfLines","Text","onClick","copyToClipBoard","onPress","title","subject","style","cursor","ml","alignSelf","c","green","pt","display","inline","size","amount","PUBLIC_LINK_REWARD","REFERRAL_REWARD","to","generateInvite","referralTokens","MAX_AIRDROP","Component","propTypes","PropTypes","object","func","InviteModalContainer","handleShare","close","connect","state","get","admin","initialValues","invitedByString","bindActionCreators","React","createContext","wallet","coinImage","require","CoinStat","tokens","isOwner","align","noNumber","secondary","fs","lh","spaceBetween","showPrice","rest","balance","tokenBalance","usdValue","usePrice","ethAddress","connectedBalance","iconSize","NumberStyle","SecondaryText","NumericalValue","imageMargin","Wrapper","ImageWrapper","spacer","source","h","w","bottom","resizeMode","abbreviateNumber","number","oneOfType","bool","userProps","string","lineheight","memo","Consumer","TOKEN_ADDRESS","DISABLE_PRICE","PriceContext","exchangeLink","tokenEnabled","price","useContext","PriceProvider","children","useReducer","priceReducer","loading","refresh","useEffect","didCancel","getTokenReserves","tokenPrice","ethPrice","bid","fetchData","setTimeout","ethReserve","tokenReserve","usdPrice","div","times","parseFloat","toString","computePrice","priceString","Provider","value","node","action","Error","shape","image","name","authProps","isRequired","embeddedUser","tags","array","postDate","instanceOf","link","parentPost","isAuthenticated","elementTypePropTypeChecker","propName","componentName","isValidElementType"],"mappings":"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","file":"invites-web-inviteModal-container.bundle.js","sourcesContent":["/* eslint-disable no-console */\nimport { normalize, schema } from 'normalizr';\nimport * as types from 'core/actionTypes';\nimport { alert, api } from 'app/utils';\n\nconst Alert = alert.Alert();\nconst API = process.env.API_SERVER + '/api';\n\nconst inviteSchema = new schema.Entity(\n  'invites',\n  {},\n  {\n    idAttribute: '_id'\n  }\n);\n\nconst listSchema = new schema.Entity(\n  'wait',\n  {},\n  {\n    idAttribute: '_id'\n  }\n);\n\nexport function setInvites({ data, community, skip }) {\n  return {\n    type: types.SET_INVITES,\n    payload: {\n      data,\n      community,\n      skip\n    }\n  };\n}\n\nexport function setWaitlist(data) {\n  return {\n    type: types.SET_WAITLIST,\n    payload: data\n  };\n}\n\nexport function deleteWaitlistUsers(users) {\n  return {\n    type: types.DELETE_WAITLIST_USER,\n    payload: users\n  };\n}\n\nexport function updateInvite(invite) {\n  return {\n    type: types.UPDATE_INVITE,\n    payload: invite\n  };\n}\n\nexport function destroyInvite(invite) {\n  return {\n    type: types.DESTROY_INVITE,\n    payload: invite\n  };\n}\n\nexport function setInviteCount(count) {\n  return {\n    type: types.SET_INVITE_COUNT,\n    payload: count\n  };\n}\n\nexport function getInviteCount() {\n  return async dispatch => {\n    try {\n      const count = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'invites',\n          path: '/count'\n        })\n      );\n\n      dispatch(setInviteCount(count));\n    } catch (err) {\n      Alert.alert(err.message);\n    }\n  };\n}\n\nexport function getInvites(skip, limit, community) {\n  return async dispatch => {\n    try {\n      const responseJSON = await dispatch(\n        api.request({\n          method: 'GET',\n          query: { skip, limit },\n          endpoint: 'invites',\n          path: ''\n        })\n      );\n      const data = normalize(\n        {\n          invites: responseJSON\n        },\n        {\n          invites: [inviteSchema]\n        }\n      );\n      dispatch(setInvites({ data, community, skip }));\n      return true;\n    } catch (error) {\n      return false;\n    }\n  };\n}\n\nexport function createInvite(invite) {\n  return async dispatch => {\n    try {\n      const res = await dispatch(\n        api.request({\n          method: 'POST',\n          endpoint: 'invites',\n          path: '/',\n          body: JSON.stringify(invite)\n        })\n      );\n      dispatch(updateInvite(res.invite[0]));\n      dispatch(setInviteCount(res.count));\n      return res;\n    } catch (error) {\n      Alert.alert(error.message);\n      return false;\n    }\n  };\n}\n\n// export function sendInvitationEmail(id) {\n//   return async dispatch =>\n//     fetch(API + '/invites/email', {\n//       method: 'POST',\n//       ...(await api.reqOptions()),\n//       body: JSON.stringify({\n//         inviteId: id\n//       })\n//     })\n//     .then(api.handleErrors)\n//     .then(response => response.json())\n//     .then(responseJSON => {\n//       dispatch(updateInvite(responseJSON));\n//       Alert.alert('Invitation email has been sent');\n//     })\n//     .catch(error => {\n//       console.log('invites error', error);\n//     });\n// }\n\n// export function checkInviteCode(code) {\n//   return async dispatch =>\n//     fetch(API + '/invites', {\n//       method: 'PUT',\n//       ...(await api.reqOptions()),\n//       body: JSON.stringify({\n//         code\n//       })\n//     })\n//     .then(api.handleErrors)\n//     .then(response => response.json())\n//     .then(responseJSON => {\n//       dispatch(updateInvite(responseJSON));\n//       if (responseJSON) return responseJSON;\n//       return false;\n//     })\n//     .catch(error => {\n//       Alert.alert(error.message);\n//       console.log('invites error', error);\n//     });\n// }\n\nexport function destroy(invite) {\n  return async dispatch =>\n    fetch(API + '/invites/' + invite._id, {\n      method: 'DELETE',\n      ...(await api.reqOptions())\n    })\n      .then(api.handleErrors)\n      .then(() => {\n        Alert.alert('removed item');\n        dispatch(destroyInvite(invite));\n      })\n      .catch(error => {\n        Alert.alert(error.message);\n        console.log('invites error', error);\n      });\n}\n\nexport function getWaitlist() {\n  return async dispatch =>\n    fetch(API + '/list', {\n      method: 'GET',\n      ...(await api.reqOptions())\n    })\n      .then(api.handleErrors)\n      .then(response => response.json())\n      .then(responseJSON => {\n        const data = normalize(\n          {\n            wait: responseJSON\n          },\n          {\n            wait: [listSchema]\n          }\n        );\n        dispatch(setWaitlist(data));\n      })\n      .catch(error => {\n        console.log('invites error', error);\n      });\n}\n\nexport function inviteFromWaitlist(invites) {\n  return async dispatch =>\n    fetch(process.env.API_SERVER + '/api/list/', {\n      method: 'PUT',\n      ...(await api.reqOptions()),\n      body: JSON.stringify(invites)\n    })\n      .then(api.handleErrors)\n      // .then(response => response.json())\n      .then(() => {\n        Alert.alert('users have been invited!');\n        dispatch(deleteWaitlistUsers(invites));\n        return true;\n      })\n      .catch(err => {\n        Alert.alert(err.message);\n        console.log(err);\n        return false;\n      });\n}\n\nexport function signupForMailingList(user) {\n  return async () =>\n    fetch(process.env.API_SERVER + '/api/list/', {\n      method: 'POST',\n      ...(await api.reqOptions()),\n      body: JSON.stringify(user)\n    })\n      .then(api.handleErrors)\n      .then(() => {\n        Alert.alert(\"You've been added to the waitlist.\", 'success');\n        return true;\n      })\n      .catch(err => {\n        Alert.alert(err.message);\n        console.log(err);\n        return false;\n      });\n}\n\nexport function setDownvotes(data) {\n  return {\n    type: types.SET_DOWNVOTES,\n    payload: data\n  };\n}\n\nexport function getDownvotes(skip, limit) {\n  return dispatch =>\n    dispatch(\n      api.request({\n        method: 'GET',\n        query: {\n          skip,\n          limit\n        },\n        endpoint: 'invest',\n        path: '/downvotes'\n      })\n    )\n      .then(res => dispatch(setDownvotes(res)))\n      .catch(err => Alert.alert(err.message));\n}\n\nexport function sendEmail(email) {\n  return async dispatch => {\n    try {\n      await dispatch(\n        api.request({\n          method: 'PUT',\n          endpoint: 'email',\n          path: '/',\n          body: JSON.stringify(email)\n        })\n      );\n      Alert.alert('Email has been sent');\n      return true;\n    } catch (error) {\n      return false;\n    }\n  };\n}\n\nexport function saveEmail(email) {\n  return async dispatch => {\n    try {\n      await dispatch(\n        api.request({\n          method: 'PUT',\n          endpoint: 'email',\n          path: '/save',\n          body: JSON.stringify(email)\n        })\n      );\n      Alert.alert('Email has been saved');\n      return true;\n    } catch (error) {\n      return false;\n    }\n  };\n}\n\nexport function loadEmail() {\n  return async dispatch => {\n    try {\n      const responseJSON = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'email',\n          path: '/load'\n        })\n      );\n      return responseJSON;\n    } catch (error) {\n      return false;\n    }\n  };\n}\n\nexport function deleteWaitlistUser(user) {\n  return async dispatch => {\n    try {\n      const result = await fetch(API + '/list/' + user._id, {\n        method: 'DELETE',\n        ...(await api.reqOptions())\n      });\n      // console.log(result)\n      if (result) {\n        dispatch(deleteWaitlistUsers([user]));\n      }\n    } catch (err) {\n      Alert.alert(err.message);\n    }\n  };\n}\n\nexport function sendPostNotification(post) {\n  return async dispatch => {\n    try {\n      await dispatch(\n        api.request({\n          method: 'POST',\n          endpoint: 'post',\n          path: '/sendPostNotification',\n          body: JSON.stringify(post)\n        })\n      );\n      return Alert.alert('Notification sent!');\n    } catch (error) {\n      return false;\n    }\n  };\n}\n\n// export function updateWaitlist(user) {\n//   return async dispatch =>\n//   fetch(API + '/list/' + user._id, {\n//     method: 'PUT',\n//     ...await api.reqOptions(),\n//     body: JSON.stringify({ user })\n//   })\n//   .then(api.handleErrors)\n//   .then((response) => response.json())\n//   .then((responseJSON) => {\n//     dispatch(updateWaitlist(responseJSON));\n//     if (responseJSON) return responseJSON;\n//     return false;\n//   })\n//   .catch((error) => {\n//     Alert.alert(error.message);\n//     console.log('invites error', error);\n//   });\n// }\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport CoinStat from 'modules/stats/coinStat.component';\nimport {\n  View,\n  SecondaryText,\n  LinkFont,\n  Divider,\n  BodyText,\n  Header,\n  CTALink,\n  Box\n} from 'modules/styled/uni';\nimport { colors, sizing } from 'app/styles';\nimport styled from 'styled-components/primitives';\nimport ULink from 'modules/navigation/ULink.component';\nimport {\n  REFERRAL_REWARD,\n  PUBLIC_LINK_REWARD,\n  MAX_AIRDROP\n} from '@r3l/common';\nimport { copyToClipBoard } from 'utils/text';\nimport { Animated } from 'react-native';\n\nconst ModalDivider = styled(Divider)`\n  position: relative;\n  margin: 0 -${sizing(6)};\n`;\n\nclass InviteModal extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.position = new Animated.Value(0);\n    this.color = colors.black;\n  }\n\n  componentDidMount() {\n    const { auth, inviteList, actions } = this.props;\n    const communityInvites = inviteList[auth.community] || [];\n\n    if (!inviteList.length) {\n      const skip = communityInvites.length;\n      actions.getInvites(skip, 100, auth.community);\n    }\n  }\n\n  animate = () => {\n    this.position.setValue(0);\n    this.color = this.position.interpolate({\n      inputRange: [0, 1],\n      // Green to blue, variables don't work for some reason\n      outputRange: ['#7ED321', '#0000ff']\n    });\n    this.animation = Animated.timing(this.position, {\n      toValue: 1,\n      duration: 8000\n    }).start();\n  };\n\n  generateInvite = async type => {\n    const invite = {\n      invitedBy: this.props.auth.user._id\n    };\n    if (type) {\n      invite.type = type;\n    }\n    const { postInviteGeneration } = this.props;\n    const newInvite = await this.props.actions.createInvite(invite);\n    if (postInviteGeneration) {\n      postInviteGeneration(newInvite);\n    }\n  };\n\n  generateInviteUrl = ({ invite }) => {\n    const origin =\n      window && window.location ? window.location.origin : 'https://relevant.community';\n    return `${origin}/${invite.community}?invitecode=${invite.code}`;\n  };\n\n  render() {\n    const { auth, community, count, inviteList, invites, onShare } = this.props;\n    const { user } = auth;\n    const { userMemberships = [], communities } = community;\n\n    const currentId = Object.keys(communities).find(\n      key => communities[key].slug === community.active\n    );\n    const currentCommunity = communities[currentId] || {};\n\n    const membership = userMemberships.find(m => m.communityId === currentCommunity._id);\n    const showAdminInvite =\n      user.role === 'admin' || (membership && membership.superAdmin);\n\n    const publicInviteUrl = `/${auth.community}?invitecode=${auth.user.handle}`;\n    const origin =\n      window && window.location ? window.location.origin : 'https://relevant.community';\n\n    const publicLink = `${origin}${publicInviteUrl}`;\n    const communityInvites = inviteList[auth.community] || [];\n\n    const invitesEl = communityInvites.map(_id => {\n      const invite = invites[_id];\n      const url = this.generateInviteUrl({ invite });\n      // `${origin}/${invite.community}?invitecode=${invite.code}`;\n      const now = new Date().getTime();\n      const createdAt = Date.parse(invite.createdAt);\n      const isNew = now - createdAt < 5000;\n      let color = invite.redeemed ? colors.grey : colors.blue;\n      if (isNew) {\n        this.animate();\n        color = this.color || colors.black;\n      }\n      return (\n        <View mt={2} fdirection=\"column\" key={_id}>\n          <View fdirection=\"row\" justify=\"space-between\">\n            <View fdirection=\"row\" flex={1} mr={1}>\n              <View flex={1}>\n                <CTALink numberOfLines={1}>\n                  <Animated.Text\n                    onClick={() => copyToClipBoard(url)}\n                    onPress={() =>\n                      onShare({\n                        title: 'Join Relevant',\n                        message: 'Join Relevant',\n                        url,\n                        subject: 'Join Relevant'\n                      })\n                    }\n                    style={{\n                      color,\n                      cursor: 'pointer'\n                    }}\n                  >\n                    {url}\n                  </Animated.Text>\n                </CTALink>\n              </View>\n              <View ml={0.5} alignSelf=\"flex-end\">\n                <CTALink c={colors.grey}>\n                  {invite.type === 'admin' ? 'mod' : null}\n                </CTALink>\n              </View>\n            </View>\n            <CTALink c={invite.redeemed ? colors.grey : colors.green}>\n              {invite.redeemed ? 'redeemed' : 'available'}\n            </CTALink>\n          </View>\n          <Divider pt={2} />\n        </View>\n      );\n    });\n\n    const url = publicLink;\n\n    return (\n      <View display=\"flex\" fdirection=\"column\">\n        <View mt={6} display=\"flex\" fdirection=\"column\">\n          <SecondaryText>Public Invite Link</SecondaryText>\n          <BodyText inline={1} mt={1}>\n            You and each new users get{' '}\n            <CoinStat size={2} amount={PUBLIC_LINK_REWARD} inline={1} /> coin\n            {PUBLIC_LINK_REWARD === 1 ? '' : 's'} per signup via your public invite code.\n          </BodyText>\n          <LinkFont\n            mt={1}\n            onClick={() => copyToClipBoard(url)}\n            c={colors.blue}\n            onPress={() =>\n              onShare({\n                title: 'Join Relevant',\n                message: 'Join Relevant',\n                url: publicLink,\n                subject: 'Join Relevant'\n              })\n            }\n          >\n            {publicLink}\n          </LinkFont>\n        </View>\n        <Divider pt={6} />\n        <View display=\"flex\" fdirection=\"column\" mt={6}>\n          <SecondaryText>\n            Private Invite: Your have {count[community.active]} referral invite\n            {count[community.active] > 1 ? 's' : ''} left.\n          </SecondaryText>\n          <Box mt={1} />\n          <BodyText inline={1}>\n            Share your Reputation with trustworthy friends with your private invite codes.\n            Earn <CoinStat size={2} amount={REFERRAL_REWARD} inline={1} /> coin\n            {REFERRAL_REWARD === 1 ? '' : 's'} per signup.\n          </BodyText>\n        </View>\n        <ULink\n          to={'#'}\n          onPress={() => this.generateInvite()}\n          onClick={() => this.generateInvite()}\n          c={colors.blue}\n        >\n          <Box mt={1}></Box>\n          <LinkFont c={colors.blue}>Click here to generate a new private link</LinkFont>\n        </ULink>\n        {showAdminInvite ? (\n          <ULink\n            to={'#'}\n            onPress={() => this.generateInvite('admin')}\n            onClick={() => this.generateInvite('admin')}\n            c={colors.blue}\n          >\n            <Box mt={1} />\n            <LinkFont mt={1} c={colors.blue}>\n              Click here to generate moderator invite link\n            </LinkFont>\n          </ULink>\n        ) : null}\n        <ModalDivider pt={6} />\n        <View mt={6} fdirection={'column'}>\n          <Header>Private Invites</Header>\n          <BodyText inline={1} fdirection=\"row\">\n            Here’s how many coins you’ve made from invites so far:{' '}\n            <CoinStat size={2} amount={user.referralTokens} inline={1} /> coin\n            {user.referralTokens === 1 ? '' : 's'} (max amount is {MAX_AIRDROP})\n          </BodyText>\n          <View mt={4} fdirection=\"column\">\n            {invitesEl}\n          </View>\n        </View>\n      </View>\n    );\n  }\n}\n\nInviteModal.propTypes = {\n  inviteList: PropTypes.object,\n  invites: PropTypes.object,\n  auth: PropTypes.object,\n  community: PropTypes.object,\n  actions: PropTypes.object,\n  count: PropTypes.object,\n  onShare: PropTypes.func,\n  postInviteGeneration: PropTypes.func\n};\n\nexport default InviteModal;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport { createInvite, getInviteCount, getInvites } from 'modules/admin/admin.actions';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport InviteModalComponent from 'modules/invites/inviteModal.component';\nimport { Alert } from 'app/utils/alert';\nimport { copyToClipBoard } from 'utils/text';\n\nclass InviteModalContainer extends Component {\n  componentDidMount() {\n    const { community } = this.props.auth;\n    if (community) this.props.actions.getInviteCount();\n  }\n\n  postInviteGeneration(invite) {\n    if (invite) {\n      Alert().alert('Generated new invite link', 'success');\n    }\n  }\n\n  handleShare(data) {\n    copyToClipBoard(data.url);\n  }\n\n  render() {\n    return (\n      <InviteModalComponent\n        {...this.props}\n        postInviteGeneration={this.postInviteGeneration}\n        onShare={this.handleShare}\n      />\n    );\n  }\n}\n\nInviteModalContainer.propTypes = {\n  actions: PropTypes.object,\n  close: PropTypes.func,\n  auth: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  auth: get(state, 'auth', {}),\n  community: get(state, 'community', {}),\n  count: state.admin.count,\n  invites: state.admin.invites,\n  inviteList: state.admin.inviteList,\n  initialValues: {\n    invitedByString: get(state, 'auth.user.name', '')\n  }\n});\n\nconst mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators(\n    {\n      createInvite,\n      getInviteCount,\n      getInvites\n    },\n    dispatch\n  )\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InviteModalContainer);\n","import React from 'react';\n// Make sure the shape of the default value passed to\n// createContext matches the shape that the consumers expect!\nexport default React.createContext({\n  wallet: null\n  // toggleTheme: () => {},\n});\n","import React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport Eth from 'modules/web_ethTools/eth.context';\nimport { abbreviateNumber } from 'app/utils/numbers';\nimport { userProps } from 'app/utils/propValidation';\nimport { sizing } from 'app/styles';\nimport {\n  Image,\n  ImageWrapper,\n  NumericalValue,\n  SecondaryText,\n  Text\n} from 'modules/styled/uni';\nimport { usePrice } from 'modules/wallet/price.context';\n\nconst coinImage = require('public/img/relevantcoin.png');\n\nfunction CoinStat(props) {\n  const {\n    user,\n    isOwner,\n    wallet,\n    size,\n    amount,\n    mr,\n    align,\n    noNumber,\n    secondary,\n    fs,\n    lh,\n    inline,\n    c,\n    spaceBetween,\n    showPrice,\n    ...rest\n  } = props;\n\n  let tokens;\n  if (typeof amount === 'number') tokens = amount;\n  else if (user) {\n    tokens = user.balance;\n    if (user.tokenBalance) tokens += user.tokenBalance;\n  }\n\n  const usdValue = usePrice(tokens);\n\n  if (isOwner && user.ethAddress && user.ethAddress[0] && wallet.connectedBalance) {\n    tokens = wallet.connectedBalance + user.balance;\n  }\n  const iconSize = typeof size === 'number' ? size : 3;\n  const NumberStyle = secondary ? SecondaryText : NumericalValue;\n  const imageMargin = align === 'center' ? 0 : sizing(-1, 'px');\n  const Wrapper = inline ? Text : ImageWrapper;\n\n  let spacer = 0;\n  if (!inline && iconSize) {\n    spacer = iconSize / 4;\n  }\n  if (!inline && spaceBetween) {\n    spacer = spaceBetween;\n  }\n\n  return (\n    <Wrapper\n      {...rest}\n      inline={inline ? 1 : 0}\n      mr={typeof mr === 'number' ? mr : inline ? 0 : 1.5}\n      align={align}\n    >\n      <Image\n        inline={inline ? 1 : 0}\n        source={coinImage}\n        h={iconSize * 1}\n        w={iconSize * 1.05}\n        style={{ bottom: imageMargin }}\n        resizeMode=\"contain\"\n      />\n\n      {noNumber ? null : (\n        <NumberStyle ml={spacer} fs={fs} lh={lh} inline={inline ? 1 : 0} c={c}>\n          {inline ? ' ' : ''}\n          {abbreviateNumber(tokens)}\n          {showPrice ? usdValue : ''}\n        </NumberStyle>\n      )}\n    </Wrapper>\n  );\n}\n\nCoinStat.propTypes = {\n  lh: PropTypes.number,\n  inline: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n  secondary: PropTypes.bool,\n  mr: PropTypes.number,\n  fs: PropTypes.number,\n  amount: PropTypes.number,\n  size: PropTypes.number,\n  user: userProps,\n  isOwner: PropTypes.bool,\n  wallet: PropTypes.object,\n  align: PropTypes.string,\n  lineheight: PropTypes.string,\n  c: PropTypes.string,\n  noNumber: PropTypes.bool,\n  spaceBetween: PropTypes.number,\n  showPrice: PropTypes.bool\n};\n\nexport default memo(props => (\n  <Eth.Consumer>{wallet => <CoinStat wallet={wallet} {...props} />}</Eth.Consumer>\n));\n","import React, { useReducer, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { getTokenReserves } from '@uniswap/sdk';\nimport { abbreviateNumber } from 'utils/numbers';\n\nif (process.env.WEB !== 'true') {\n  require('../../publicenv');\n}\n\nconst { TOKEN_ADDRESS, DISABLE_PRICE } = process.env;\nconst UPDATE_INTERVAL = 1 * 60 * 1000;\n\nexport const PriceContext = React.createContext(0);\n\nexport function exchangeLink() {\n  return `https://uniswap.exchange/swap?theme=dark&outputCurrency=${TOKEN_ADDRESS}`;\n}\n\nexport function tokenEnabled() {\n  return !!TOKEN_ADDRESS;\n}\n\nexport function usePrice(amount, type) {\n  const { price } = useContext(PriceContext);\n  if (!price) return '';\n  if (type === 'number') return abbreviateNumber(price * amount);\n  return ` ($${abbreviateNumber(price * amount, 2)})`;\n}\n\nPriceProvider.propTypes = {\n  children: PropTypes.node\n};\n\nexport default function PriceProvider({ children }) {\n  const [state, dispatch] = useReducer(priceReducer, {\n    loading: false,\n    error: false,\n    data: null,\n    refresh: 0\n  });\n\n  useEffect(() => {\n    let didCancel = false;\n    const fetchData = async () => {\n      dispatch({ type: 'FETCH_PRICE_INIT' });\n      if (!TOKEN_ADDRESS || DISABLE_PRICE) return;\n      try {\n        const tokenPrice = await getTokenReserves(TOKEN_ADDRESS);\n        const res = await fetch('https://api.infura.io/v1/ticker/ethusd');\n        const ethPrice = await res.json();\n\n        if (!didCancel) {\n          dispatch({\n            type: 'FETCH_PRICE_SUCCESS',\n            payload: { ...tokenPrice, ethPrice: ethPrice.bid }\n          });\n        }\n      } catch (err) {\n        if (!didCancel) {\n          dispatch({ type: 'FETCH_PRICE_ERROR', payload: err });\n        }\n      }\n    };\n    fetchData();\n\n    setTimeout(() => {\n      dispatch({ type: 'REFRESH_PRICE' });\n    }, UPDATE_INTERVAL);\n\n    return () => {\n      didCancel = true;\n    };\n  }, [state.refresh]);\n\n  const price = computePrice(state.data);\n  const priceString = `($${abbreviateNumber(price, 2)})`;\n\n  return (\n    <PriceContext.Provider value={{ price, priceString }}>\n      {children}\n    </PriceContext.Provider>\n  );\n}\n\nconst priceReducer = (state, action) => {\n  switch (action.type) {\n    case 'REFRESH_PRICE':\n      return {\n        ...state,\n        refresh: state.refresh + 1\n      };\n    case 'FETCH_PRICE_INIT':\n      return {\n        ...state,\n        loading: true,\n        error: false\n      };\n    case 'FETCH_PRICE_SUCCESS':\n      return {\n        ...state,\n        loading: false,\n        error: false,\n        data: action.payload\n      };\n    case 'FETCH_PRICE_ERROR':\n      return {\n        ...state,\n        loading: false,\n        error: action.payload\n      };\n    default:\n      throw new Error();\n  }\n};\n\nfunction computePrice(data) {\n  if (!data) return null;\n  const { ethReserve, tokenReserve, ethPrice } = data;\n  if (!ethReserve || !tokenReserve) return null;\n  const priceInEth = ethReserve.amount.div(tokenReserve.amount);\n  const usdPrice = priceInEth.times(ethPrice);\n  return parseFloat(usdPrice.toString());\n}\n","import PropTypes from 'prop-types';\nimport { isValidElementType } from 'react-is';\n\nexport const userProps = PropTypes.shape({\n  handle: PropTypes.string,\n  balance: PropTypes.number,\n  image: PropTypes.string,\n  name: PropTypes.string\n  // relevance: // TODO shape or null\n});\n\nexport const postProps = PropTypes.shape({\n  _id: PropTypes.string.isRequired, // TODO\n  user: PropTypes.string.isRequired,\n  title: PropTypes.string,\n  embeddedUser: PropTypes.object, // userProp?\n  tags: PropTypes.array,\n  body: PropTypes.string,\n  postDate: PropTypes.instanceOf(Date),\n  data: PropTypes.object, // TODO shape or null\n  link: PropTypes.object, // TODO shape or null\n  parentPost: PropTypes.number,\n  type: PropTypes.string\n});\n\nexport const authProps = PropTypes.shape({\n  isAuthenticated: PropTypes.bool,\n  user: userProps,\n  community: PropTypes.string\n});\n\n// eslint-disable-next-line consistent-return\nexport function elementTypePropTypeChecker(props, propName, componentName) {\n  if (props[propName] && !isValidElementType(props[propName])) {\n    return new Error(\n      `Invalid prop '${propName}' supplied to '${componentName}': the prop is not a valid React component`\n    );\n  }\n}\n"],"sourceRoot":""}
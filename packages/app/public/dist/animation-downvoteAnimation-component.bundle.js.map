{"version":3,"sources":["webpack:///./src/modules/animation/thumb.component.js","webpack:///./src/modules/animation/downvoteAnimation.component.js"],"names":["thumbStyles","position","top","padding","fontSize","backgroundColor","Thumb","parent","id","destroy","useState","Animated","Value","opacity","scale","useEffect","parallel","timing","toValue","delay","duration","easing","Easing","in","ease","useNativeDriver","elastic","start","timeout","setTimeout","clearTimeout","Text","pointerEvents","key","style","y","transform","propTypes","PropTypes","object","string","func","Container","styled","View","isNative","DownvoteAnimation","animEls","setAnimEls","useSelector","state","animation","downvote","index","els","numbers","guid","newEl","runAnimation","Object","values"],"mappings":"sgDAIA,IAAMA,EAAc,CAClBC,SAAU,WACVC,IAAK,EACLC,QAAS,GACTC,SAAU,IACVC,gBAAiB,eASJ,SAASC,EAAT,GAAwC,IAAvBC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,GAAIC,EAAW,EAAXA,QAAW,EACnCC,mBAAS,IAAIC,IAASC,MAAM,IAAvCC,EAD8C,cAErCH,mBAAS,IAAIC,IAASC,MAAM,IAArCE,EAF8C,YA6BrD,OAzBAC,qBAAU,WACRJ,IAASK,SAAS,CAChBL,IAASM,OAAOJ,EAAS,CACvBK,QAAS,EACTC,MAAO,IACPC,SAAU,IACVC,OAAQC,IAAOC,GAAGD,IAAOE,MACzBC,iBAAiB,IAEnBd,IAASM,OAAOH,EAAO,CACrBI,QAAS,EACTC,MAAO,EACPC,SAAU,IACVC,OAAQC,IAAOI,QAAQ,GACvBD,iBAAiB,IAChBE,UACFA,QAEH,IAAMC,EAAUC,YAAW,kBAAMpB,EAAQD,KAAK,KAC9C,OAAO,WACLsB,aAAaF,GACbnB,EAAQD,MAET,CAACC,EAASD,EAAIK,EAASC,IAGxB,kBAACH,EAAA,EAASoB,KAAV,CACEC,cAAe,OACfC,IAAKzB,EACL0B,MAAO,CAAC,EAAD,GACAlC,GACL,CACEE,IAAKK,EAAO4B,EACZC,UAAW,CAAC,CAAEtB,UACdD,aARN,M,44BApCJP,EAAM+B,UAAY,CAChB9B,OAAQ+B,IAAUC,OAClB/B,GAAI8B,IAAUE,OACd/B,QAAS6B,IAAUG,MCRrB,IAAMC,EAAYC,IAAOC,KAAV,wFAAGD,CAAH,4GACDE,IAAW,WAAa,SAUvB,SAASC,IAAoB,MACZpC,mBAAS,IADG,WACnCqC,EADmC,KAC1BC,EAD0B,OAGhBC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,UAAUC,UAAY,MAAnEC,EAHkC,EAGlCA,MAAO9C,EAH2B,EAG3BA,OAEf,SAASE,EAAQwB,GACfe,GAAW,SAAAM,GAC8BA,EAA9BrB,GACT,OAFgB,IACuBqB,EADvB,CACPrB,GADO,WAkBpB,OAZAlB,qBAAU,YACR,WACE,GAAKR,EAAL,CACA,IAAM0B,EAAMsB,IAAQC,OACdC,EAAQ,OACXxB,EAAM,kBAAC3B,EAAD,CAAOG,QAASA,EAASF,OAAQA,EAAQ0B,IAAKA,EAAKzB,GAAIyB,KAEhEe,GAAW,SAAAM,GAAG,cAAUA,GAAQG,OAElCC,KACC,CAACL,EAAO9C,IAEJ,kBAACmC,EAAD,CAAWV,cAAe,QAAS2B,OAAOC,OAAOb","file":"animation-downvoteAnimation-component.bundle.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Animated, Easing } from 'react-native';\nimport PropTypes from 'prop-types';\n\nconst thumbStyles = {\n  position: 'absolute',\n  top: 0,\n  padding: 10,\n  fontSize: 100,\n  backgroundColor: 'transparent'\n};\n\nThumb.propTypes = {\n  parent: PropTypes.object,\n  id: PropTypes.string,\n  destroy: PropTypes.func\n};\n\nexport default function Thumb({ parent, id, destroy }) {\n  const [opacity] = useState(new Animated.Value(1));\n  const [scale] = useState(new Animated.Value(0));\n\n  useEffect(() => {\n    Animated.parallel([\n      Animated.timing(opacity, {\n        toValue: 0,\n        delay: 500,\n        duration: 300,\n        easing: Easing.in(Easing.ease),\n        useNativeDriver: true\n      }),\n      Animated.timing(scale, {\n        toValue: 1,\n        delay: 0,\n        duration: 500,\n        easing: Easing.elastic(2),\n        useNativeDriver: true\n      }).start()\n    ]).start();\n\n    const timeout = setTimeout(() => destroy(id), 2000);\n    return () => {\n      clearTimeout(timeout);\n      destroy(id);\n    };\n  }, [destroy, id, opacity, scale]);\n\n  return (\n    <Animated.Text\n      pointerEvents={'none'}\n      key={id}\n      style={[\n        { ...thumbStyles },\n        {\n          top: parent.y,\n          transform: [{ scale }],\n          opacity\n        }\n      ]}\n    >\n      ðŸ‘Ž\n    </Animated.Text>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport styled from 'styled-components/primitives';\nimport { isNative } from 'styles';\nimport { numbers } from 'app/utils';\nimport Thumb from './thumb.component';\n\nconst Container = styled.View`\n  position: ${isNative ? 'absolute' : 'fixed'};\n  z-index: 10000;\n  left: 0;\n  top: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport default function DownvoteAnimation() {\n  const [animEls, setAnimEls] = useState({});\n\n  const { index, parent } = useSelector(state => state.animation.downvote || {});\n\n  function destroy(key) {\n    setAnimEls(els => {\n      const { [key]: removeEl, ...newEls } = els;\n      return newEls;\n    });\n  }\n\n  useEffect(() => {\n    function runAnimation() {\n      if (!parent) return;\n      const key = numbers.guid();\n      const newEl = {\n        [key]: <Thumb destroy={destroy} parent={parent} key={key} id={key} />\n      };\n      setAnimEls(els => ({ ...els, ...newEl }));\n    }\n    runAnimation();\n  }, [index, parent]);\n\n  return <Container pointerEvents={'none'}>{Object.values(animEls)}</Container>;\n}\n"],"sourceRoot":""}
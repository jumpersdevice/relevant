{"version":3,"sources":["webpack:///./src/utils/notifications.js","webpack:///./src/modules/activity/activity.actions.js","webpack:///./src/modules/activity/notificationTimes.js","webpack:///./src/modules/discover/web/discoverHelper.js","webpack:///./src/modules/discover/web/discoverTabs.component.js","webpack:///./src/modules/navigation/web/breadcrumbs.component.js","webpack:///./src/modules/navigation/web/topnav.component.js","webpack:///./src/modules/styled/web.js","webpack:///./src/modules/ui/web/menuIcon.component.js"],"names":["initPushNotifications","a","navigator","serviceWorker","ready","registration","pushManager","getSubscription","subscription","process","convertedVapidKey","urlBase64ToUint8Array","subscribe","userVisibleOnly","applicationServerKey","console","log","base64String","base64","repeat","length","replace","rawData","window","atob","outputArray","Uint8Array","i","charCodeAt","register","err","registerServiceWorker","apiServer","API_SERVER","reqOptions","tk","credentials","headers","Accept","Authorization","setActivity","data","type","index","types","payload","resetActivity","clearCount","setCount","getActivity","skip","dispatch","api","request","method","endpoint","path","auth","query","res","errorActions","message","markRead","storage","getToken","then","fetch","catch","createNotification","obj","body","JSON","stringify","getNotificationCount","unread","showBannerPrompt","promptType","promptProps","hideBannerPrompt","notification","enableDesktopNotifications","updateNotificationSettings","desktop","all","toJSON","showBetPrompt","isDismissed","showPushNotificationPrompt","handleDesktopPrompt","handleMobilePrompt","Notification","permission","Promise","resolve","reject","PushNotification","checkPermissions","resp","alert","isMobile","standardRoutes","key","title","tagRoutes","getDiscoverState","nextProps","prevState","match","params","tag","sort","routes","tabIndex","findIndex","tab","DiscoverTab","props","linkData","community","url","to","encodeURI","mr","propTypes","PropTypes","object","string","StyledUl","styled","ul","DiscoverTabs","view","map","get","connect","state","Breadcrumbs","this","newPosts","actions","communitySlug","activeCommunity","newPostsNumber","refreshPostsEl","onClick","refreshTab","ml","c","colors","blue","hu","lh","fs","fdirection","align","black","name","discover","Component","posts","newPostsAvailable","bindActionCreators","Nav","View","white","layout","headerHeight","p","top","sideNavWidth","Badge","sizing","ActionButton","styledComponent","Button","screenSize","TopNav","now","Date","isAuthenticated","timeSinceNotificationCount","getTime","setState","location","history","push","search","pathname","showModal","addEventListener","prevProps","wasNotAuthenticated","removeEventListener","notif","justify","BANNER_PROMPT_HEIGHT","zIndex","display","flex","grow","hc","grey","d","count","bg","red","fw","e","preventDefault","color","disabled","user","toggleLogin","mt","number","withRouter","navigation","StyledNavLink","NavLink","fonts","header","mixins","font","margin","div","padding","background","border","width","height","Text","span","InlineText","Image","img","borderRadius","Divider","universalBorder","Title","LinkFont","link","SecondaryText","secondaryText","BodyText","altLink","commentText","bodyStyle","button","buttonFont","activeButtonShadow","NumericalValue","numericalValue","inheritfont","InputPlain","input","Input","StyledTextareaAutocomplete","ReactTextareaAutocomplete","StyledTextarea","TextareaAutosize","Form","form","Video","video","Menu","MenuBar","MenuIcon","sideNavIsOpen","closeWebSideNav","openWebSideNav","toggleMenu","oneOfType","array"],"mappings":"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","file":"navigation-web-topnav-component.bundle.js","sourcesContent":["if (process.env.BROWSER === true) {\n  registerServiceWorker();\n}\n\nfunction registerServiceWorker() {\n  try {\n    navigator.serviceWorker.register('/service-worker.js');\n  } catch (err) {\n    console.log(err); // eslint-disable-line\n  }\n}\n\nexport async function initPushNotifications() {\n  try {\n    const registration = await navigator.serviceWorker.ready;\n    const subscription = await registration.pushManager.getSubscription();\n    if (subscription) return subscription;\n\n    const vapidPublicKey = process.env.VAPID_PUBLIC_KEY;\n    const convertedVapidKey = urlBase64ToUint8Array(vapidPublicKey);\n    return registration.pushManager.subscribe({\n      userVisibleOnly: true,\n      applicationServerKey: convertedVapidKey\n    });\n  } catch (err) {\n    console.log(err); // eslint-disable-line\n    return null;\n  }\n}\n\nfunction urlBase64ToUint8Array(base64String) {\n  const padding = '='.repeat((4 - (base64String.length % 4)) % 4);\n  const base64 = (base64String + padding).replace(/-/g, '+').replace(/_/g, '/');\n\n  const rawData = window.atob(base64);\n  const outputArray = new Uint8Array(rawData.length);\n\n  for (let i = 0; i < rawData.length; ++i) {\n    outputArray[i] = rawData.charCodeAt(i);\n  }\n  return outputArray;\n}\n","import * as types from 'core/actionTypes';\nimport * as errorActions from 'modules/ui/error.actions';\nimport { api, storage } from 'app/utils';\nimport { initPushNotifications } from 'app/utils/notifications';\nimport { updateNotificationSettings } from 'modules/auth/auth.actions';\nimport {\n  SHOW_DESKTOP_PROMPT_AFTER_DAYS,\n  SHOW_MOBILE_PROMPT_AFTER_DAYS,\n  SHOW_BET_PROMPT_AFTER_DAYS\n} from './notificationTimes';\n\nlet PushNotification;\nif (process.env.WEB !== 'true') {\n  PushNotification = require('react-native-push-notification');\n}\n\nconst apiServer = `${process.env.API_SERVER}/api/notification`;\n\nconst reqOptions = tk => ({\n  credentials: 'include',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${tk}`\n  }\n});\n\nexport function setActivity(data, type, index) {\n  return {\n    type: types.SET_ACTIVITY,\n    payload: {\n      data,\n      type,\n      index\n    }\n  };\n}\n\nexport function resetActivity(data) {\n  return {\n    type: 'RESET_ACTIVITY',\n    payload: data\n  };\n}\n\nexport function clearCount() {\n  return {\n    type: 'CLEAR_COUNT'\n  };\n}\n\nexport function setCount(data) {\n  return {\n    type: types.SET_COUNT,\n    payload: data\n  };\n}\n\nexport function getActivity(skip) {\n  return async dispatch => {\n    try {\n      const type = 'personal';\n      const res = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'notification',\n          path: '/',\n          auth: true,\n          query: { skip }\n        })\n      );\n      dispatch(setActivity(res, type, skip));\n      dispatch(errorActions.setError('activity', false));\n    } catch (err) {\n      errorActions.setError('activity', true, err.message);\n    }\n  };\n}\n\nexport function markRead() {\n  return dispatch =>\n    storage\n      .getToken()\n      .then(tk =>\n        fetch(`${apiServer}/markread`, {\n          ...reqOptions(tk),\n          method: 'PUT'\n        })\n      )\n      .then(() => {\n        dispatch(clearCount());\n      })\n      .catch(null);\n}\n\nexport function createNotification(obj) {\n  return () =>\n    storage\n      .getToken()\n      .then(tk =>\n        fetch(`${apiServer}`, {\n          ...reqOptions(tk),\n          method: 'POST',\n          body: JSON.stringify(obj)\n        })\n      )\n      .catch(null);\n}\n\nexport function getNotificationCount() {\n  return async dispatch => {\n    try {\n      const res = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'notification',\n          path: '/unread',\n          auth: true\n        })\n      );\n      dispatch(setCount(res.unread));\n    } catch (err) {} // eslint-disable-line\n  };\n}\n\nexport function showBannerPrompt(promptType, promptProps) {\n  return {\n    type: types.SHOW_BANNER_PROMPT,\n    payload: {\n      promptType,\n      promptProps\n    }\n  };\n}\n\nexport function hideBannerPrompt(notification) {\n  return {\n    type: types.HIDE_BANNER_PROMPT,\n    payload: notification\n  };\n}\n\nexport function enableDesktopNotifications() {\n  return async dispatch => {\n    try {\n      const subscription = await initPushNotifications();\n      dispatch(\n        updateNotificationSettings({ desktop: { all: true } }, subscription.toJSON())\n      );\n      dispatch(hideBannerPrompt());\n    } catch (err) {\n      console.log(err); // eslint-disable-line\n    }\n  };\n}\n\nexport const showBetPrompt = async dispatch => {\n  const isDismissed = await storage.isDismissed(\n    'betDismissed',\n    SHOW_BET_PROMPT_AFTER_DAYS\n  );\n  if (!isDismissed) return dispatch(showBannerPrompt('bet'));\n  return false;\n};\n\nexport const showPushNotificationPrompt = (promptProps = {}) => async dispatch => {\n  if (process.env.BROWSER === true) {\n    return handleDesktopPrompt({ dispatch, promptProps });\n  }\n  return handleMobilePrompt({ dispatch, promptProps });\n};\n\nasync function handleDesktopPrompt({ dispatch, promptProps }) {\n  if (\n    Notification &&\n    (Notification.permission === 'granted' || Notification.permission === 'denied')\n  ) {\n    return false;\n  }\n  const isDismissed = await storage.isDismissed(\n    'pushDismissed',\n    SHOW_DESKTOP_PROMPT_AFTER_DAYS\n  );\n  if (isDismissed) return false;\n\n  return dispatch(showBannerPrompt('push', promptProps));\n}\n\nasync function handleMobilePrompt({ dispatch, promptProps }) {\n  if (!PushNotification) return false;\n\n  const permissions = await new Promise((resolve, reject) => {\n    PushNotification.checkPermissions(resp => {\n      if (!resp) return reject();\n      return resolve(resp);\n    });\n  });\n\n  if (permissions.alert) return false;\n\n  const isDismissed = await storage.isDismissed(\n    'pushDismissed',\n    SHOW_MOBILE_PROMPT_AFTER_DAYS\n  );\n  if (isDismissed) return false;\n\n  return dispatch(showBannerPrompt('push', { ...promptProps, isMobile: true }));\n}\n","export const SHOW_BET_PROMPT_AFTER_DAYS = 14;\nexport const SHOW_DESKTOP_PROMPT_AFTER_DAYS = 30;\nexport const SHOW_MOBILE_PROMPT_AFTER_DAYS = 21;\n","export const standardRoutes = [\n  // { key: 'feed', title: 'Subscriptions' },\n  { key: 'new', title: 'New' },\n  { key: 'top', title: 'Relevant' }\n];\n\nexport const tagRoutes = [\n  { key: 'new', title: 'New' },\n  { key: 'top', title: 'Relevant' }\n  // { key: 'people', title: 'People' },\n];\n\nexport function getDiscoverState(nextProps, prevState) {\n  const { tag, sort } = nextProps.match.params;\n  const routes = tag ? tagRoutes : standardRoutes;\n  if (sort && sort !== prevState.sort) {\n    const tabIndex = prevState.routes.findIndex(tab => tab.key === sort);\n    return { tabIndex, routes, sort };\n  }\n  if (!sort) return { tabIndex: -1, routes, sort };\n  return null;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { StyledNavLink } from 'modules/styled/web';\nimport { standardRoutes } from './discoverHelper';\n\nconst DiscoverTab = props => {\n  const { linkData, community, tag } = props;\n  let url = community ? `/${community}/${linkData.key}` : '/communities';\n  if (tag) url += `/${tag}`;\n\n  return (\n    <StyledNavLink to={encodeURI(url)} mr={[2, 1]}>\n      {linkData.title}\n    </StyledNavLink>\n  );\n};\n\nDiscoverTab.propTypes = {\n  linkData: PropTypes.object,\n  community: PropTypes.string,\n  tag: PropTypes.string\n};\n\nconst StyledUl = styled.ul`\n  margin: 0;\n  padding: 0;\n`;\n\nconst DiscoverTabs = ({ view, community }) => (\n  <StyledUl>\n    {standardRoutes.map((linkData, i) => (\n      <DiscoverTab\n        key={i}\n        tag={get(view, 'discover.tag')}\n        community={community}\n        linkData={linkData}\n      />\n    ))}\n  </StyledUl>\n);\n\nDiscoverTabs.propTypes = {\n  view: PropTypes.object,\n  community: PropTypes.string\n};\n\nfunction mapStateToProps(state) {\n  return {\n    view: state.view,\n    community: state.auth.community\n  };\n}\n\nexport default connect(mapStateToProps)(DiscoverTabs);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { colors } from 'app/styles';\nimport { StyledNavLink } from 'modules/styled/web';\nimport { View } from 'modules/styled/uni';\nimport { refreshTab } from 'modules/navigation/navigation.actions';\n\nclass Breadcrumbs extends Component {\n  static propTypes = {\n    view: PropTypes.object,\n    auth: PropTypes.object,\n    community: PropTypes.object,\n    newPosts: PropTypes.object,\n    actions: PropTypes.object\n  };\n\n  render() {\n    const { view, auth, community, newPosts, actions } = this.props;\n    const communitySlug = get(view, 'discover.community') || get(auth, 'community');\n    if (!communitySlug) {\n      return null;\n    }\n    const activeCommunity = get(community, `communities.${communitySlug}`);\n    const sort = get(view, 'discover.sort') || 'new';\n\n    const newPostsNumber = newPosts[auth.community];\n    const refreshPostsEl = (\n      <StyledNavLink\n        to=\"#\"\n        onClick={() => actions.refreshTab('discover')}\n        ml={1}\n        c={colors.blue}\n        hu={1}\n        lh={1.5}\n        fs={1.5}\n      >\n        See New Posts\n      </StyledNavLink>\n    );\n\n    return (\n      <View fdirection={'row'} align={'flex-start'}>\n        {activeCommunity ? (\n          <StyledNavLink\n            lh={1.5}\n            fs={1.5}\n            c={colors.black}\n            to={encodeURI(`/${communitySlug}/${sort}`)}\n          >\n            Community: {activeCommunity.name}{' '}\n          </StyledNavLink>\n        ) : null}\n        {get(view, 'discover.tag') ? (\n          <StyledNavLink\n            lh={1.5}\n            fs={1.5}\n            c={colors.black}\n            to={encodeURI(`/${communitySlug}/${sort}/${view.discover.tag}`)}\n          >\n            &nbsp;→ #{view.discover.tag}\n          </StyledNavLink>\n        ) : null}\n\n        {newPostsNumber ? refreshPostsEl : null}\n      </View>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  newPosts: state.posts.newPostsAvailable,\n  view: state.view,\n  auth: state.auth,\n  community: state.community\n});\n\nconst mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators({ refreshTab }, dispatch)\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Breadcrumbs);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { StyledNavLink, Button } from 'modules/styled/web';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { withRouter } from 'react-router-dom';\nimport DiscoverTabs from 'modules/discover/web/discoverTabs.component';\nimport Breadcrumbs from 'modules/navigation/web/breadcrumbs.component';\nimport { View, Text, LinkFont, Header, ButtonText } from 'modules/styled/uni';\nimport styled from 'styled-components/primitives';\nimport styledComponent from 'styled-components';\nimport { colors, layout, sizing } from 'app/styles';\nimport { showModal } from 'modules/navigation/navigation.actions';\nimport { getNotificationCount } from 'modules/activity/activity.actions';\nimport Ulink from 'modules/navigation/ULink.component';\nimport MenuIcon from 'modules/ui/web/menuIcon.component';\n\nconst Nav = styled(View)`\n  position: sticky;\n  /*   background-image: linear-gradient(hsla(0, 0%, 100%, 1) 80%, hsla(0, 0%, 100%, 0) 100%);\n   */\n  z-index: 100;\n  background-color: ${colors.white};\n  height: ${layout.headerHeight};\n  top: ${p => (p.top ? p.top : 0)};\n  left: ${layout.sideNavWidth};\n`;\n\nconst Badge = styled(View)`\n  border-radius: 100%;\n  align-items: center;\n  height: ${sizing(2)};\n  width: ${sizing(2)};\n  justify-content: center;\n  display: flex;\n  flex-direction: row;\n  margin-bottom: ${sizing(1)};\n`;\n\nconst ActionButton = styledComponent(Button)`\n  ${p =>\n    !p.screenSize\n      ? ''\n      : `\n    position: fixed;\n    bottom: ${sizing(2)};\n    right: ${sizing(2)};\n    height: ${sizing(8)};\n    width: ${sizing(8)};\n    min-width: 0;\n    border-radius: 100%;\n    background-color: ${colors.blue};\n  `}\n`;\n\nclass TopNav extends Component {\n  static propTypes = {\n    location: PropTypes.object,\n    auth: PropTypes.object,\n    history: PropTypes.object,\n    actions: PropTypes.object,\n    notif: PropTypes.object,\n    screenSize: PropTypes.number,\n    title: PropTypes.string\n  };\n\n  state = {};\n\n  componentDidMount() {\n    this.getNotificationCount();\n    window.addEventListener('focus', getNotificationCount);\n  }\n\n  componentDidUpdate(prevProps) {\n    const wasNotAuthenticated = !prevProps.auth.isAuthenticated;\n    const { isAuthenticated } = this.props.auth;\n    if (wasNotAuthenticated && isAuthenticated) this.getNotificationCount();\n  }\n\n  getNotificationCount = () => {\n    const now = new Date();\n    const { isAuthenticated } = this.props.auth;\n    if (\n      this.state.timeSinceNotificationCount &&\n      now.getTime() - this.state.timeSinceNotificationCount.getTime() < 30000\n    ) {\n      return;\n    }\n    if (isAuthenticated) {\n      this.setState({ timeSinceNotificationCount: now });\n      this.props.actions.getNotificationCount();\n    }\n  };\n\n  componentWillUnmount() {\n    window.removeEventListener('focus', getNotificationCount);\n  }\n\n  toggleLogin = () => {\n    const { location, history } = this.props;\n    history.push({ search: `?redirect=${location.pathname}` });\n    this.props.actions.showModal('login');\n  };\n\n  render() {\n    const { auth, actions, notif, screenSize, title } = this.props;\n    return (\n      <Nav\n        fdirection=\"column\"\n        justify=\"center\"\n        p={['0 4', '0 2']}\n        top={notif.promptType ? layout.BANNER_PROMPT_HEIGHT : null}\n      >\n        <View\n          zIndex={1}\n          justify=\"space-between\"\n          display=\"flex\"\n          fdirection=\"row\"\n          align=\"center\"\n        >\n          <MenuIcon mr={[4, 2]} />\n          {title ? <Header>{title}</Header> : <DiscoverTabs />}\n          <View\n            justify=\"space-between\"\n            display=\"flex\"\n            fdirection=\"row\"\n            flex={1}\n            grow={1}\n            align=\"center\"\n          >\n            {!title && auth.isAuthenticated ? (\n              <StyledNavLink\n                to=\"/user/activity\"\n                hc={colors.black}\n                c={colors.grey}\n                fdirection=\"row\"\n                d=\"flex\"\n              >\n                Activity\n                {notif.count ? (\n                  <Badge bg={colors.red} ml={0.5}>\n                    <Text c={colors.white} fw=\"bold\" fs={1.25}>\n                      {notif.count}\n                    </Text>\n                  </Badge>\n                ) : null}\n              </StyledNavLink>\n            ) : (\n              <div />\n            )}\n\n            <View fdirection=\"row\" d=\"flex\" flex={1} align=\"center\" justify=\"flex-end\">\n              {screenSize ? null : (\n                <Ulink\n                  onClick={e => {\n                    e.preventDefault();\n                    actions.showModal('onboarding');\n                  }}\n                  align={'center'}\n                  mr={2}\n                  hu\n                  color={colors.blue}\n                  to=\"/home\"\n                >\n                  <LinkFont c={colors.blue}>Get Started</LinkFont>\n                </Ulink>\n              )}\n              {auth.isAuthenticated ? (\n                <ActionButton\n                  onClick={() => actions.showModal('newpost')}\n                  disabled={!auth.user}\n                  screenSize={screenSize}\n                >\n                  <ButtonText>New Post</ButtonText>\n                </ActionButton>\n              ) : (\n                <ActionButton\n                  onClick={this.toggleLogin}\n                  screenSize={screenSize}\n                  color={colors.blue}\n                >\n                  <ButtonText>Login</ButtonText>\n                </ActionButton>\n              )}\n            </View>\n          </View>\n        </View>\n        <View fdirection={'row'} mt={[0, 1]} ml={[0, 5.5]}>\n          {!title && <Breadcrumbs />}\n        </View>\n      </Nav>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    notif: state.notif,\n    screenSize: state.navigation.screenSize\n  };\n}\n\nexport default withRouter(\n  connect(mapStateToProps, dispatch => ({\n    actions: bindActionCreators(\n      {\n        showModal,\n        getNotificationCount\n      },\n      dispatch\n    )\n  }))(TopNav)\n);\n","import { NavLink } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { mixins, layout, fonts, colors, sizing } from 'app/styles';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport ReactTextareaAutocomplete from '@webscopeio/react-textarea-autocomplete';\n\nexport const StyledNavLink = styled(NavLink)`\n  ${fonts.header};\n  color: ${colors.grey};\n  &.active {\n    color: ${colors.black};\n  }\n  :hover {\n    color: ${colors.black};\n  }\n  ${mixins.font}\n  ${mixins.display}\n  ${mixins.color}\n  ${mixins.margin}\n`;\n\nexport const View = styled.div`\n  ${mixins.margin}\n  ${mixins.padding}\n  ${mixins.flex}\n  ${mixins.font}\n  ${mixins.background}\n  ${mixins.border}\n  ${mixins.width}\n  ${mixins.height}\n  ${p => (p.onClick ? 'cursor: pointer;' : '')}\n`;\n\nexport const Text = styled.span`\n  ${mixins.margin}\n  ${mixins.padding}\n  ${mixins.flex}\n  ${mixins.font}\n  ${mixins.background}\n  ${mixins.border}\n  ${mixins.color}\n  ${p => (p.onClick ? 'cursor: pointer;' : '')}\n`;\n\nexport const InlineText = styled.span`\n  ${mixins.margin}\n  ${mixins.padding}\n  ${mixins.font}\n  ${mixins.background}\n  ${mixins.border}\n  ${mixins.color}\n`;\n\nexport const Image = styled.img`\n  ${mixins.margin}\n  ${mixins.height}\n  ${mixins.width}\n  ${mixins.padding}\n  ${mixins.background}\n  ${mixins.borderRadius}\n  ${mixins.flex}\n`;\n\nexport const ImageWrapper = styled.span`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  ${mixins.margin}\n  ${mixins.flex}\n`;\n\nexport const Divider = styled.div`\n  ${mixins.margin}\n  ${mixins.padding}\n  ${mixins.width}\n  ${layout.universalBorder('bottom')}\n`;\n\nexport const Header = styled(Text)`\n  ${fonts.header}\n  ${mixins.color}\n`;\n\nexport const Title = styled(Text)`\n  ${fonts.title}\n  ${mixins.color}\n  ${mixins.font}\n`;\n\nexport const LinkFont = styled(Text)`\n  ${fonts.link}\n  ${mixins.color}\n  ${mixins.font}\n`;\n\nexport const SecondaryText = styled(Text)`\n  ${fonts.secondaryText}\n  ${mixins.font}\n  ${mixins.color}\n`;\n\nexport const AltLink = styled(Text)`\n  ${fonts.altLink}\n  ${mixins.color}\n  ${mixins.font}\n`;\n\nexport const CommentText = styled(Text)`\n  ${fonts.commentText}\n  ${mixins.color}\n  ${mixins.font}\n`;\n\nexport const BodyText = styled(Text)`\n  ${fonts.bodyStyle}\n  ${mixins.color}\n  ${mixins.font}\n`;\n\nexport const Button = styled.button`\n  ${layout.button}\n  ${layout.buttonFont}\n  ${p =>\n    p.disabled\n      ? `\n    color: ${colors.white};\n    background: ${colors.grey};\n    `\n      : ''};\n  ${mixins.flex}\n  ${mixins.background}\n  ${mixins.padding}\n  ${mixins.width}\n  ${mixins.margin}\n  ${mixins.color}\n  ${mixins.width}\n  ${mixins.height}\n  &:hover {\n    ${layout.activeButtonShadow}\n  };\n  user-select: none; cursor: pointer;\n`;\n\nexport const NumericalValue = styled(Text)`\n  ${fonts.numericalValue}\n  ${mixins.width}\n  ${mixins.font}\n  ${mixins.inheritfont}\n  ${mixins.color}\n`;\n\nexport const InputPlain = styled.input`\n  ${mixins.font}\n  ${mixins.flex}\n  ${mixins.border}\n  ${mixins.padding}\n  ${mixins.margin}\n  ::placeholder: {\n    font-size: ${sizing(1.75)};\n    line-height: ${sizing(1.75)};\n  };\n  :focus {\n    outline: none !important;\n    ${layout.universalBorder('', colors.blue)}\n  }\n`;\n\nexport const Input = styled.input`\n  padding: ${sizing(2)} ${sizing(2)};\n  margin-top: ${sizing(1)};  ${fonts.bodyStyle}\n  ${mixins.font}\n  ${mixins.flex}\n  ${mixins.border}\n  ${layout.universalBorder()}\n  ${mixins.padding}\n  ${mixins.margin}\n  ::placeholder: {\n    font-size: ${sizing(1.75)};\n    line-height: ${sizing(1.75)};\n  };\n  :focus {\n    outline: none !important;\n    ${layout.universalBorder('', colors.blue)}\n  }\n`;\n\nexport const StyledTextareaAutocomplete = styled(ReactTextareaAutocomplete)`\n  ${fonts.bodyStyle}\n  ${mixins.border}\n  ${mixins.flex}\n  ${layout.universalBorder()}\n  padding: ${sizing(2)} ${sizing(2)};\n  min-width: 0;\n  &: focus {\n    outline: 1px solid ${colors.blue};\n  }\n  ${mixins.padding}\n  ${mixins.margin}\n  ${mixins.height}\n`;\n\nexport const StyledTextarea = styled(TextareaAutosize)`\n  ${fonts.bodyStyle}\n  ${mixins.border}\n  ${mixins.flex}\n  ${layout.universalBorder()}\n  padding: ${sizing(2)} ${sizing(2)};\n  min-width: 0;\n  &: focus {\n    outline: 1px solid ${colors.blue};\n  }\n  ${mixins.padding}\n  ${mixins.margin}\n  ${mixins.height}\n`;\n\nexport const Form = styled.form`\n  ${mixins.flex}\n  ${mixins.margin}\n`;\n\nexport const Video = styled.video`\n  ${mixins.margin}\n  ${mixins.height}\n  ${mixins.width}\n  ${mixins.padding}\n  ${mixins.background}\n  ${mixins.borderRadius}\n  ${mixins.flex}\n`;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { View } from 'modules/styled/web';\nimport styled from 'styled-components';\nimport { openWebSideNav, closeWebSideNav } from 'modules/navigation/navigation.actions';\nimport { colors, sizing } from 'app/styles';\n\nconst Menu = styled(View)`\n  display: flex;\n  cursor: pointer;\n  width: ${sizing(3)};\n  :hover * {\n    background-color: ${colors.black};\n  }\n`;\n\nconst MenuBar = styled(View)`\n  width: 100%;\n  height: 3px;\n  background-color: ${colors.grey};\n  margin: 0.2rem 0;\n`;\n\nclass MenuIcon extends Component {\n  toggleMenu = () => {\n    const {\n      actions,\n      navigation: { sideNavIsOpen }\n    } = this.props;\n    if (sideNavIsOpen) {\n      actions.closeWebSideNav();\n    }\n    if (!sideNavIsOpen) {\n      actions.openWebSideNav();\n    }\n  };\n\n  render() {\n    const {\n      mr,\n      ml,\n      navigation: { screenSize }\n    } = this.props;\n    if (!screenSize) return null;\n\n    return (\n      <View mr={mr} ml={ml}>\n        <Menu onClick={this.toggleMenu} fdirection=\"column\" justify=\"space-between\">\n          <MenuBar />\n          <MenuBar />\n          <MenuBar />\n        </Menu>\n      </View>\n    );\n  }\n}\n\nMenuIcon.propTypes = {\n  actions: PropTypes.object,\n  navigation: PropTypes.object,\n  ml: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.array]),\n  mr: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.array])\n};\n\nconst mapStateToProps = state => ({\n  navigation: state.navigation\n});\n\nconst mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators(\n    {\n      openWebSideNav,\n      closeWebSideNav\n    },\n    dispatch\n  )\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuIcon);\n"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./src/modules/animation/thumb.component.js","webpack:///./src/modules/animation/downvoteAnimation.component.js"],"names":["thumbStyles","position","top","padding","fontSize","backgroundColor","Thumb","parent","id","destroy","opacity","useState","Animated","Value","scale","useEffect","parallel","timing","toValue","delay","duration","easing","Easing","in","ease","useNativeDriver","elastic","start","timeout","setTimeout","clearTimeout","Text","pointerEvents","key","style","y","transform","propTypes","PropTypes","object","string","func","Container","styled","View","isNative","DownvoteAnimation","animEls","setAnimEls","index","useSelector","state","animation","downvote","els","removeEl","numbers","guid","newEl","runAnimation","Object","values"],"mappings":"09CAIA,IAAMA,EAAc,CAClBC,SAAU,WACVC,IAAK,EACLC,QAAS,GACTC,SAAU,IACVC,gBAAiB,eASJ,SAASC,EAAT,GAAwC,IAAzB,OAAEC,EAAF,GAAUC,EAAV,QAAcC,GAAW,GAC9CC,GAAWC,mBAAS,IAAIC,IAASC,MAAM,KACvCC,GAASH,mBAAS,IAAIC,IAASC,MAAM,IA2B5C,OAzBAE,oBAAU,KACRH,IAASI,SAAS,CAChBJ,IAASK,OAAOP,EAAS,CACvBQ,QAAS,EACTC,MAAO,IACPC,SAAU,IACVC,OAAQC,IAAOC,GAAGD,IAAOE,MACzBC,iBAAiB,IAEnBb,IAASK,OAAOH,EAAO,CACrBI,QAAS,EACTC,MAAO,EACPC,SAAU,IACVC,OAAQC,IAAOI,QAAQ,GACvBD,iBAAiB,IAChBE,UACFA,QAEH,IAAMC,EAAUC,WAAW,IAAMpB,EAAQD,GAAK,KAC9C,MAAO,KACLsB,aAAaF,GACbnB,EAAQD,KAET,CAACC,EAASD,EAAIE,EAASI,IAGxB,kBAACF,EAAA,EAASmB,KAAV,CACEC,cAAe,OACfC,IAAKzB,EACL0B,MAAO,CAAC,EAAD,GACAlC,GACL,CACEE,IAAKK,EAAO4B,EACZC,UAAW,CAAC,CAAEtB,UACdJ,aARN,M,6lCApCJJ,EAAM+B,UAAY,CAChB9B,OAAQ+B,IAAUC,OAClB/B,GAAI8B,IAAUE,OACd/B,QAAS6B,IAAUG,MCRrB,IAAMC,EAAYC,IAAOC,KAAV,IACDC,IAAW,WAAa,SAUvB,SAASC,IACtB,IAAOC,EAASC,GAAcrC,mBAAS,KAEjC,MAAEsC,EAAF,OAAS1C,GAAW2C,YAAYC,GAASA,EAAMC,UAAUC,UAAY,IAE3E,SAAS5C,EAAQwB,GACfe,EAAWM,IACT,IAAQ,CAACrB,GAAMsB,GAAwBD,EACvC,OADA,IAAuCA,EAAvC,CAASrB,GAAT,UAiBJ,OAZAlB,oBAAU,MACR,WACE,GAAKR,EAAL,CACA,IAAM0B,EAAMuB,IAAQC,OACdC,EAAQ,CACZ,CAACzB,GAAM,kBAAC3B,EAAD,CAAOG,QAASA,EAASF,OAAQA,EAAQ0B,IAAKA,EAAKzB,GAAIyB,KAEhEe,EAAWM,GAAO,EAAC,KAAKA,GAAQI,KAElCC,IACC,CAACV,EAAO1C,IAEJ,kBAACmC,EAAD,CAAWV,cAAe,QAAS4B,OAAOC,OAAOd","file":"55.bundle.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Animated, Easing } from 'react-native';\nimport PropTypes from 'prop-types';\n\nconst thumbStyles = {\n  position: 'absolute',\n  top: 0,\n  padding: 10,\n  fontSize: 100,\n  backgroundColor: 'transparent'\n};\n\nThumb.propTypes = {\n  parent: PropTypes.object,\n  id: PropTypes.string,\n  destroy: PropTypes.func\n};\n\nexport default function Thumb({ parent, id, destroy }) {\n  const [opacity] = useState(new Animated.Value(1));\n  const [scale] = useState(new Animated.Value(0));\n\n  useEffect(() => {\n    Animated.parallel([\n      Animated.timing(opacity, {\n        toValue: 0,\n        delay: 500,\n        duration: 300,\n        easing: Easing.in(Easing.ease),\n        useNativeDriver: true\n      }),\n      Animated.timing(scale, {\n        toValue: 1,\n        delay: 0,\n        duration: 500,\n        easing: Easing.elastic(2),\n        useNativeDriver: true\n      }).start()\n    ]).start();\n\n    const timeout = setTimeout(() => destroy(id), 2000);\n    return () => {\n      clearTimeout(timeout);\n      destroy(id);\n    };\n  }, [destroy, id, opacity, scale]);\n\n  return (\n    <Animated.Text\n      pointerEvents={'none'}\n      key={id}\n      style={[\n        { ...thumbStyles },\n        {\n          top: parent.y,\n          transform: [{ scale }],\n          opacity\n        }\n      ]}\n    >\n      ðŸ‘Ž\n    </Animated.Text>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport styled from 'styled-components/primitives';\nimport { isNative } from 'styles';\nimport { numbers } from 'app/utils';\nimport Thumb from './thumb.component';\n\nconst Container = styled.View`\n  position: ${isNative ? 'absolute' : 'fixed'};\n  z-index: 10000;\n  left: 0;\n  top: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport default function DownvoteAnimation() {\n  const [animEls, setAnimEls] = useState({});\n\n  const { index, parent } = useSelector(state => state.animation.downvote || {});\n\n  function destroy(key) {\n    setAnimEls(els => {\n      const { [key]: removeEl, ...newEls } = els;\n      return newEls;\n    });\n  }\n\n  useEffect(() => {\n    function runAnimation() {\n      if (!parent) return;\n      const key = numbers.guid();\n      const newEl = {\n        [key]: <Thumb destroy={destroy} parent={parent} key={key} id={key} />\n      };\n      setAnimEls(els => ({ ...els, ...newEl }));\n    }\n    runAnimation();\n  }, [index, parent]);\n\n  return <Container pointerEvents={'none'}>{Object.values(animEls)}</Container>;\n}\n"],"sourceRoot":""}
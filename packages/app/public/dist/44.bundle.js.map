{"version":3,"sources":["webpack:///./src/modules/admin/admin.actions.js","webpack:///./src/modules/admin/web/downvotes.container.js","webpack:///./src/modules/listview/web/infScroll.component.js"],"names":["Alert","alert","API","process","inviteSchema","schema","Entity","idAttribute","listSchema","setInvites","data","community","skip","type","types","payload","setWaitlist","deleteWaitlistUsers","users","updateInvite","invite","destroyInvite","setInviteCount","count","getInviteCount","dispatch","api","request","method","endpoint","path","err","message","getInvites","limit","responseJSON","query","normalize","invites","error","createInvite","res","body","JSON","stringify","destroy","fetch","_id","reqOptions","then","handleErrors","catch","console","log","getWaitlist","response","json","wait","inviteFromWaitlist","signupForMailingList","user","setDownvotes","getDownvotes","sendEmail","email","saveEmail","loadEmail","deleteWaitlistUser","sendPostNotification","post","Downvotes","Component","constructor","props","super","this","renderDownvote","bind","load","hasMore","downvote","className","key","investor","author","getDayMonthYearTimestamp","createdAt","page","l","admin","downvotes","length","actions","render","downvoteEl","map","d","loadMore","PropTypes","object","connect","state","auth","bindActionCreators","adminActions","InfScroll","scrollListener","attachScrollListener","componentDidMount","pageLoaded","pageStart","componentDidUpdate","componentWillUnmount","detachScrollListener","setDefaultLoader","loader","defaultLoader","scrollEl","window","useWindow","scrollComponent","parentNode","removeEventListener","useCapture","addEventListener","initialLoad","offset","el","scrollTop","undefined","pageYOffset","document","documentElement","isReverse","calculateTopPosition","offsetHeight","innerHeight","scrollHeight","clientHeight","Number","threshold","offsetTop","offsetParent","children","element","ref","node","React","createElement","array","propTypes","string","bool","func","isRequired","number","oneOfType","defaultProps"],"mappings":"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","file":"44.bundle.js","sourcesContent":["/* eslint-disable no-console */\nimport { normalize, schema } from 'normalizr';\nimport * as types from 'core/actionTypes';\nimport { alert, api } from 'app/utils';\n\nconst Alert = alert.Alert();\nconst API = process.env.API_SERVER + '/api';\n\nconst inviteSchema = new schema.Entity(\n  'invites',\n  {},\n  {\n    idAttribute: '_id'\n  }\n);\n\nconst listSchema = new schema.Entity(\n  'wait',\n  {},\n  {\n    idAttribute: '_id'\n  }\n);\n\nexport function setInvites({ data, community, skip }) {\n  return {\n    type: types.SET_INVITES,\n    payload: {\n      data,\n      community,\n      skip\n    }\n  };\n}\n\nexport function setWaitlist(data) {\n  return {\n    type: types.SET_WAITLIST,\n    payload: data\n  };\n}\n\nexport function deleteWaitlistUsers(users) {\n  return {\n    type: types.DELETE_WAITLIST_USER,\n    payload: users\n  };\n}\n\nexport function updateInvite(invite) {\n  return {\n    type: types.UPDATE_INVITE,\n    payload: invite\n  };\n}\n\nexport function destroyInvite(invite) {\n  return {\n    type: types.DESTROY_INVITE,\n    payload: invite\n  };\n}\n\nexport function setInviteCount(count) {\n  return {\n    type: types.SET_INVITE_COUNT,\n    payload: count\n  };\n}\n\nexport function getInviteCount() {\n  return async dispatch => {\n    try {\n      const count = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'invites',\n          path: '/count'\n        })\n      );\n\n      dispatch(setInviteCount(count));\n    } catch (err) {\n      Alert.alert(err.message);\n    }\n  };\n}\n\nexport function getInvites(skip, limit, community) {\n  return async dispatch => {\n    try {\n      const responseJSON = await dispatch(\n        api.request({\n          method: 'GET',\n          query: { skip, limit },\n          endpoint: 'invites',\n          path: ''\n        })\n      );\n      const data = normalize(\n        {\n          invites: responseJSON\n        },\n        {\n          invites: [inviteSchema]\n        }\n      );\n      dispatch(setInvites({ data, community, skip }));\n      return true;\n    } catch (error) {\n      return false;\n    }\n  };\n}\n\nexport function createInvite(invite) {\n  return async dispatch => {\n    try {\n      const res = await dispatch(\n        api.request({\n          method: 'POST',\n          endpoint: 'invites',\n          path: '/',\n          body: JSON.stringify(invite)\n        })\n      );\n      dispatch(updateInvite(res.invite[0]));\n      dispatch(setInviteCount(res.count));\n      return res;\n    } catch (error) {\n      Alert.alert(error.message);\n      return false;\n    }\n  };\n}\n\n// export function sendInvitationEmail(id) {\n//   return async dispatch =>\n//     fetch(API + '/invites/email', {\n//       method: 'POST',\n//       ...(await api.reqOptions()),\n//       body: JSON.stringify({\n//         inviteId: id\n//       })\n//     })\n//     .then(api.handleErrors)\n//     .then(response => response.json())\n//     .then(responseJSON => {\n//       dispatch(updateInvite(responseJSON));\n//       Alert.alert('Invitation email has been sent');\n//     })\n//     .catch(error => {\n//       console.log('invites error', error);\n//     });\n// }\n\n// export function checkInviteCode(code) {\n//   return async dispatch =>\n//     fetch(API + '/invites', {\n//       method: 'PUT',\n//       ...(await api.reqOptions()),\n//       body: JSON.stringify({\n//         code\n//       })\n//     })\n//     .then(api.handleErrors)\n//     .then(response => response.json())\n//     .then(responseJSON => {\n//       dispatch(updateInvite(responseJSON));\n//       if (responseJSON) return responseJSON;\n//       return false;\n//     })\n//     .catch(error => {\n//       Alert.alert(error.message);\n//       console.log('invites error', error);\n//     });\n// }\n\nexport function destroy(invite) {\n  return async dispatch =>\n    fetch(API + '/invites/' + invite._id, {\n      method: 'DELETE',\n      ...(await api.reqOptions())\n    })\n      .then(api.handleErrors)\n      .then(() => {\n        Alert.alert('removed item');\n        dispatch(destroyInvite(invite));\n      })\n      .catch(error => {\n        Alert.alert(error.message);\n        console.log('invites error', error);\n      });\n}\n\nexport function getWaitlist() {\n  return async dispatch =>\n    fetch(API + '/list', {\n      method: 'GET',\n      ...(await api.reqOptions())\n    })\n      .then(api.handleErrors)\n      .then(response => response.json())\n      .then(responseJSON => {\n        const data = normalize(\n          {\n            wait: responseJSON\n          },\n          {\n            wait: [listSchema]\n          }\n        );\n        dispatch(setWaitlist(data));\n      })\n      .catch(error => {\n        console.log('invites error', error);\n      });\n}\n\nexport function inviteFromWaitlist(invites) {\n  return async dispatch =>\n    fetch(process.env.API_SERVER + '/api/list/', {\n      method: 'PUT',\n      ...(await api.reqOptions()),\n      body: JSON.stringify(invites)\n    })\n      .then(api.handleErrors)\n      // .then(response => response.json())\n      .then(() => {\n        Alert.alert('users have been invited!');\n        dispatch(deleteWaitlistUsers(invites));\n        return true;\n      })\n      .catch(err => {\n        Alert.alert(err.message);\n        console.log(err);\n        return false;\n      });\n}\n\nexport function signupForMailingList(user) {\n  return async () =>\n    fetch(process.env.API_SERVER + '/api/list/', {\n      method: 'POST',\n      ...(await api.reqOptions()),\n      body: JSON.stringify(user)\n    })\n      .then(api.handleErrors)\n      .then(() => {\n        Alert.alert(\"You've been added to the waitlist.\", 'success');\n        return true;\n      })\n      .catch(err => {\n        Alert.alert(err.message);\n        console.log(err);\n        return false;\n      });\n}\n\nexport function setDownvotes(data) {\n  return {\n    type: types.SET_DOWNVOTES,\n    payload: data\n  };\n}\n\nexport function getDownvotes(skip, limit) {\n  return dispatch =>\n    dispatch(\n      api.request({\n        method: 'GET',\n        query: {\n          skip,\n          limit\n        },\n        endpoint: 'invest',\n        path: '/downvotes'\n      })\n    )\n      .then(res => dispatch(setDownvotes(res)))\n      .catch(err => Alert.alert(err.message));\n}\n\nexport function sendEmail(email) {\n  return async dispatch => {\n    try {\n      await dispatch(\n        api.request({\n          method: 'PUT',\n          endpoint: 'email',\n          path: '/',\n          body: JSON.stringify(email)\n        })\n      );\n      Alert.alert('Email has been sent');\n      return true;\n    } catch (error) {\n      return false;\n    }\n  };\n}\n\nexport function saveEmail(email) {\n  return async dispatch => {\n    try {\n      await dispatch(\n        api.request({\n          method: 'PUT',\n          endpoint: 'email',\n          path: '/save',\n          body: JSON.stringify(email)\n        })\n      );\n      Alert.alert('Email has been saved');\n      return true;\n    } catch (error) {\n      return false;\n    }\n  };\n}\n\nexport function loadEmail() {\n  return async dispatch => {\n    try {\n      const responseJSON = await dispatch(\n        api.request({\n          method: 'GET',\n          endpoint: 'email',\n          path: '/load'\n        })\n      );\n      return responseJSON;\n    } catch (error) {\n      return false;\n    }\n  };\n}\n\nexport function deleteWaitlistUser(user) {\n  return async dispatch => {\n    try {\n      const result = await fetch(API + '/list/' + user._id, {\n        method: 'DELETE',\n        ...(await api.reqOptions())\n      });\n      // console.log(result)\n      if (result) {\n        dispatch(deleteWaitlistUsers([user]));\n      }\n    } catch (err) {\n      Alert.alert(err.message);\n    }\n  };\n}\n\nexport function sendPostNotification(post) {\n  return async dispatch => {\n    try {\n      await dispatch(\n        api.request({\n          method: 'POST',\n          endpoint: 'post',\n          path: '/sendPostNotification',\n          body: JSON.stringify(post)\n        })\n      );\n      return Alert.alert('Notification sent!');\n    } catch (error) {\n      return false;\n    }\n  };\n}\n\n// export function updateWaitlist(user) {\n//   return async dispatch =>\n//   fetch(API + '/list/' + user._id, {\n//     method: 'PUT',\n//     ...await api.reqOptions(),\n//     body: JSON.stringify({ user })\n//   })\n//   .then(api.handleErrors)\n//   .then((response) => response.json())\n//   .then((responseJSON) => {\n//     dispatch(updateWaitlist(responseJSON));\n//     if (responseJSON) return responseJSON;\n//     return false;\n//   })\n//   .catch((error) => {\n//     Alert.alert(error.message);\n//     console.log('invites error', error);\n//   });\n// }\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport * as adminActions from 'modules/admin/admin.actions';\nimport InfScroll from 'modules/listview/web/infScroll.component';\nimport { getDayMonthYearTimestamp } from 'app/utils/numbers';\n\nconst PAGE_SIZE = 40;\n\nclass Downvotes extends Component {\n  static propTypes = {\n    admin: PropTypes.object,\n    actions: PropTypes.object\n  };\n\n  constructor(props) {\n    super(props);\n    this.renderDownvote = this.renderDownvote.bind(this);\n    this.load = this.load.bind(this);\n    this.hasMore = true;\n  }\n\n  renderDownvote(downvote) {\n    return (\n      <div className={'downvoteList'} key={downvote._id}>\n        <div className={'dUser'}>{downvote.investor}</div>\n        <div>- {downvote.author}</div>\n        <div>{getDayMonthYearTimestamp(downvote.createdAt)}</div>\n        <div>\n          {downvote.post\n            ? getDayMonthYearTimestamp(downvote.post.createdAt)\n            : '[deleted]'}\n        </div>\n      </div>\n    );\n  }\n\n  load(page) {\n    const l = this.props.admin.downvotes.length;\n    this.hasMore = (page - 1) * PAGE_SIZE <= l;\n    if (this.hasMore) {\n      this.props.actions.getDownvotes(l, PAGE_SIZE);\n    }\n  }\n\n  render() {\n    const downvoteEl = this.props.admin.downvotes.map(d => this.renderDownvote(d));\n\n    return (\n      <div>\n        <h2>Downvotes</h2>\n        <InfScroll\n          data={this.props.admin.downvotes}\n          className={'adminContainer'}\n          loadMore={this.load}\n          hasMore={this.hasMore}\n        >\n          {downvoteEl}\n        </InfScroll>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  state => ({\n    auth: state.auth,\n    admin: state.admin\n  }),\n  dispatch => ({\n    actions: bindActionCreators(adminActions, dispatch)\n  })\n)(Downvotes);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class InfScroll extends Component {\n  static propTypes = {\n    data: PropTypes.array\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.scrollListener = this.scrollListener.bind(this);\n    this.attachScrollListener = this.attachScrollListener.bind(this);\n  }\n\n  componentDidMount() {\n    this.pageLoaded = this.props.pageStart;\n    this.attachScrollListener();\n    this.data = this.props.data;\n    if (!this.data || !this.data.length) {\n      this.props.loadMore(this.pageLoaded);\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.data.length !== this.props.data.length) {\n      this.attachScrollListener();\n      this.data = this.props.data;\n    }\n    if (!this.props.data.length < this.data.length) {\n      this.pageLoaded = this.props.pageStart;\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachScrollListener();\n  }\n\n  // Set a defaut loader for all your `InfiniteScroll` components\n  setDefaultLoader(loader) {\n    this.defaultLoader = loader;\n  }\n\n  detachScrollListener() {\n    let scrollEl = window;\n    if (this.props.useWindow === false) {\n      scrollEl = this.scrollComponent.parentNode;\n    }\n\n    scrollEl.removeEventListener('scroll', this.scrollListener, this.props.useCapture);\n    scrollEl.removeEventListener('resize', this.scrollListener, this.props.useCapture);\n  }\n\n  attachScrollListener() {\n    if (!this.props.hasMore) {\n      return;\n    }\n\n    let scrollEl = window;\n    if (this.props.useWindow === false) {\n      scrollEl = this.scrollComponent.parentNode;\n    }\n\n    scrollEl.addEventListener('scroll', this.scrollListener, this.props.useCapture);\n    scrollEl.addEventListener('resize', this.scrollListener, this.props.useCapture);\n\n    if (this.props.initialLoad) {\n      this.scrollListener();\n    }\n  }\n\n  scrollListener() {\n    if (!this.props.data || !this.props.data.length) return;\n    const el = this.scrollComponent;\n    const scrollEl = window;\n\n    let offset;\n    if (this.props.useWindow) {\n      const scrollTop =\n        scrollEl.pageYOffset !== undefined\n          ? scrollEl.pageYOffset\n          : (document.documentElement || document.body.parentNode || document.body)\n          .scrollTop;\n      if (this.props.isReverse) {\n        offset = scrollTop;\n      } else {\n        offset =\n          this.calculateTopPosition(el) +\n          (el.offsetHeight - scrollTop - window.innerHeight);\n      }\n    } else if (this.props.isReverse) {\n      offset = el.parentNode.scrollTop;\n    } else {\n      offset = el.scrollHeight - el.parentNode.scrollTop - el.parentNode.clientHeight;\n    }\n\n    if (offset < Number(this.props.threshold)) {\n      this.detachScrollListener();\n      // Call loadMore after detachScrollListener to allow for non-async loadMore functions\n      if (typeof this.props.loadMore === 'function') {\n        this.props.loadMore((this.pageLoaded += 1));\n      }\n    }\n  }\n\n  calculateTopPosition(el) {\n    if (!el) {\n      return 0;\n    }\n    return el.offsetTop + this.calculateTopPosition(el.offsetParent);\n  }\n\n  render() {\n    const {\n      children,\n      element,\n      hasMore,\n      initialLoad,\n      isReverse,\n      loader,\n      loadMore,\n      pageStart,\n      threshold,\n      useCapture,\n      useWindow,\n      data,\n      ...props\n    } = this.props;\n\n    props.ref = node => {\n      this.scrollComponent = node;\n    };\n\n    // This breaks activity ref above!\n    // TODO: get loading to work\n    // if (!data) {\n    //   return <div>...Loading</div>;\n    // }\n    // if (!data.length) {\n    //   return <div>Nothing here</div>;\n    // }\n\n    return React.createElement(\n      element,\n      props,\n      children,\n      hasMore && (loader || this.defaultLoader)\n    );\n  }\n}\n\nInfScroll.propTypes = {\n  element: PropTypes.string,\n  hasMore: PropTypes.bool,\n  initialLoad: PropTypes.bool,\n  isReverse: PropTypes.bool,\n  loadMore: PropTypes.func.isRequired,\n  pageStart: PropTypes.number,\n  threshold: PropTypes.number,\n  useCapture: PropTypes.bool,\n  useWindow: PropTypes.bool,\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.array]).isRequired,\n  loader: PropTypes.object\n};\n\nInfScroll.defaultProps = {\n  element: 'div',\n  hasMore: false,\n  initialLoad: true,\n  pageStart: 0,\n  threshold: 250, // footer height?\n  useWindow: true,\n  isReverse: false,\n  useCapture: false,\n  loader: null\n};\n"],"sourceRoot":""}
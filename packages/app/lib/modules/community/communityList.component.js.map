{"version":3,"sources":["../../../src/modules/community/communityList.component.js"],"names":["linkStyles","css","colors","secondaryBG","CommunityAdminList","e","community","auth","props","isAuthenticated","actions","joinCommunity","c","blue","handleJoinCommunity","hashtags","black","topics","map","t","join","description","memberCount","communities","p","hP","Object","values","communityURl","slug","setCommunity","_id","uri","image","name","renderInnerText","Component","PropTypes","object","bool","number","mapStateToProps","state","routing","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { joinCommunity } from 'modules/community/community.actions';\nimport { setCommunity } from 'modules/auth/auth.actions';\nimport { css } from 'styled-components';\n\nimport ULink from 'modules/navigation/ULink.component';\nimport { View, Image, BodyText, Title, LinkFont, Box } from 'modules/styled/uni';\n\nimport { colors } from 'app/styles';\n\nconst linkStyles = css`\n  :hover {\n    background: ${colors.secondaryBG};\n  }\n`;\n\nclass CommunityAdminList extends Component {\n  static propTypes = {\n    community: PropTypes.object,\n    actions: PropTypes.object,\n    auth: PropTypes.object,\n    hashtags: PropTypes.bool,\n    p: PropTypes.number\n  };\n\n  handleJoinCommunity = (e, community) => {\n    const { auth } = this.props;\n    if (auth.isAuthenticated) {\n      this.props.actions.joinCommunity(community);\n    }\n  };\n\n  renderJoinLink = c => (\n    <LinkFont\n      inline={1}\n      c={colors.blue}\n      onPress={e => this.handleJoinCommunity(e, c)}\n      onClick={e => this.handleJoinCommunity(e, c)}\n    >\n      Join Community\n    </LinkFont>\n  );\n\n  renderInnerText = c => {\n    const { hashtags } = this.props;\n    return hashtags ? (\n      <BodyText c={colors.black} mt={0.5}>\n        {c.topics.map(t => '#' + t).join(', ')}\n      </BodyText>\n    ) : (\n      <Box>\n        <BodyText inline={1} c={colors.black} mt={0.5}>\n          {c.description}\n        </BodyText>\n        <LinkFont inline={1} c={colors.black} mt={0.5}>\n          {c.memberCount} member{c.memberCount > 1 ? 's' : ''}\n        </LinkFont>\n      </Box>\n    );\n  };\n\n  render() {\n    const {\n      community: { communities },\n      actions,\n      p\n    } = this.props;\n    const hP = typeof p !== 'undefined' ? p : 4;\n    return (\n      <View fdirection=\"column\">\n        {Object.values(communities).map(c => {\n          const communityURl = `/${c.slug}/new`;\n          return (\n            <ULink\n              to={communityURl}\n              onPress={() => actions.setCommunity(c.slug)}\n              onClick={() => actions.setCommunity(c.slug)}\n              key={c._id}\n              styles={linkStyles}\n              fdirection=\"column\"\n              flex={1}\n            >\n              <View fdirection=\"row\" align=\"flex-start\" p={`2 ${hP}`}>\n                <Image\n                  source={{ uri: c.image }}\n                  h={8}\n                  w={8}\n                  mr={2}\n                  bg={colors.secondaryBG}\n                />\n                <View fdirection=\"column\" flex={1}>\n                  <Title inline={1}>{c.name} </Title>\n                  <View wrap>{this.renderInnerText(c)}</View>\n                </View>\n                <Box mt={6} />\n              </View>\n            </ULink>\n          );\n        })}\n      </View>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  routing: state.routing,\n  community: state.community,\n  auth: state.auth\n});\n\nconst mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators(\n    {\n      joinCommunity,\n      setCommunity\n    },\n    dispatch\n  )\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CommunityAdminList);\n"],"file":"communityList.component.js"}
{"version":3,"sources":["../../../../src/modules/post/mobile/post.component.js"],"names":["Post","propTypes","link","PropTypes","object","post","commentary","array","singlePost","bool","hideDivider","preview","noLink","props","showPost","setShowPost","separator","height","backgroundColor","data","pagerank","blocked","StyleSheet","hairlineWidth","_id","isLinkPost","url","image","renderComment","length","body","commentaryEl","postEl","overflow"],"mappings":"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","sourcesContent":["import React, { useState, memo } from 'react';\nimport { StyleSheet } from 'react-native';\nimport PropTypes from 'prop-types';\nimport PostInfo from 'modules/post/postinfo.mobile.component';\nimport ButtonContainer from 'modules/post/mobile/postButtons.container';\nimport { Box } from 'modules/styled/uni';\nimport HiddenPost from 'modules/post/hidden';\nimport Commentary from './commentary.component';\n\nPost.propTypes = {\n  link: PropTypes.object,\n  post: PropTypes.object,\n  commentary: PropTypes.array,\n  singlePost: PropTypes.bool,\n  hideDivider: PropTypes.bool,\n  preview: PropTypes.bool,\n  noLink: PropTypes.bool\n};\n\nfunction Post(props) {\n  const { link, commentary, singlePost, hideDivider, preview, noLink, post } = props;\n  const [showPost, setShowPost] = useState(false);\n\n  const separator = <Box style={[{ height: 30, backgroundColor: 'rgba(0,0,0,.03)' }]} />;\n\n  if (post?.data?.pagerank <= -8 && !showPost) {\n    return (\n      <Box>\n        <Box mt={1} mb={1} ml={[0, 2]}>\n          <HiddenPost onPress={() => setShowPost(true)} />\n        </Box>\n        {!hideDivider ? separator : null}\n      </Box>\n    );\n  }\n\n  const blocked = <Box style={{ height: StyleSheet.hairlineWidth }} />;\n\n  if (!post || !post._id) return blocked;\n\n  const isLinkPost = link && (link.url || link.image);\n\n  const renderComment = (commentary && commentary.length) || (isLinkPost && post.body);\n\n  const commentaryEl = renderComment ? (\n    <Commentary\n      isReply\n      isLinkPost={isLinkPost}\n      preview={preview}\n      post={post}\n      link={link}\n      singlePost={singlePost}\n      commentary={commentary || [post]}\n    />\n  ) : null;\n\n  const postEl = isLinkPost ? (\n    <Box m={preview ? '4 0 0 0' : 0}>\n      <PostInfo\n        key={link._id}\n        post={post}\n        link={link}\n        singlePost={singlePost}\n        preview={preview}\n        noLink={noLink}\n      />\n      {!preview && (\n        <Box m={2}>\n          <ButtonContainer horizontal post={post} singlePost={singlePost} link={link} />\n        </Box>\n      )}\n    </Box>\n  ) : (\n    <Commentary\n      preview={preview}\n      post={post}\n      link={link}\n      singlePost={singlePost}\n      commentary={[post]}\n    />\n  );\n\n  return (\n    <Box style={{ overflow: 'hidden' }}>\n      <Box>\n        {postEl}\n        {commentaryEl || (preview && isLinkPost ? <Box mt={2} /> : null)}\n      </Box>\n      {!singlePost && !hideDivider ? separator : null}\n    </Box>\n  );\n}\n\nexport default memo(Post);\n"],"file":"post.component.js"}
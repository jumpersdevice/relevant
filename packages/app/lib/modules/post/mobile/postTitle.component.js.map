{"version":3,"sources":["../../../../src/modules/post/mobile/postTitle.component.js"],"names":["Mobile","styled","View","PostTitle","props","children","postUrl","post","link","community","title","mobile","c","colors","white","Wrapper","tags","length","titleEl","commentEl","commentCount","tagEl","map","tag","domainEl","url","domain","propTypes","PropTypes","bool","node","object","string"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Tag from 'modules/tag/tag.component';\nimport get from 'lodash/get';\nimport ULink from 'modules/navigation/ULink.component';\nimport { View, Title, SecondaryText, InlineText } from 'modules/styled/uni';\nimport styled from 'styled-components/primitives';\nimport { colors, sizing } from 'app/styles';\n\nconst Mobile = styled.View`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  color: white;\n  padding: ${sizing(2)};\n`;\n\nexport default function PostTitle(props) {\n  const { children, postUrl, post, link, community, title, mobile } = props;\n\n  const c = mobile ? colors.white : null;\n  const Wrapper = mobile ? Mobile : View;\n\n  if (!post) return null;\n  const tags = post.tags && post.tags.length ? get(post, 'tags', []) : [];\n\n  const titleEl = postUrl ? (\n    <ULink to={postUrl}>\n      <Title c={c} flex={1}>\n        {title}\n      </Title>\n    </ULink>\n  ) : (\n    <Title c={c} flex={1} mb={4}>\n      {title}\n    </Title>\n  );\n\n  const commentEl =\n    post.commentCount && postUrl ? (\n      <InlineText>\n        <ULink to={postUrl}>\n          <InlineText>\n            {post.commentCount} Comment{post.commentCount > 1 ? 's' : ''}\n          </InlineText>\n        </ULink>\n        <InlineText> • </InlineText>\n      </InlineText>\n    ) : null;\n\n  const tagEl = tags.length ? (\n    <InlineText>\n      {tags.map(tag => (\n        <Tag name={tag} community={community} key={tag} />\n      ))}\n      <InlineText>• </InlineText>\n    </InlineText>\n  ) : null;\n\n  const domainEl = get(link, 'domain') && (\n    <InlineText>\n      <ULink external to={post.url} target=\"_blank\" disabled={!postUrl}>\n        <InlineText c={c}>{link.domain && `${link.domain} ↗`}</InlineText>\n      </ULink>\n    </InlineText>\n  );\n\n  // const userSet = new Set();\n  // (get(post, 'commentary', []) || []).forEach(user => userSet.add(user.id));\n\n  // const timestamp = getTimestamp(post.postDate);\n  // const uniqueUsers = userSet.size - 1;\n  // let postUser;\n  // if (get(post, 'embeddedUser.handle')) {\n  //   postUser = post.embeddedUser;\n  // } else if (get(firstPost, 'embeddedUser.handle')) {\n  //   postUser = firstPost.embeddedUser;\n  // }\n\n  // const userEl = get(postUser, 'handle') &&\n  //   <TextView>\n  //     <Text>Posted by: </Text>\n  //     <ULink to={`/user/profile/${postUser.handle}`} disabled={!postUrl}>\n  //       {`@${get(postUser, 'handle')}`}\n  //     </ULink>\n  //   </TextView>;\n\n  return (\n    <Wrapper flex={1} fdirection={'column'}>\n      <View>\n        {titleEl}\n        {/* {postUrl && timestamp }{' • '} */}\n        <SecondaryText c={c}>\n          <InlineText>\n            {commentEl}\n            {tagEl}\n            {domainEl}\n          </InlineText>\n        </SecondaryText>\n        {children}\n      </View>\n    </Wrapper>\n  );\n}\n\nPostTitle.propTypes = {\n  mobile: PropTypes.bool,\n  children: PropTypes.node,\n  link: PropTypes.object,\n  post: PropTypes.object,\n  community: PropTypes.string,\n  postUrl: PropTypes.string,\n  title: PropTypes.string\n};\n"],"file":"postTitle.component.js"}
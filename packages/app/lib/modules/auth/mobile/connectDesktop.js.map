{"version":3,"sources":["../../../../src/modules/auth/mobile/connectDesktop.js"],"names":["ConnectDesktop","dispatch","onRead","e","token","data","storage","setToken","minHeight","fullHeight","IphoneX","Platform","OS","flex","alignItems","overflow","flashMode","Camera","Constants","FlashMode","auto"],"mappings":"yWAAA,oDACA,gDACA,uCACA,qCACA,6FACA,sDACA,qCACA,qCACA,+DACA,8C,uGAEe,QAASA,CAAAA,cAAT,EAA0B,CACvC,GAAMC,CAAAA,QAAQ,CAAG,6BAAjB,CAEA,GAAMC,CAAAA,MAAM,8EAAG,iBAAMC,CAAN,6HACPC,KADO,CACCD,CAAC,CAACE,IADH,uBAEPC,gBAAQC,QAAR,CAAiBH,KAAjB,CAFO,QAGbH,QAAQ,CAAC,2BAAiBG,KAAjB,CAAD,CAAR,CACAH,QAAQ,CAAC,mBAAD,CAAR,CACAA,QAAQ,CAAC,2BAAD,CAAR,CALa,sDAAH,kBAANC,CAAAA,MAAM,4CAAZ,CAQA,MACE,8BAAC,QAAD,EACE,KAAK,CAAE,CACLM,SAAS,CAAEC,mBAAa,EAAI,EAAjB,EAAuBC,gBAAU,EAAV,CAAe,CAAtC,CADN,CADT,gEAKE,6BAAC,iBAAD,EAAc,IAAI,CAAE,OAApB,CAA6B,GAAG,CAAEC,yBAASC,EAAT,GAAgB,SAAhB,CAA4B,OAA5B,CAAsC,GAAxE,gEACE,6BAAC,iCAAD,EACE,YAAY,CAAE,CAAEC,IAAI,CAAE,CAAR,CAAWC,UAAU,CAAE,YAAvB,CADhB,CAEE,UAAU,CACR,6BAAC,QAAD,EAAK,CAAC,CAAE,CAAR,iEACE,6BAAC,UAAD,gGADF,CAHJ,CAOE,WAAW,CAAE,CACXC,QAAQ,CAAE,QADC,CAPf,CAUE,WAAW,CAAE,CAAEC,SAAS,CAAEC,4BAAOC,SAAP,CAAiBC,SAAjB,CAA2BC,IAAxC,CAVf,CAWE,MAAM,CAAElB,MAXV,CAYE,eAAe,CAAE,CAAEW,IAAI,CAAE,CAAR,CAAWC,UAAU,CAAE,YAAvB,CAZnB,CAaE,aAAa,CACX,6BAAC,QAAD,EAAK,CAAC,CAAE,CAAR,iEACE,6BAAC,UAAD,kFADF,CAEE,6BAAC,aAAD,EAAU,EAAE,CAAE,CAAd,gHAFF,CAGE,6BAAC,aAAD,EAAU,EAAE,CAAE,GAAd,0GAHF,CAIE,6BAAC,aAAD,EAAU,EAAE,CAAE,GAAd,oGAJF,CAKE,6BAAC,aAAD,EAAU,EAAE,CAAE,GAAd,uFALF,CAdJ,gEADF,CALF,CADF,CAiCD","sourcesContent":["import React from 'react';\nimport { Platform } from 'react-native';\nimport { useDispatch } from 'react-redux';\nimport { BodyText, AbsoluteView, Box, Title } from 'modules/styled/uni';\nimport QRCodeScanner from 'react-native-qrcode-scanner';\nimport { RNCamera as Camera } from 'react-native-camera';\nimport { storage } from 'app/utils';\nimport { loginUserSuccess, getUser } from 'modules/auth/auth.actions';\nimport { hideModal } from 'modules/navigation/navigation.actions';\nimport { fullHeight, IphoneX } from 'styles/global';\n\nexport default function ConnectDesktop() {\n  const dispatch = useDispatch();\n\n  const onRead = async e => {\n    const token = e.data;\n    await storage.setToken(token);\n    dispatch(loginUserSuccess(token));\n    dispatch(getUser());\n    dispatch(hideModal());\n  };\n\n  return (\n    <Box\n      style={{\n        minHeight: fullHeight - 2 * 48 - (IphoneX ? 33 : 0)\n      }}\n    >\n      <AbsoluteView left={'-32px'} top={Platform.OS === 'android' ? '-48px' : '0'}>\n        <QRCodeScanner\n          topViewStyle={{ flex: 1, alignItems: 'flex-start' }}\n          topContent={\n            <Box p={2}>\n              <Title>Log in with Desktop Browser</Title>\n            </Box>\n          }\n          cameraStyle={{\n            overflow: 'hidden'\n          }}\n          cameraProps={{ flashMode: Camera.Constants.FlashMode.auto }}\n          onRead={onRead}\n          bottomViewStyle={{ flex: 1, alignItems: 'flex-start' }}\n          bottomContent={\n            <Box p={2}>\n              <Title>Instructions:</Title>\n              <BodyText mt={1}>1. Go to relevant.community on your computer</BodyText>\n              <BodyText mt={0.5}>2. Log in and navigate to your profile</BodyText>\n              <BodyText mt={0.5}>3. Click 'Connect Mobile Device'</BodyText>\n              <BodyText mt={0.5}>4. Scan the QR code</BodyText>\n            </Box>\n          }\n        />\n      </AbsoluteView>\n    </Box>\n  );\n}\n"],"file":"connectDesktop.js"}
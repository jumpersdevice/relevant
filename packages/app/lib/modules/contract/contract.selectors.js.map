{"version":3,"sources":["../../../src/modules/contract/contract.selectors.js"],"names":["selectUserBalance","selectors","state","address","methods","balanceOf","at","web3","accounts","items","selectUserNonce","nonceOf","selectCashOut","cashOut","formatSelection","el","value","useWeb3State","status","init","isInitialized","networkId","network","id","useRelevantState","tokenAddress","initialized","userNonce","userBalance","RelevantToken","getState","method","args","eventCache","event","events"],"mappings":"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","sourcesContent":["import { useSelector } from 'react-redux';\nimport { parseBN } from 'app/utils/eth';\nimport { useContract } from './contract.context';\n\nexport const selectUserBalance = (selectors, state, address) =>\n  selectors.methods.balanceOf({ at: address })(\n    state,\n    state.web3 && state.web3.accounts.items && state.web3.accounts.items[0]\n  );\n\nexport const selectUserNonce = (selectors, state, address) =>\n  selectors.methods.nonceOf({ at: address })(\n    state,\n    state.web3 && state.web3.accounts.items && state.web3.accounts.items[0]\n  );\n\nexport const selectCashOut = (selectors, state, address) =>\n  selectors.methods.cashOut({ at: address })(\n    state,\n    state.web3 && state.web3.accounts.items && state.web3.accounts.items[0]\n  );\n\nexport const formatSelection = el => {\n  if (!el) return {};\n  const value = typeof parseBN(el.value) !== 'number' ? parseBN(el.value) : el.value;\n  return { ...el, value };\n};\n\nexport const useWeb3State = () => {\n  useContract();\n  return useSelector(state => ({\n    web3: state.web3,\n    status: state.web3 && state.web3.init.status,\n    isInitialized: state.web3 && state.web3.init.isInitialized,\n    networkId: state.web3 && state.web3.network.id && state.web3.network.id,\n    accounts: state.web3 && state.web3.accounts.items && state.web3.accounts.items,\n    address: state.web3 && state.web3.accounts.items && state.web3.accounts.items[0]\n  }));\n};\n\nexport const useRelevantState = () => {\n  const { selectors, tokenAddress, initialized } = useContract();\n  return useSelector(state => {\n    return initialized\n      ? {\n          userNonce: selectUserNonce(selectors, state, tokenAddress),\n          userBalance: selectUserBalance(selectors, state, tokenAddress),\n          RelevantToken: state.RelevantToken,\n          getState: (method, ...args) =>\n            selectors.methods[method]\n              ? formatSelection(\n                  selectors.methods[method]({ at: tokenAddress })(state, ...args)\n                )\n              : {},\n          eventCache: event => selectors.events[event]\n        }\n      : { getState: () => ({}) };\n  });\n};\n"],"file":"contract.selectors.js"}
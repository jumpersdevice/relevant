{"version":3,"sources":["../../../../src/modules/navigation/mobile/tabBar.component.js"],"names":["styles","Emoji","Text","Platform","OS","require","default","TabBar","propTypes","currentTab","PropTypes","object","changeTab","func","tabs","array","footer","map","t","key","Tab","tab","notif","state","user","auth","active","badge","params","title","count","fontAdjust","fontSize","defaultIcon","icon","textCenter","footerTextActive","defaultTitle","colors","blue","grey","profileTab","image","uri","footerImg","flex","requestAnimationFrame","footerItem","borderBottomColor","footerItemView","footerItemInner","notifCount","notifText","localStyles","StyleSheet","create","width","fullWidth","height","IphoneX","flexDirection","alignItems","backgroundColor","borderTopWidth","hairlineWidth","borderTopColor","paddingBottom","borderBottomWidth","justifyContent","paddingTop","resizeMode","borderRadius","opacity","color","globalStyles"],"mappings":"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","sourcesContent":["import React, { memo } from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  Image,\n  TouchableHighlight,\n  Platform\n} from 'react-native';\nimport PropTypes from 'prop-types';\nimport { globalStyles, fullWidth, IphoneX } from 'app/styles/global';\nimport Percent from 'modules/stats/mobile/percent.component';\nimport { SmallText } from 'modules/styled/uni';\nimport { colors } from 'styles';\n\nlet styles;\n\nlet Emoji = Text;\nif (Platform.OS === 'android') {\n  Emoji = require('react-native-emoji-compat-text').default;\n}\n\nTabBar.propTypes = {\n  currentTab: PropTypes.object,\n  changeTab: PropTypes.func,\n  tabs: PropTypes.array\n};\n\nexport default memo(TabBar);\n\nfunction TabBar({ tabs, currentTab, changeTab }) {\n  return (\n    <View style={styles.footer}>\n      {tabs.map(t => (\n        <Tab key={t.key} tab={t} currentTab={currentTab} changeTab={changeTab} />\n      ))}\n    </View>\n  );\n}\n\nTab.propTypes = {\n  tab: PropTypes.object,\n  currentTab: PropTypes.object,\n  changeTab: PropTypes.func\n};\n\nfunction Tab({ tab, currentTab, changeTab }) {\n  const notif = useSelector(state => state.notif);\n  const user = useSelector(state => state.auth.user);\n  const active = tab.key === currentTab.key;\n  const badge = tab.params.title === 'Activity' && notif.count && notif.count;\n\n  const fontAdjust = tab.params.title === 'Wallet' &&\n    Platform.OS === 'ios' && { fontSize: 23 };\n\n  const defaultIcon = (\n    <Emoji\n      style={[\n        styles.icon,\n        styles.textCenter,\n        fontAdjust,\n        active ? styles.footerTextActive : null\n      ]}\n    >\n      {tab.params.icon}\n    </Emoji>\n  );\n\n  const defaultTitle = (\n    <SmallText fs={1.25} c={active ? colors.blue : colors.grey}>\n      {tab.params.title}\n    </SmallText>\n  );\n\n  const profileTab = tab.key === 'myProfile';\n\n  const icon =\n    profileTab && user && user.image ? (\n      <Image source={{ uri: user.image }} style={[styles.footerImg]} />\n    ) : (\n      defaultIcon\n    );\n\n  const title =\n    profileTab && user ? (\n      <View>\n        <Percent fontSize={10} fontFamily={'Arial'} user={user} />\n      </View>\n    ) : (\n      defaultTitle\n    );\n\n  return (\n    <View style={{ flex: 1 }} key={tab.key}>\n      <TouchableHighlight\n        onPress={() => requestAnimationFrame(() => changeTab(tab.key))}\n        underlayColor={'transparent'}\n        style={[\n          styles.footerItem,\n          { borderBottomColor: active ? colors.blue : 'transparent' }\n        ]}\n      >\n        <View style={styles.footerItemView}>\n          <View style={styles.footerItemInner}>{icon}</View>\n          {title}\n        </View>\n      </TouchableHighlight>\n      {badge ? (\n        <View pointerEvents={'none'} style={styles.notifCount}>\n          <Text style={styles.notifText}>{badge}</Text>\n        </View>\n      ) : null}\n    </View>\n  );\n}\n\nconst localStyles = StyleSheet.create({\n  footer: {\n    width: fullWidth,\n    height: IphoneX ? 83 : 50,\n    flexDirection: 'row',\n    alignItems: 'stretch',\n    backgroundColor: 'white',\n    borderTopWidth: StyleSheet.hairlineWidth,\n    borderTopColor: 'black',\n    paddingBottom: IphoneX ? 33 : 0\n  },\n  footerItem: {\n    flex: 1,\n    borderBottomWidth: 2,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  footerItemView: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingTop: 2\n  },\n  footerItemInner: {\n    height: 27,\n    justifyContent: 'flex-start'\n  },\n  footerImg: {\n    resizeMode: 'cover',\n    height: 25,\n    width: 25,\n    borderRadius: 12.5\n  },\n  icon: {\n    fontSize: 20,\n    opacity: 1,\n    color: 'black',\n    width: 25\n  }\n});\n\nstyles = { ...localStyles, ...globalStyles };\n"],"file":"tabBar.component.js"}
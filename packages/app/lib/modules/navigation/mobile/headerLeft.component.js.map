{"version":3,"sources":["../../../../src/modules/navigation/mobile/headerLeft.component.js"],"names":["styles","HeaderLeft","propTypes","navigation","PropTypes","object","screenProps","parent","dangerouslyGetParent","index","state","params","back","backEl","goBack","requestAnimationFrame","key","routeName","share","close","navigate","left","darkGrey","fontSize","active","justifyContent","padding","paddingHorizontal","unread","options","openDrawer","height","position","bottom","right","leftButton","flexDirection","localStyles","flex","marginLeft","mainPadding","alignItems","StyleSheet","create","colors","dispatch","actions","toggleTopics"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity } from 'react-native';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Icon from 'react-native-vector-icons/Ionicons';\nimport { toggleTopics } from 'modules/navigation/navigation.actions';\nimport { useTotalUnread } from 'modules/community/hooks';\nimport { Badge } from 'modules/styled/uni';\nimport { darkGrey, mainPadding, colors } from 'app/styles/global';\n\nlet styles;\n\nHeaderLeft.propTypes = {\n  navigation: PropTypes.object,\n  screenProps: PropTypes.object\n};\n\nfunction HeaderLeft({ navigation, screenProps }) {\n  // console.log(screenProps, navigation.state);\n  const parent = navigation.dangerouslyGetParent() || navigation;\n\n  const { index } = parent.state;\n\n  const { state } = navigation;\n  const params = state.params || {};\n\n  let back;\n  let backEl;\n\n  let goBack = () => {\n    // Go back on next tick because button ripple effect needs to happen on Android\n    requestAnimationFrame(() => {\n      navigation.goBack(navigation.state.key);\n    });\n  };\n\n  if (state.routeName === 'createPostUrl' || state.routeName === 'shareAuth') {\n    if (params.share) {\n      goBack = () => screenProps.close();\n    } else goBack = () => navigation.navigate('main');\n  }\n\n  if (index > 0 || params.left) {\n    back = <Icon name=\"ios-arrow-back\" size={28} color={darkGrey} />;\n\n    if (params.left) {\n      back = <Text style={[{ fontSize: 17 }, styles.active]}>{params.left}</Text>;\n    }\n\n    backEl = (\n      <TouchableOpacity\n        onPress={goBack}\n        style={{ justifyContent: 'center', padding: 0, paddingHorizontal: 10 }}\n      >\n        {back}\n      </TouchableOpacity>\n    );\n  }\n\n  const unread = useTotalUnread();\n\n  const options = (\n    <TouchableOpacity\n      onPress={() => navigation.openDrawer()}\n      style={{ padding: 0, paddingHorizontal: 10 }}\n    >\n      <View>\n        <Icon name=\"ios-options\" size={23} style={{ height: 26 }} color={darkGrey} />\n        <Badge style={{ position: 'absolute', bottom: 0, right: -8 }} number={unread} />\n      </View>\n    </TouchableOpacity>\n  );\n\n  return (\n    <View style={[styles.leftButton, { flexDirection: 'row' }]}>{backEl || options}</View>\n  );\n}\n\nconst localStyles = {\n  leftButton: {\n    flex: 1,\n    marginLeft: mainPadding - 10,\n    justifyContent: 'flex-start',\n    alignItems: 'center'\n  }\n};\n\nstyles = StyleSheet.create({ ...localStyles, ...colors });\n\nexport default connect(\n  () => ({}),\n  dispatch => ({ actions: bindActionCreators({ toggleTopics }, dispatch) })\n)(HeaderLeft);\n"],"file":"headerLeft.component.js"}
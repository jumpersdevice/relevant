{"version":3,"sources":["../../../src/modules/form/createSelectField.component.js"],"names":["components","DropdownIndicator","createOption","label","value","CreatableMulti","inputValue","props","input","map","option","setState","event","state","key","preventDefault","vals","v","onChange","placeholder","error","colors","black","handleChange","handleInputChange","handleKeyDown","red","Component","PropTypes","object","string"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport CreatableSelect from 'react-select/creatable';\nimport { LinkFont, SecondaryText, View } from 'modules/styled/uni';\nimport { colors } from 'app/styles';\n\nconst components = {\n  DropdownIndicator: null\n};\n\nconst createOption = label => ({\n  label,\n  value: label\n});\n\nexport default class CreatableMulti extends Component {\n  static propTypes = {\n    // initialValues: PropTypes.array,\n    input: PropTypes.object,\n    placeholder: PropTypes.string,\n    label: PropTypes.string,\n    error: PropTypes.string\n  };\n\n  state = {\n    inputValue: '',\n    value: this.props.input.value\n      ? this.props.input.value.map(option => ({ value: option, label: option }))\n      : []\n  };\n\n  componentDidUpdate() {\n    const vals = this.state.value.map(v => v.label);\n    // console.log('did update', vals);\n    this.props.input.onChange(vals);\n  }\n\n  handleChange = value => {\n    this.setState({ value });\n  };\n\n  handleInputChange = inputValue => {\n    this.setState({ inputValue });\n  };\n\n  handleKeyDown = event => {\n    const { inputValue, value } = this.state;\n    if (!inputValue) return;\n    switch (event.key) {\n      case 'Enter':\n      case 'Tab':\n        // console.group('Value Added');\n        // console.log(value);\n        // console.groupEnd();\n        this.setState({\n          inputValue: '',\n          value: [...value, createOption(inputValue)]\n        });\n        event.preventDefault();\n        break;\n      default:\n        // console.log('DEFAULT');\n        break;\n    }\n  };\n\n  render() {\n    const { placeholder, label, error, input } = this.props;\n    const { inputValue } = this.state;\n    const vals = input.value ? input.value.map(v => ({ label: v, value: v })) : [];\n    return (\n      <View key=\"tags-input\" mt={2}>\n        {label ? (\n          <LinkFont c={colors.black} mb={1}>\n            {label}\n          </LinkFont>\n        ) : null}\n        <CreatableSelect\n          key=\"tags-input-select\"\n          components={components}\n          inputValue={inputValue}\n          isClearable\n          isMulti\n          menuIsOpen={false}\n          onChange={this.handleChange}\n          onInputChange={this.handleInputChange}\n          onKeyDown={this.handleKeyDown}\n          placeholder={placeholder}\n          value={vals}\n        />\n        {error ? (\n          <SecondaryText c={colors.red} mt={1}>\n            {error}\n          </SecondaryText>\n        ) : null}\n      </View>\n    );\n  }\n}\n"],"file":"createSelectField.component.js"}
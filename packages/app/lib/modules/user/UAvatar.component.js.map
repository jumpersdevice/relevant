{"version":3,"sources":["../../../src/modules/user/UAvatar.component.js"],"names":["UAvatar","propTypes","user","PropTypes","object","size","number","noLink","bool","m","string","goToProfile","func","style","oneOfType","array","onPress","dispatch","profileLink","handle","image","uri","require","imageSize","AVATAR_SIZE","AvatarImage","e","stopPropagation"],"mappings":"qQAAA,qDACA,uCACA,6DACA,4EACA,kCACA,2CACA,4D,mGAEAA,OAAO,CAACC,SAAR,CAAoB,CAClBC,IAAI,CAAEC,mBAAUC,MADE,CAElBC,IAAI,CAAEF,mBAAUG,MAFE,CAGlBC,MAAM,CAAEJ,mBAAUK,IAHA,CAIlBC,CAAC,CAAEN,mBAAUO,MAJK,CAKlBC,WAAW,CAAER,mBAAUS,IALL,CAMlBC,KAAK,CAAEV,mBAAUW,SAAV,CAAoB,CAACX,mBAAUO,MAAX,CAAmBP,mBAAUY,KAA7B,CAApB,CANW,CAApB,CASA,QAASf,CAAAA,OAAT,MAAyE,IAAtDK,CAAAA,IAAsD,MAAtDA,IAAsD,CAAhDH,IAAgD,MAAhDA,IAAgD,CAA1CO,CAA0C,MAA1CA,CAA0C,CAA1BO,QAA0B,MAAvCL,WAAuC,CAAjBE,KAAiB,MAAjBA,KAAiB,CAAVN,MAAU,MAAVA,MAAU,CACvE,GAAMU,CAAAA,QAAQ,CAAG,6BAAjB,CACA,GAAI,CAACf,IAAL,CAAW,MAAO,KAAP,CACX,GAAMgB,CAAAA,WAAW,CAAG,iBAAmBhB,IAAI,CAACiB,MAA5C,CAEA,GAAMC,CAAAA,KAAK,CAAGlB,IAAI,CAACkB,KAAL,CAAa,CAAEC,GAAG,CAAEnB,IAAI,CAACkB,KAAZ,CAAb,CAAmCE,OAAO,wCAAxD,CACA,GAAMC,CAAAA,SAAS,CAAGlB,IAAI,EAAImB,mBAA1B,CACA,GAAMC,CAAAA,WAAW,CACf,6BAAC,UAAD,EAAO,MAAM,CAAEL,KAAf,CAAsB,CAAC,CAAEG,SAAzB,CAAoC,CAAC,CAAEA,SAAvC,CAAkD,OAAO,CAAEA,SAAS,CAAG,CAAvE,gEADF,CAGA,GAAIhB,MAAJ,CAAY,CACV,MACE,8BAAC,SAAD,EAAM,KAAK,CAAEM,KAAb,CAAoB,CAAC,CAAEJ,CAAvB,gEACGgB,WADH,CADF,CAKD,CACD,MACE,8BAAC,SAAD,EAAM,KAAK,CAAEZ,KAAb,CAAoB,CAAC,CAAEJ,CAAvB,gEACE,6BAAC,cAAD,EACE,OAAO,CAAE,yBAAOO,CAAAA,QAAO,CAAGA,QAAO,CAACd,IAAD,CAAV,CAAmBe,QAAQ,CAAC,4BAAYf,IAAZ,CAAD,CAAzC,EADX,CAEE,OAAO,CAAE,iBAAAwB,CAAC,QAAIA,CAAAA,CAAC,CAACC,eAAF,EAAJ,EAFZ,CAGE,EAAE,CAAET,WAHN,gEAKGO,WALH,CADF,CADF,CAWD,C,aAEc,gBAAKzB,OAAL,C","sourcesContent":["import React, { memo } from 'react';\nimport { useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport ULink from 'modules/navigation/ULink.component';\nimport { Image, View } from 'modules/styled/uni';\nimport { AVATAR_SIZE } from 'styles/layout';\nimport { goToProfile } from 'modules/navigation/navigation.actions';\n\nUAvatar.propTypes = {\n  user: PropTypes.object,\n  size: PropTypes.number,\n  noLink: PropTypes.bool,\n  m: PropTypes.string,\n  goToProfile: PropTypes.func,\n  style: PropTypes.oneOfType([PropTypes.string, PropTypes.array])\n};\n\nfunction UAvatar({ size, user, m, goToProfile: onPress, style, noLink }) {\n  const dispatch = useDispatch();\n  if (!user) return null;\n  const profileLink = '/user/profile/' + user.handle;\n\n  const image = user.image ? { uri: user.image } : require('public/img/default_user.jpg');\n  const imageSize = size || AVATAR_SIZE;\n  const AvatarImage = (\n    <Image source={image} h={imageSize} w={imageSize} bradius={imageSize / 2} />\n  );\n  if (noLink) {\n    return (\n      <View style={style} m={m}>\n        {AvatarImage}\n      </View>\n    );\n  }\n  return (\n    <View style={style} m={m}>\n      <ULink\n        onPress={() => (onPress ? onPress(user) : dispatch(goToProfile(user)))}\n        onClick={e => e.stopPropagation()}\n        to={profileLink}\n      >\n        {AvatarImage}\n      </ULink>\n    </View>\n  );\n}\n\nexport default memo(UAvatar);\n"],"file":"UAvatar.component.js"}
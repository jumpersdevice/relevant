{"version":3,"sources":["../../../../src/modules/tooltip/mobile/tooltip.container.js"],"names":["styles","TOOLTIP_MARGIN","smallScreen","TOOLTIP_WIDTH","fullWidth","Tooltip","props","context","state","height","scale","Animated","Value","opacity","x","width","offset","nextOnboarding","bind","next","tooltip","ready","initTooltipData","auth","user","step","onboarding","id","current","tooltipId","nextT","data","toggle","showing","name","clearTimeout","timeout","setTimeout","spring","toValue","delay","useNativeDriver","velocity","friction","start","setState","helper","tooltips","forEach","actions","setTooltipData","setCurrentTooltip","index","findIndex","t","showTooltip","inc","Platform","OS","tooltipReady","setOnboardingStep","parent","style","arrowStyle","transform","y","fullHeight","vertical","verticalOffset","default","horizontal","horizontalOffset","arrowOffset","translateY","top","h","arrowBottom","bottom","px","w","o","interpolate","inputRange","outputRange","translateX","left","right","button","mediumButton","borderColor","colors","blue","mediumButtonText","color","dismiss","body","text","tooltipText","overlay","flex","backgroundColor","e","nativeEvent","layout","arrow","tooltipCard","noButton","Component","PropTypes","object","localStyles","StyleSheet","create","position","padding","paddingVertical","paddingTop","zIndex","fontSize","lineHeight","rotate","skewY","shadowOffset","globalStyles","mapStateToProps","nav","navigation","mapDispatchToProps","dispatch","authActions","navigationActions","tooltipActions"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Animated,\n  View,\n  StyleSheet,\n  TouchableHighlight,\n  Platform,\n  Text,\n  TouchableOpacity\n} from 'react-native';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { globalStyles, fullHeight, fullWidth, smallScreen } from 'app/styles/global';\nimport { colors } from 'styles';\nimport * as authActions from 'modules/auth/auth.actions';\nimport * as navigationActions from 'modules/navigation/navigation.actions';\nimport * as helper from './tooltip.helper';\nimport * as tooltipActions from '../tooltip.actions';\n\nlet styles;\nconst TOOLTIP_MARGIN = smallScreen ? 4 : 10;\nconst TOOLTIP_WIDTH = fullWidth - 2 * TOOLTIP_MARGIN;\n\nclass Tooltip extends Component {\n  static propTypes = {\n    tooltip: PropTypes.object,\n    auth: PropTypes.object,\n    actions: PropTypes.object\n  };\n\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      height: 0,\n      scale: new Animated.Value(0),\n      opacity: new Animated.Value(0),\n      x: new Animated.Value(0),\n      width: 0\n    };\n    this.offset = 15;\n    this.nextOnboarding = this.nextOnboarding.bind(this);\n  }\n\n  componentWillReceiveProps(next) {\n    if (!this.props.tooltip.ready && next.tooltip.ready) {\n      this.initTooltipData(next);\n    }\n\n    if (!this.props.auth.user) return;\n    this.step = this.props.auth.user.onboarding;\n\n    const id = next.tooltip.current;\n    const tooltipId = next.tooltip.onboarding[id];\n    const nextT = next.tooltip.data[tooltipId];\n    if (nextT && nextT.toggle && tooltipId !== next.tooltip.showing.name) {\n      clearTimeout(this.timeout);\n      this.timeout = setTimeout(() => nextT.toggle(), 300);\n    }\n\n    if (next.tooltip.showing.name !== this.props.tooltip.showing.name) {\n      const tooltip = next.tooltip.showing;\n\n      if (tooltip && tooltip.name) {\n        Animated.spring(this.state.scale, {\n          toValue: 1,\n          delay: 0,\n          useNativeDriver: true,\n          velocity: 25,\n          friction: 10\n        }).start();\n        Animated.spring(this.state.opacity, {\n          toValue: 1,\n          delay: 0,\n          velocity: 25,\n          friction: 10,\n          useNativeDriver: true\n        }).start();\n      } else {\n        this.setState({\n          scale: new Animated.Value(0.0),\n          x: new Animated.Value(0)\n        });\n      }\n    }\n  }\n\n  initTooltipData(props) {\n    helper.tooltips.forEach(tooltip => {\n      this.props.actions.setTooltipData(helper.data[tooltip]);\n    });\n\n    setTimeout(() => {\n      if (!props.auth.user) return;\n      // this.props.actions.setCurrentTooltip(0);\n      this.props.actions.setCurrentTooltip(props.auth.user.onboarding);\n    }, 1100);\n  }\n\n  nextOnboarding() {\n    const current = this.props.tooltip.showing.name;\n\n    const index = this.props.tooltip.onboarding.findIndex(t => t === current);\n\n    this.props.actions.showTooltip(null);\n\n    if (index === this.step) {\n      let inc = 1;\n      if (\n        this.props.tooltip.onboarding[index + 1] === 'shareTip' &&\n        Platform.OS === 'android'\n      ) {\n        inc = 2;\n      }\n      this.step += inc;\n\n      this.props.actions.tooltipReady(false);\n      this.props.actions.setOnboardingStep(this.step);\n    }\n  }\n\n  render() {\n    const { auth } = this.props;\n    if (!auth.user) return null;\n    const tooltip = this.props.tooltip.showing;\n    if (!tooltip || !tooltip.name) return null;\n    if (!tooltip.parent) return null;\n    let style = { opacity: this.state.opacity };\n    let arrowStyle = [];\n    let transform = [{ scale: this.state.scale }];\n\n    const { parent } = tooltip;\n\n    if (parent.y < fullHeight / 2) {\n      tooltip.vertical = 'bottom';\n    } else {\n      tooltip.vertical = 'top';\n    }\n\n    const verticalOffset = tooltip.verticalOffset || helper.data.default.verticalOffset;\n    const horizontal = tooltip.horizontal || helper.data.default.horizontal;\n    const horizontalOffset =\n      tooltip.horizontalOffset || helper.data.default.horizontalOffset;\n\n    let arrowOffset = 3;\n    if (tooltip.vertical === 'bottom') {\n      transform = [...transform, { translateY: this.state.height / 2 }];\n      style = {\n        ...style,\n        top: -10 + parent.y + parent.h + verticalOffset - this.state.height / 2,\n        transform\n      };\n      arrowOffset = 5;\n      arrowStyle = [...arrowStyle, { top: Platform.OS === 'android' ? 5 : 4 }];\n    }\n\n    if (tooltip.vertical === 'top') {\n      transform = [...transform, { translateY: -this.state.height / 2 }];\n      style = {\n        ...style,\n        top: 10 + parent.y - this.state.height / 2 - verticalOffset,\n        transform\n      };\n      arrowStyle = [\n        ...arrowStyle,\n        styles.arrowBottom,\n        { bottom: Platform.OS === 'ios' ? 9 : 5 }\n      ];\n    }\n\n    if (horizontal === 'right') {\n      const px = parent.w / 2 + parent.x + horizontalOffset * 2;\n      const o = fullWidth - px - TOOLTIP_MARGIN;\n\n      const x = this.state.scale.interpolate({\n        inputRange: [0, 1],\n        outputRange: [0, -TOOLTIP_WIDTH + TOOLTIP_WIDTH / 2 + o + TOOLTIP_MARGIN]\n      });\n\n      transform = [{ translateX: x }, ...transform];\n      style = {\n        ...style,\n        left: px - TOOLTIP_WIDTH / 2 - TOOLTIP_MARGIN,\n        transform\n      };\n      arrowStyle = [\n        ...arrowStyle,\n        { right: fullWidth - px - TOOLTIP_MARGIN - arrowOffset }\n      ];\n    }\n\n    if (horizontal === 'left') {\n      style = {\n        ...style,\n        left: parent.x + horizontalOffset,\n        transform\n      };\n      arrowStyle = [...arrowStyle, { left: 8 }];\n    }\n\n    if (horizontal === 'center') {\n      style = {\n        ...style,\n        width: tooltip.width,\n        left: parent.x + parent.w / 2 - this.state.width / 2 + horizontalOffset,\n        transform\n      };\n      arrowStyle = [...arrowStyle, ...styles.arrowBottom, { left: this.state.width / 2 }];\n    }\n\n    const button = (\n      <TouchableOpacity\n        style={[styles.mediumButton, { borderColor: 'white' }]}\n        onPress={this.nextOnboarding}\n        underlayColor={colors.blue}\n      >\n        <Text style={[styles.mediumButtonText, { color: 'white' }]}>Got It</Text>\n      </TouchableOpacity>\n    );\n    // const dismiss = helper.data[tooltip.name].noButton || true;\n    const dismiss = true;\n\n    const body = helper.text[tooltip.name] ? (\n      helper.text[tooltip.name]({\n        ...this.props,\n        style: styles.tooltipText,\n        ...tooltip\n      })\n    ) : (\n      <Text {...this.props} style={styles.tooltipText}>\n        {tooltip.data.text}\n      </Text>\n    );\n\n    return (\n      <TouchableOpacity\n        style={styles.overlay}\n        onPress={dismiss ? this.nextOnboarding : null}\n        underlayColor={colors.blue}\n        activeOpacity={1}\n      >\n        <Animated.View\n          style={{\n            flex: 1,\n            backgroundColor: 'hsla(0,0%,100%,0.3)',\n            // backgroundColor: 'hsla(240,70%,50%,0.4)',\n            opacity: this.state.opacity\n          }}\n        >\n          <Animated.View\n            style={[styles.tooltip, style]}\n            onLayout={e => {\n              const { width, height } = e.nativeEvent.layout;\n              this.setState({ height, width });\n            }}\n          >\n            <View style={[styles.arrow, ...arrowStyle]} />\n            <TouchableHighlight\n              style={styles.tooltipCard}\n              onPress={this.nextOnboarding}\n              underlayColor={colors.blue}\n            >\n              <View>\n                {body}\n                {!helper.data[tooltip.name] || helper.data[tooltip.name].noButton\n                  ? null\n                  : button}\n              </View>\n            </TouchableHighlight>\n          </Animated.View>\n        </Animated.View>\n      </TouchableOpacity>\n    );\n  }\n}\n\nconst localStyles = StyleSheet.create({\n  overlay: {\n    position: 'absolute',\n    width: fullWidth,\n    height: fullHeight,\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0\n  },\n  tooltipCard: {\n    backgroundColor: colors.blue,\n    padding: 15,\n    paddingVertical: 20,\n    paddingTop: 25,\n    zIndex: 1000000,\n    width: TOOLTIP_WIDTH\n  },\n  tooltip: {\n    position: 'absolute',\n    paddingVertical: 10\n  },\n  tooltipText: {\n    fontSize: 15,\n    lineHeight: 20,\n    color: 'white'\n  },\n  arrow: {\n    width: 10,\n    height: 10,\n    position: 'absolute',\n    transform:\n      Platform.OS === 'android'\n        ? [{ rotate: '45deg' }]\n        : [{ rotate: '35deg' }, { skewY: '45deg' }, { translateY: 3 }],\n    backgroundColor: colors.blue\n  },\n  arrowBottom: {\n    shadowOffset: { width: 1, height: 1 }\n  }\n});\n\nstyles = { ...localStyles, ...globalStyles };\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    tooltip: state.tooltip,\n    nav: state.navigation\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        ...authActions,\n        ...navigationActions,\n        ...tooltipActions\n      },\n      dispatch\n    )\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Tooltip);\n"],"file":"tooltip.container.js"}
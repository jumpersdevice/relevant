{"version":3,"sources":["../../../src/modules/animation/vote.component.js"],"names":["ENDY","ICONS","upvote","size","icon","require","bet","Vote","props","context","state","position","Animated","Value","parent","x","y","ENDX","Math","random","interpolate","inputRange","outputRange","opacity","extrapolate","rotateAnimation","scale","i","specialKey","r","timing","toValue","delay","duration","useNativeDriver","start","destroy","horizontal","type","img","width","height","animatedElement","left","w","transform","translateX","translateY","rotate","Component","PropTypes","bool","object","number","func","string"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Animated, Image } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { animatedElement } from 'app/styles/layout';\n\nconst ENDY = 300;\n\nconst ICONS = {\n  upvote: { size: 28, icon: require('public/img/icons/upvoteActive.png') },\n  bet: { size: 18, icon: require('public/img/relevantcoin.png') }\n};\n\nclass Vote extends Component {\n  static propTypes = {\n    horizontal: PropTypes.bool,\n    parent: PropTypes.object,\n    specialKey: PropTypes.number,\n    destroy: PropTypes.func,\n    type: PropTypes.string\n  };\n\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      position: new Animated.Value(0)\n    };\n  }\n\n  componentWillMount() {\n    const { x, y } = this.props.parent;\n    const ENDX = Math.random() * 50;\n\n    this.y = this.state.position.interpolate({\n      inputRange: [0, 1],\n      outputRange: [y, y - ENDY]\n      // easing: Easing.in(Easing.ease)\n    });\n\n    this.x = this.state.position.interpolate({\n      inputRange: [0, 0.5 * Math.random(), 1],\n      outputRange: [x, x + ENDX / 2, x + ENDX]\n      // easing: Easing.out(Easing.ease)\n    });\n\n    this.opacity = this.state.position.interpolate({\n      inputRange: [0.7, 1],\n      outputRange: [1, 0],\n      extrapolate: 'clamp'\n    });\n\n    this.rotateAnimation = this.state.position.interpolate({\n      inputRange: [0, 1 / 4, 1 / 3, 1 / 2, 1],\n      outputRange: ['0deg', '-2deg', '0deg', '2deg', '0deg']\n    });\n\n    this.scale = this.state.position.interpolate({\n      inputRange: [0, 0.2, 0.3, 1],\n      outputRange: [0, 1.2, 1, 1.5],\n      extrapolate: 'clamp'\n    });\n  }\n\n  componentDidMount() {\n    const i = this.props.specialKey;\n    const r = Math.random();\n\n    Animated.timing(this.state.position, {\n      toValue: 1,\n      delay: i * (75 + r * 50),\n      duration: 1000,\n      useNativeDriver: true\n    }).start(() => this.props.destroy(i));\n  }\n\n  render() {\n    const { specialKey, horizontal, parent, type } = this.props;\n    const { icon, size } = ICONS[type];\n    const img = (\n      <Image resizeMode={'contain'} style={{ width: size, height: size }} source={icon} />\n    );\n\n    return (\n      <Animated.View\n        key={specialKey}\n        style={[\n          { ...animatedElement },\n          {\n            left: horizontal ? 0 : parent.w / 2,\n            transform: [\n              { translateX: this.x },\n              { translateY: this.y },\n              { scale: this.scale },\n              { rotate: this.rotateAnimation }\n            ],\n            opacity: this.opacity\n          }\n        ]}\n      >\n        {img}\n      </Animated.View>\n    );\n  }\n}\n\nexport default Vote;\n"],"file":"vote.component.js"}
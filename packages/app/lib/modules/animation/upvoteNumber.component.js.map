{"version":3,"sources":["../../../src/modules/animation/upvoteNumber.component.js"],"names":["ENDY","VoteNumber","props","context","state","position","Animated","Value","parent","x","y","ENDX","Math","random","interpolate","inputRange","outputRange","opacity","extrapolate","rotateAnimation","scale","amount","i","specialKey","r","timing","toValue","delay","duration","useNativeDriver","start","destroy","horizontal","w","element","colors","green","animatedElement","left","transform","translateX","translateY","Component","PropTypes","object","number","func","bool"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Animated } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { animatedElement } from 'app/styles/layout';\nimport { colors } from 'app/styles';\nimport { Title } from 'modules/styled/uni';\n\nconst ENDY = 100;\n\nclass VoteNumber extends Component {\n  static propTypes = {\n    parent: PropTypes.object,\n    specialKey: PropTypes.number,\n    amount: PropTypes.number,\n    destroy: PropTypes.func,\n    horizontal: PropTypes.bool\n  };\n\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      position: new Animated.Value(0)\n    };\n  }\n\n  componentWillMount() {\n    const { x, y } = this.props.parent;\n    const ENDX = (Math.random() - 0.5) * 20;\n\n    this.y = this.state.position.interpolate({\n      inputRange: [0, 1],\n      outputRange: [y + 10, y - ENDY]\n    });\n\n    this.x = this.state.position.interpolate({\n      inputRange: [0, 0.05, 0.5, 1],\n      outputRange: [x - 15, x, x + ENDX / 2, x + ENDX]\n    });\n\n    this.opacity = this.state.position.interpolate({\n      inputRange: [0.7, 1],\n      outputRange: [1, 0],\n      extrapolate: 'clamp'\n    });\n\n    this.rotateAnimation = this.state.position.interpolate({\n      inputRange: [0, 1 / 4, 1 / 3, 1 / 2, 1],\n      outputRange: ['0deg', '-2deg', '0deg', '2deg', '0deg']\n    });\n\n    this.scale = this.state.position.interpolate({\n      inputRange: [0, 0.05, 0.1, 0.9, 0.95, 1],\n      outputRange: [0, 1.4, 1, 1, 1.2, 0]\n    });\n  }\n\n  componentDidMount() {\n    const { amount } = this.props;\n    const i = this.props.specialKey;\n    const r = Math.random();\n\n    Animated.timing(this.state.position, {\n      toValue: 1,\n      delay: r * 30 + (i * 100 * 10) / amount,\n      duration: 2000,\n      useNativeDriver: true\n    }).start(() => this.props.destroy(null, i));\n  }\n\n  render() {\n    const { amount, parent, horizontal } = this.props;\n    const { w } = parent;\n    const { specialKey } = this.props;\n    const element = <Title c={colors.green}>+{amount}</Title>;\n\n    return (\n      <Animated.View\n        key={specialKey}\n        style={[\n          { ...animatedElement },\n          {\n            left: horizontal ? 20 : (w * 2) / 3,\n            transform: [\n              { translateX: this.x },\n              { translateY: this.y },\n              { scale: this.scale }\n            ],\n            opacity: this.opacity\n          }\n        ]}\n      >\n        {element}\n      </Animated.View>\n    );\n  }\n}\n\nexport default VoteNumber;\n"],"file":"upvoteNumber.component.js"}
{"version":3,"sources":["../../../../src/modules/animation/mobile/investAnimation.component.js"],"names":["localStyles","StyleSheet","create","moneyContainer","position","top","right","height","fullHeight","width","fullWidth","styles","globalStyles","InvestAnimation","props","context","enabled","state","investAni","num","clearEls","bind","destroy","next","animation","invest","amount","Math","min","setState","key","thumbs","newArr","i","push","random","Component","PropTypes","object","mapStateToProps","mapDispatchToProps","dispatch","actions","animationActions"],"mappings":"y6BAAA,qDACA,gDACA,6DACA,uCACA,4BACA,8EACA,8CACA,8D,mnDAEA,GAAMA,CAAAA,WAAW,CAAGC,2BAAWC,MAAX,CAAkB,CACpCC,cAAc,CAAE,CACdC,QAAQ,CAAE,UADI,CAEdC,GAAG,CAAE,CAFS,CAGdC,KAAK,CAAE,CAHO,CAIdC,MAAM,CAAEC,kBAJM,CAKdC,KAAK,CAAEC,iBALO,CADoB,CAAlB,CAApB,CAUA,GAAMC,CAAAA,MAAM,gCAAQC,oBAAR,EAAyBZ,WAAzB,CAAZ,C,GAEMa,CAAAA,e,kHAKJ,yBAAYC,KAAZ,CAAmBC,OAAnB,CAA4B,8DAC1B,uBAAMD,KAAN,CAAaC,OAAb,EACA,MAAKC,OAAL,CAAe,IAAf,CACA,MAAKC,KAAL,CAAa,CACXC,SAAS,CAAE,EADA,CAEXC,GAAG,CAAE,CAFM,CAAb,CAIA,MAAKC,QAAL,CAAgB,MAAKA,QAAL,CAAcC,IAAd,4CAAhB,CACA,MAAKC,OAAL,CAAe,MAAKA,OAAL,CAAaD,IAAb,4CAAf,CAR0B,aAS3B,C,yGAEmBE,I,CAAM,CACxB,GAAI,KAAKT,KAAL,CAAWU,SAAX,CAAqBC,MAArB,GAAgCF,IAAI,CAACC,SAAL,CAAeC,MAAnD,CAA2D,CACzD,KAAKC,MAAL,CAAcC,IAAI,CAACC,GAAL,CAAS,EAAT,CAAaL,IAAI,CAACC,SAAL,CAAeE,MAAf,CAAsBD,MAAnC,GAA8C,EAA5D,CACA,KAAKP,SAAL,GACD,CACF,C,mEAEsB,CACrB,KAAKE,QAAL,GACD,C,2CAEU,CAET,KAAKS,QAAL,CAAc,CAAEV,GAAG,CAAE,CAAP,CAAUD,SAAS,CAAE,EAArB,CAAd,EACD,C,wCAEOY,G,CAAK,CACX,MAAO,MAAKb,KAAL,CAAWC,SAAX,CAAqBY,GAArB,CAAP,CACA,KAAKD,QAAL,CAAc,CAAEE,MAAM,CAAE,KAAKd,KAAL,CAAWC,SAArB,CAAd,EACD,C,6CAEW,CACV,KAAKE,QAAL,GACA,GAAMY,CAAAA,MAAM,CAAG,EAAf,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG,KAAKP,MAAzB,CAAiCO,CAAC,EAAlC,CAAsC,CACpCD,MAAM,CAACE,IAAP,CACE,6BAAC,aAAD,EACE,OAAO,CAAE,KAAKZ,OADhB,CAEE,MAAM,CAAE,KAAKI,MAFf,CAGE,GAAG,CAAEO,CAAC,CAAGN,IAAI,CAACQ,MAAL,EAHX,CAIE,UAAU,CAAEF,CAJd,gEADF,EAQA,KAAKJ,QAAL,CAAc,CAAEX,SAAS,CAAEc,MAAb,CAAd,EACD,CACF,C,uCAEQ,CACP,MACE,8BAAC,oBAAD,EAAM,aAAa,CAAE,MAArB,CAA6B,KAAK,CAAErB,MAAM,CAACR,cAA3C,gEACG,KAAKc,KAAL,CAAWC,SADd,CADF,CAKD,C,6BA3D2BkB,gB,+BAAxBvB,e,aACe,CACjBW,SAAS,CAAEa,mBAAUC,MADJ,C,EA6DrB,QAASC,CAAAA,eAAT,CAAyBtB,KAAzB,CAAgC,CAC9B,MAAO,CACLO,SAAS,CAAEP,KAAK,CAACO,SADZ,CAAP,CAGD,CAED,QAASgB,CAAAA,kBAAT,CAA4BC,QAA5B,CAAsC,CACpC,MAAO,CACLC,OAAO,CAAE,+CAEFC,gBAFE,EAIPF,QAJO,CADJ,CAAP,CAQD,C,aAEc,wBAAQF,eAAR,CAAyBC,kBAAzB,EAA6C3B,eAA7C,C","sourcesContent":["import React, { Component } from 'react';\nimport { StyleSheet, View } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as animationActions from 'modules/animation/animation.actions';\nimport { globalStyles, fullHeight, fullWidth } from 'app/styles/global';\nimport Dollar from './coin.component';\n\nconst localStyles = StyleSheet.create({\n  moneyContainer: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    height: fullHeight,\n    width: fullWidth\n  }\n});\n\nconst styles = { ...globalStyles, ...localStyles };\n\nclass InvestAnimation extends Component {\n  static propTypes = {\n    animation: PropTypes.object\n  };\n\n  constructor(props, context) {\n    super(props, context);\n    this.enabled = true;\n    this.state = {\n      investAni: [],\n      num: 0\n    };\n    this.clearEls = this.clearEls.bind(this);\n    this.destroy = this.destroy.bind(this);\n  }\n\n  componentWillUpdate(next) {\n    if (this.props.animation.invest !== next.animation.invest) {\n      this.amount = Math.min(20, next.animation.amount.invest) || 10;\n      this.investAni();\n    }\n  }\n\n  componentWillUnmount() {\n    this.clearEls();\n  }\n\n  clearEls() {\n    // if (this.state.num > 0)\n    this.setState({ num: 0, investAni: [] });\n  }\n\n  destroy(key) {\n    delete this.state.investAni[key];\n    this.setState({ thumbs: this.state.investAni });\n  }\n\n  investAni() {\n    this.clearEls();\n    const newArr = [];\n    for (let i = 0; i < this.amount; i++) {\n      newArr.push(\n        <Dollar\n          destroy={this.destroy}\n          amount={this.amount}\n          key={i + Math.random()}\n          specialKey={i}\n        />\n      );\n      this.setState({ investAni: newArr });\n    }\n  }\n\n  render() {\n    return (\n      <View pointerEvents={'none'} style={styles.moneyContainer}>\n        {this.state.investAni}\n      </View>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    animation: state.animation\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        ...animationActions\n      },\n      dispatch\n    )\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InvestAnimation);\n"],"file":"investAnimation.component.js"}
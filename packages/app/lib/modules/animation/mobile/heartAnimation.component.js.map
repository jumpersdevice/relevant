{"version":3,"sources":["../../../../src/modules/animation/mobile/heartAnimation.component.js"],"names":["styles","heartAnimation","props","context","heartAni","bind","num","state","prev","notif","count","newNotifications","clearEls","setState","length","delay","newArr","push","setTimeout","heartsContainer","Component","PropTypes","object","mapStateToProps","animation","mapDispatchToProps","dispatch","actions","animationActions","localStyles","StyleSheet","create","position","bottom","top","left","height","fullHeight","width","fullWidth","globalStyles"],"mappings":"y6BAAA,qDACA,gDACA,6DACA,uCACA,4BACA,8EACA,8CACA,gE,knDAEA,GAAIA,CAAAA,MAAJ,C,GAEMC,CAAAA,c,gHAKJ,wBAAYC,KAAZ,CAAmBC,OAAnB,CAA4B,6DAC1B,uBAAMD,KAAN,CAAaC,OAAb,EACA,MAAKC,QAAL,CAAgB,MAAKA,QAAL,CAAcC,IAAd,4CAAhB,CACA,MAAKC,GAAL,CAAW,CAAX,CACA,MAAKC,KAAL,CAAa,CACXH,QAAQ,CAAE,EADC,CAAb,CAJ0B,aAO3B,C,sGAEkBI,I,CAAM,IACfC,CAAAA,KADe,CACL,KAAKP,KADA,CACfO,KADe,CAEvB,GAAIA,KAAK,CAACC,KAAN,EAAeF,IAAI,CAACC,KAAL,CAAWC,KAAX,CAAmBD,KAAK,CAACC,KAA5C,CAAmD,CACjD,GAAMC,CAAAA,gBAAgB,CAAGF,KAAK,CAACC,KAAN,CAAcF,IAAI,CAACC,KAAL,CAAWC,KAAlD,CACA,KAAKJ,GAAL,CAAWK,gBAAX,CACA,KAAKP,QAAL,GACD,CACF,C,mEAEsB,CACrB,KAAKQ,QAAL,GACD,C,2CAEU,CACT,KAAKN,GAAL,CAAW,CAAX,CACA,KAAKO,QAAL,CAAc,CAAET,QAAQ,CAAE,EAAZ,CAAd,EACD,C,2CAEU,oBACDU,CAAAA,MADC,CACU,KAAKP,KAAL,CAAWH,QADrB,CACDU,MADC,CAET,GAAMC,CAAAA,KAAK,CAAG,IAAM,KAAKT,GAAzB,CAEA,GAAIQ,MAAM,CAAG,KAAKR,GAAlB,CAAuB,CACrB,GAAMU,CAAAA,MAAM,CAAG,KAAKT,KAAL,CAAWH,QAA1B,CACAY,MAAM,CAACC,IAAP,CAAY,6BAAC,cAAD,EAAO,KAAK,CAAEF,KAAd,CAAqB,GAAG,CAAED,MAA1B,CAAkC,UAAU,CAAEA,MAA9C,iEAAZ,EACA,KAAKD,QAAL,CAAc,CAAET,QAAQ,CAAEY,MAAZ,CAAd,EACAE,UAAU,CAAC,UAAM,CACf,MAAI,CAACd,QAAL,GACD,CAFS,CAEPW,KAFO,CAAV,CAGD,CAPD,IAOO,CACLG,UAAU,CAAC,UAAM,CACf,MAAI,CAACN,QAAL,GACD,CAFS,CAEP,IAFO,CAAV,CAGD,CACF,C,uCAEQ,CACP,MACE,8BAAC,oBAAD,EAAM,aAAa,CAAC,MAApB,CAA2B,KAAK,CAAEZ,MAAM,CAACmB,eAAzC,gEACG,KAAKZ,KAAL,CAAWH,QADd,CADF,CAKD,C,4BAxD0BgB,gB,+BAAvBnB,c,aACe,CACjBQ,KAAK,CAAEY,mBAAUC,MADA,C,EA0DrB,QAASC,CAAAA,eAAT,CAAyBhB,KAAzB,CAAgC,CAC9B,MAAO,CACLiB,SAAS,CAAEjB,KAAK,CAACiB,SADZ,CAELf,KAAK,CAAEF,KAAK,CAACE,KAFR,CAAP,CAID,CAED,QAASgB,CAAAA,kBAAT,CAA4BC,QAA5B,CAAsC,CACpC,MAAO,CACLC,OAAO,CAAE,+CAEFC,gBAFE,EAIPF,QAJO,CADJ,CAAP,CAQD,CAED,GAAMG,CAAAA,WAAW,CAAGC,2BAAWC,MAAX,CAAkB,CACpCZ,eAAe,CAAE,CACfa,QAAQ,CAAE,UADK,CAEfC,MAAM,CAAE,CAFO,CAGfC,GAAG,CAAE,CAHU,CAIfC,IAAI,CAAE,CAJS,CAKfC,MAAM,CAAEC,kBALO,CAMfC,KAAK,CAAEC,iBANQ,CADmB,CAAlB,CAApB,CAWAvC,MAAM,gCAAQwC,oBAAR,EAAyBX,WAAzB,CAAN,C,aAEe,wBAAQN,eAAR,CAAyBE,kBAAzB,EAA6CxB,cAA7C,C","sourcesContent":["import React, { Component } from 'react';\nimport { StyleSheet, View } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as animationActions from 'modules/animation/animation.actions';\nimport { globalStyles, fullWidth, fullHeight } from 'app/styles/global';\nimport Heart from './heart.component';\n\nlet styles;\n\nclass heartAnimation extends Component {\n  static propTypes = {\n    notif: PropTypes.object\n  };\n\n  constructor(props, context) {\n    super(props, context);\n    this.heartAni = this.heartAni.bind(this);\n    this.num = 0;\n    this.state = {\n      heartAni: []\n    };\n  }\n\n  componentDidUpdate(prev) {\n    const { notif } = this.props;\n    if (notif.count && prev.notif.count < notif.count) {\n      const newNotifications = notif.count - prev.notif.count;\n      this.num = newNotifications;\n      this.heartAni();\n    }\n  }\n\n  componentWillUnmount() {\n    this.clearEls();\n  }\n\n  clearEls() {\n    this.num = 0;\n    this.setState({ heartAni: [] });\n  }\n\n  heartAni() {\n    const { length } = this.state.heartAni;\n    const delay = 500 / this.num;\n\n    if (length < this.num) {\n      const newArr = this.state.heartAni;\n      newArr.push(<Heart delay={delay} key={length} specialKey={length} />);\n      this.setState({ heartAni: newArr });\n      setTimeout(() => {\n        this.heartAni();\n      }, delay);\n    } else {\n      setTimeout(() => {\n        this.clearEls();\n      }, 2000);\n    }\n  }\n\n  render() {\n    return (\n      <View pointerEvents=\"none\" style={styles.heartsContainer}>\n        {this.state.heartAni}\n      </View>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    animation: state.animation,\n    notif: state.notif\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        ...animationActions\n      },\n      dispatch\n    )\n  };\n}\n\nconst localStyles = StyleSheet.create({\n  heartsContainer: {\n    position: 'absolute',\n    bottom: 0,\n    top: 0,\n    left: 0,\n    height: fullHeight,\n    width: fullWidth\n  }\n});\n\nstyles = { ...globalStyles, ...localStyles };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(heartAnimation);\n"],"file":"heartAnimation.component.js"}
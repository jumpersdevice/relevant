{"version":3,"sources":["../../../../src/modules/ui/mobile/error.component.js"],"names":["styles","ErrorComponent","props","context","reload","bind","setState","loading","actions","setError","parent","reloadFunction","errorEl","error","require","reloadIcon","fontSize","textAlign","errorComponentContainer","Component","PropTypes","object","string","func","localStyles","StyleSheet","create","justifyContent","alignItems","position","top","bottom","left","right","globalStyles","mapStateToProps","state","mapDispatchToProps","dispatch","errorActions"],"mappings":"y6BAAA,qDACA,gDACA,6DACA,uCACA,4BACA,8CACA,sE,kmDAEA,GAAIA,CAAAA,MAAJ,C,GAEMC,CAAAA,c,gHAQJ,wBAAYC,KAAZ,CAAmBC,OAAnB,CAA4B,6DAC1B,uBAAMD,KAAN,CAAaC,OAAb,EACA,MAAKC,MAAL,CAAc,MAAKA,MAAL,CAAYC,IAAZ,4CAAd,CAF0B,aAG3B,C,+EAEQ,CACP,KAAKC,QAAL,CAAc,CAAEC,OAAO,CAAE,IAAX,CAAd,EACA,KAAKL,KAAL,CAAWM,OAAX,CAAmBC,QAAnB,CAA4B,KAAKP,KAAL,CAAWQ,MAAvC,CAA+C,KAA/C,EACA,KAAKR,KAAL,CAAWS,cAAX,GACD,C,uCAEQ,iBACP,GAAIC,CAAAA,OAAO,CAAG,IAAd,CAEA,GAAI,KAAKV,KAAL,CAAWW,KAAf,CAAsB,CACpBD,OAAO,CACL,6BAAC,kCAAD,EAAoB,aAAa,CAAE,aAAnC,CAAkD,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACR,MAAL,EAAN,EAA3D,gEACE,6BAAC,oBAAD,kEACE,6BAAC,qBAAD,EAAO,MAAM,CAAEU,OAAO,qCAAtB,CAAiD,KAAK,CAAEd,MAAM,CAACe,UAA/D,iEADF,CAEE,6BAAC,oBAAD,EAAM,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAgBC,SAAS,CAAE,QAA3B,CAAb,0EAFF,CADF,CADF,CAQD,CAED,MACE,8BAAC,oBAAD,EACE,aAAa,CAAE,KAAKf,KAAL,CAAWW,KAAX,CAAmB,MAAnB,CAA4B,MAD7C,CAEE,KAAK,CAAEb,MAAM,CAACkB,uBAFhB,gEAIGN,OAJH,CADF,CAQD,C,4BAzC0BO,gB,+BAAvBlB,c,aACe,CACjBO,OAAO,CAAEY,mBAAUC,MADF,CAEjBX,MAAM,CAAEU,mBAAUE,MAFD,CAGjBX,cAAc,CAAES,mBAAUG,IAHT,CAIjBV,KAAK,CAAEO,mBAAUC,MAJA,C,EA2CrB,GAAMG,CAAAA,WAAW,CAAGC,2BAAWC,MAAX,CAAkB,CACpCR,uBAAuB,CAAE,CACvBS,cAAc,CAAE,QADO,CAEvBC,UAAU,CAAE,QAFW,CAGvBC,QAAQ,CAAE,UAHa,CAIvBC,GAAG,CAAE,CAJkB,CAKvBC,MAAM,CAAE,CALe,CAMvBC,IAAI,CAAE,CANiB,CAOvBC,KAAK,CAAE,CAPgB,CADW,CAAlB,CAApB,CAYAjC,MAAM,gCAAQwB,WAAR,EAAwBU,oBAAxB,CAAN,CAEA,QAASC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC9B,MAAO,CACLvB,KAAK,CAAEuB,KAAK,CAACvB,KADR,CAAP,CAGD,CAED,QAASwB,CAAAA,kBAAT,CAA4BC,QAA5B,CAAsC,CACpC,MAAO,CACL9B,OAAO,CAAE,+CAEF+B,YAFE,EAIPD,QAJO,CADJ,CAAP,CAQD,C,aAEc,wBAAQH,eAAR,CAAyBE,kBAAzB,EAA6CpC,cAA7C,C","sourcesContent":["import React, { Component } from 'react';\nimport { StyleSheet, Text, View, Image, TouchableHighlight } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { globalStyles } from 'app/styles/global';\nimport * as errorActions from 'modules/ui/error.actions';\n\nlet styles;\n\nclass ErrorComponent extends Component {\n  static propTypes = {\n    actions: PropTypes.object,\n    parent: PropTypes.string,\n    reloadFunction: PropTypes.func,\n    error: PropTypes.object\n  };\n\n  constructor(props, context) {\n    super(props, context);\n    this.reload = this.reload.bind(this);\n  }\n\n  reload() {\n    this.setState({ loading: true });\n    this.props.actions.setError(this.props.parent, false);\n    this.props.reloadFunction();\n  }\n\n  render() {\n    let errorEl = null;\n\n    if (this.props.error) {\n      errorEl = (\n        <TouchableHighlight underlayColor={'transparent'} onPress={() => this.reload()}>\n          <View>\n            <Image source={require('public/img/reload.png')} style={styles.reloadIcon} />\n            <Text style={{ fontSize: 20, textAlign: 'center' }}>Reload</Text>\n          </View>\n        </TouchableHighlight>\n      );\n    }\n\n    return (\n      <View\n        pointerEvents={this.props.error ? 'auto' : 'none'}\n        style={styles.errorComponentContainer}\n      >\n        {errorEl}\n      </View>\n    );\n  }\n}\n\nconst localStyles = StyleSheet.create({\n  errorComponentContainer: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0\n  }\n});\n\nstyles = { ...localStyles, ...globalStyles };\n\nfunction mapStateToProps(state) {\n  return {\n    error: state.error\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        ...errorActions\n      },\n      dispatch\n    )\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ErrorComponent);\n"],"file":"error.component.js"}
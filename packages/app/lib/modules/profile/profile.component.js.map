{"version":3,"sources":["../../../src/modules/profile/profile.component.js"],"names":["SettingsImage","InviteImage","linkStyle","css","fonts","altLink","mixins","color","Profile","checkRouteForModal","firstRun","props","user","actions","location","history","search","match","settingsUrl","handle","profileUrl","pathname","searchString","push","showModal","isOwner","bio","name","logoutAction","colors","blue","black","secondaryText","grey","e","preventDefault","Component","PropTypes","object","bool","oneOfType","string"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\n\nimport UAvatar from 'modules/user/UAvatar.component';\nimport { colors, sizing, mixins, fonts } from 'app/styles';\nimport { View, Header, AltLink, BodyText, Text } from 'modules/styled/uni';\nimport ULink from 'modules/navigation/ULink.component';\nimport { css } from 'styled-components/primitives';\nimport ProfileStats from './profile.stats';\n\nconst SettingsImage = require('public/img/settings.svg');\nconst InviteImage = require('public/img/invite.svg');\n\nconst linkStyle = css`\n  ${fonts.altLink}\n  ${mixins.color}\n`;\n\nclass Profile extends Component {\n  static propTypes = {\n    actions: PropTypes.object,\n    isOwner: PropTypes.bool,\n    user: PropTypes.object,\n    location: PropTypes.object,\n    history: PropTypes.object,\n    bio: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n  };\n\n  componentDidMount() {\n    this.checkRouteForModal(true);\n  }\n\n  checkRouteForModal(firstRun) {\n    const { user, actions, location, history } = this.props;\n    if (location.search.match('modal=settings')) return;\n    const settingsUrl = `/user/profile/${user.handle}/settings`;\n    const profileUrl = `/user/profile/${user.handle}`;\n    if (settingsUrl === location.pathname) {\n      const searchString = `?redirect=${profileUrl}`;\n      if (firstRun && location.search !== searchString) {\n        history.push({ search: searchString });\n      }\n      actions.showModal('settings');\n    }\n  }\n\n  render() {\n    const { user, isOwner, actions, location, bio } = this.props;\n    if (!user) {\n      return <div className=\"profileContainer\">User not found!</div>;\n    }\n\n    // TODO upload image button\n    // let uploadImg;\n    // if (this.props.auth.user && user._id === this.props.auth.user._id) {\n    //   uploadImg = <button className={'uploadImg edit'}>Update Profile Image</button>;\n    // }\n\n    return (\n      <View\n        m={[4, 2]}\n        display=\"flex\"\n        fdirection=\"row\"\n        align=\"flex-start\"\n        justify=\"flex-start\"\n      >\n        <UAvatar user={user} size={9} />\n        <View ml={sizing(2)} grow={1} shrink={1} wrap={1}>\n          <View\n            fdirection=\"row\"\n            display=\"flex\"\n            justify=\"space-between\"\n            align=\"baseline\"\n            wrap={1}\n          >\n            <View display=\"flex\" fdirection=\"row\" align=\"baseline\" shrink={1} wrap={1}>\n              <Header mr={sizing(2)}>{user.name}</Header>\n              <ProfileStats user={user} isOwner={isOwner} />\n            </View>\n            {isOwner ? (\n              <ULink\n                onClick={() => {\n                  actions.logoutAction(user);\n                }}\n                onPress={() => {\n                  actions.logoutAction(user);\n                }}\n                color={colors.blue}\n                to=\"#\"\n              >\n                Logout\n              </ULink>\n            ) : (\n              <View />\n            )}\n          </View>\n          {bio ? (\n            <View mt={[2, 2]}>\n              <BodyText>{bio}</BodyText>\n            </View>\n          ) : null}\n          {isOwner ? (\n            <View fdirection=\"row\" align=\"center\" mt={2}>\n              <AltLink>\n                <ULink\n                  c={colors.black}\n                  to={`${location.pathname}/settings?redirect=${location.pathname}`}\n                  hc={colors.secondaryText}\n                  styles={linkStyle}\n                >\n                  <Text fdirection=\"row\" align=\"center\">\n                    <View mr={0.5}>\n                      <SettingsImage h={2} w={2} bg={colors.grey} />\n                    </View>\n                    Settings\n                  </Text>\n                </ULink>\n              </AltLink>\n\n              <AltLink ml={1}>\n                <ULink\n                  c={colors.black}\n                  to=\"/invites\"\n                  hc={colors.secondaryText}\n                  styles={linkStyle}\n                  onPress={e => {\n                    e.preventDefault();\n                    actions.showModal('invite');\n                  }}\n                  onClick={e => {\n                    e.preventDefault();\n                    actions.showModal('invite');\n                  }}\n                >\n                  <Text fdirection=\"row\" align=\"center\" ml={1}>\n                    <View mr={0.5}>\n                      <InviteImage h={2} w={2} bg={colors.grey} />\n                    </View>\n                    Invite Friend\n                  </Text>\n                </ULink>\n              </AltLink>\n\n              <AltLink ml={1}>\n                <ULink\n                  to={'#'}\n                  c={colors.black}\n                  hc={colors.secondaryText}\n                  styles={linkStyle}\n                  onClick={e => {\n                    e.preventDefault();\n                    actions.showModal('linkMobile');\n                  }}\n                >\n                  <Text fdirection=\"row\" align=\"center\">\n                    <View mr={0.5}>\n                      <SettingsImage h={2} w={2} bg={colors.grey} />\n                    </View>\n                    Connect Mobile Device\n                  </Text>\n                </ULink>\n              </AltLink>\n            </View>\n          ) : null}\n        </View>\n      </View>\n    );\n  }\n}\n\nexport default withRouter(Profile);\n"],"file":"profile.component.js"}
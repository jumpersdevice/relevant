{"version":3,"sources":["../../../src/modules/profile/apollo.demo.js"],"names":["SUBSCRIBE","gql","GET_ME","Test","data","loading","error","subscribeToMore","unsubscribe","document","message","me","handle","email","balance"],"mappings":"+WAAA,qDACA,kCACA,+CACA,+D,koBAEA,GAAMA,CAAAA,SAAS,IAAGC,mBAAH,oBAAf,CAYA,GAAMC,CAAAA,MAAM,IAAGD,mBAAH,qBAAZ,CAYe,QAASE,CAAAA,IAAT,EAAgB,eACqB,yBAASD,MAAT,CADrB,CACrBE,IADqB,WACrBA,IADqB,CACfC,OADe,WACfA,OADe,CACNC,KADM,WACNA,KADM,CACCC,eADD,WACCA,eADD,CAE7B,qBAAU,UAAM,CACd,GAAMC,CAAAA,WAAW,CAAGD,eAAe,CAAC,CAAEE,QAAQ,CAAET,SAAZ,CAAD,CAAnC,CACA,MAAO,kBAAMQ,CAAAA,WAAW,EAAjB,EAAP,CACD,CAHD,CAGG,CAACD,eAAD,CAHH,EAIA,GAAIF,OAAJ,CAAa,MAAO,8BAAC,aAAD,+EAAP,CACb,GAAIC,KAAJ,CAAW,MAAO,8BAAC,aAAD,4EAAkBA,KAAK,CAACI,OAAxB,CAAP,CACX,MACE,8BAAC,SAAD,iEACE,6BAAC,aAAD,4EACWN,IAAI,CAACO,EAAL,CAAQC,MADnB,aACoCR,IAAI,CAACO,EAAL,CAAQE,KAD5C,cAC6DT,IAAI,CAACO,EAAL,CAAQG,OADrE,CADF,CADF,CAOD","sourcesContent":["import React, { useEffect } from 'react';\nimport { View, BodyText } from 'modules/styled/uni';\nimport { useQuery } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\n\nconst SUBSCRIBE = gql`\n  subscription {\n    userUpdated {\n      _id\n      balance\n      handle\n      name\n      email\n    }\n  }\n`;\n\nconst GET_ME = gql`\n  query {\n    me(filter: { handle: \"slava\" }) {\n      _id\n      handle\n      balance\n      name\n      email\n    }\n  }\n`;\n\nexport default function Test() {\n  const { data, loading, error, subscribeToMore } = useQuery(GET_ME);\n  useEffect(() => {\n    const unsubscribe = subscribeToMore({ document: SUBSCRIBE });\n    return () => unsubscribe();\n  }, [subscribeToMore]);\n  if (loading) return <BodyText>Loading...</BodyText>;\n  if (error) return <BodyText>ERROR: {error.message}</BodyText>;\n  return (\n    <View>\n      <BodyText>\n        handle: {data.me.handle}, email: {data.me.email}, balance={data.me.balance}\n      </BodyText>\n    </View>\n  );\n}\n"],"file":"apollo.demo.js"}
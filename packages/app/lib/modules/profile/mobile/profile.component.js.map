{"version":3,"sources":["../../../../src/modules/profile/mobile/profile.component.js"],"names":["defaultImg","require","ActionSheet","ActionSheetIOS","Platform","OS","RNBottomSheet","showActionSheetWithOptions","showBottomSheetWithOptions","ProfileComponent","props","context","setTag","bind","showActionSheet","initTooltips","toggleTooltip","actions","createToggleAction","tooltipParent","setTooltipData","name","toggle","id","options","cancelButtonIndex","destructiveIndex","buttonIndex","updateBlock","tag","selectTag","_id","replace","changeTab","resetRoutes","cat","category","categoryName","trim","topic","goToTopic","user","isOwner","userImage","image","uri","optionsEl","position","right","top","paddingVertical","paddingHorizontal","colors","black","bio","scrollTo","Component","PropTypes","object","bool","func"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Platform, ActionSheetIOS, TouchableOpacity } from 'react-native';\nimport PropTypes from 'prop-types';\nimport Icon from 'react-native-vector-icons/Ionicons';\nimport RNBottomSheet from 'react-native-bottomsheet';\nimport { View, Divider, Image } from 'modules/styled/uni';\nimport { colors } from 'styles';\nimport Bio from './bio.component';\nimport ProfileStats from '../profile.stats';\n\nconst defaultImg = require('public/img/default_user.jpg');\n\nlet ActionSheet = ActionSheetIOS;\n\nif (Platform.OS === 'android') {\n  ActionSheet = RNBottomSheet;\n  ActionSheet.showActionSheetWithOptions = RNBottomSheet.showBottomSheetWithOptions;\n}\n\nclass ProfileComponent extends Component {\n  static propTypes = {\n    actions: PropTypes.object,\n    user: PropTypes.object,\n    isOwner: PropTypes.bool,\n    scrollTo: PropTypes.func\n  };\n\n  constructor(props, context) {\n    super(props, context);\n    this.setTag = this.setTag.bind(this);\n    this.showActionSheet = this.showActionSheet.bind(this);\n    this.initTooltips = this.initTooltips.bind(this);\n    this.toggleTooltip = this.toggleTooltip.bind(this);\n  }\n\n  toggleTooltip() {\n    this.props.actions.createToggleAction('relevance', this.tooltipParent);\n  }\n\n  initTooltips() {\n    this.props.actions.setTooltipData({\n      name: 'relevance',\n      toggle: () => this.toggleTooltip()\n    });\n  }\n\n  showActionSheet(id) {\n    ActionSheet.showActionSheetWithOptions(\n      {\n        options: ['Block User', 'Cancel'],\n        cancelButtonIndex: 1,\n        destructiveIndex: 0\n      },\n      buttonIndex => {\n        switch (buttonIndex) {\n          case 0:\n            this.props.actions.updateBlock(id);\n            break;\n          default:\n        }\n      }\n    );\n  }\n\n  setTag(tag) {\n    if (!this.props.actions) return;\n    this.props.actions.selectTag({ _id: tag.replace('#', '') });\n    this.props.actions.changeTab('discover');\n    this.props.actions.resetRoutes('discover');\n  }\n\n  setCat(cat) {\n    if (!this.props.actions) return;\n    this.props.actions.selectTag({\n      _id: cat,\n      category: true,\n      categoryName: cat.replace('_category_tag', '')\n    });\n    this.props.actions.changeTab('discover');\n    this.props.actions.resetRoutes('discover');\n  }\n\n  goToTopic(tag) {\n    const name = tag.replace('#', '').trim();\n    const topic = {\n      _id: name,\n      categoryName: '#' + name\n    };\n    this.props.actions.goToTopic(topic);\n  }\n\n  render() {\n    const { user, isOwner } = this.props;\n\n    const userImage = user && user.image ? { uri: user.image } : defaultImg;\n\n    const optionsEl = !isOwner && (\n      <TouchableOpacity\n        style={{\n          position: 'absolute',\n          right: 0,\n          top: 0,\n          paddingVertical: 10,\n          paddingHorizontal: 15\n        }}\n        onPress={() => this.showActionSheet(user._id)}\n      >\n        <Icon name=\"ios-more\" size={24} color={colors.black} />\n      </TouchableOpacity>\n    );\n\n    return (\n      <View bg={'white'} p={'2 2 0 2'}>\n        <Image\n          resizeMode={'cover'}\n          alignSelf={'center'}\n          w={21}\n          h={21}\n          bradius={10.5}\n          source={userImage}\n        />\n        {optionsEl}\n\n        <View m={'2 0'} fdirection=\"row\" justify={'center'} align={'baseline'}>\n          <ProfileStats user={user} isOwner={isOwner} />\n        </View>\n\n        {user.bio !== '' || this.props.isOwner ? (\n          <Bio\n            scrollTo={this.props.scrollTo}\n            user={user}\n            actions={this.props.actions}\n            isOwner={this.props.isOwner}\n          />\n        ) : null}\n        <Divider />\n      </View>\n    );\n  }\n}\n\nexport default ProfileComponent;\n"],"file":"profile.component.js"}
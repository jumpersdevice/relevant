{"version":3,"sources":["../../../../src/modules/profile/mobile/profile.container.js"],"names":["styles","Profile","props","context","user","handle","isOwner","view","loaded","renderHeader","bind","renderRow","load","loadUser","changeView","offset","needsReload","Date","getTime","tabs","id","title","scrollTo","state","onInteraction","InteractionManager","runAfterInteractions","requestAnimationFrame","setState","navigation","setParams","prev","refresh","scrollToTop","reload","next","auth","community","isFocused","cancel","actions","getSelectedUser","length","undefined","getUserPosts","getInvestments","_id","rowData","posts","investments","post","link","links","metaPost","parentPost","parentId","investment","component","listview","scrollToLocation","sectionIndex","itemIndex","y","viewOffset","data","userPosts","userInvestments","loadedProfileInv","error","listEl","forEach","tab","tabData","getViewData","active","postCount","Upvotes","investmentCount","type","sections","renderItem","header","push","c","profileContainer","usersState","userId","handleToId","users","Component","PropTypes","object","number","bool","mapStateToProps","online","profile","stats","myProfile","navState","mapDispatchToProps","dispatch","statsActions","authActions","postActions","notifActions","errorActions","animationActions","tagActions","userActions","investActions","createPostActions","navigationActions","tooltipActions","localStyles","StyleSheet","create","postsHeader","padding","position","flex","flexGrow","alignItems","backgroundColor","wrap","flexDirection","flexWrap","centering","justifyContent","globalStyles"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { StyleSheet, View, InteractionManager } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { globalStyles } from 'app/styles/global';\nimport Post from 'modules/post/mobile/post.component';\nimport CustomSpinner from 'modules/ui/mobile/CustomSpinner.component';\nimport * as authActions from 'modules/auth/auth.actions';\nimport * as postActions from 'modules/post/post.actions';\nimport * as createPostActions from 'modules/createPost/createPost.actions';\nimport * as tooltipActions from 'modules/tooltip/tooltip.actions';\nimport * as tagActions from 'modules/tag/tag.actions';\nimport * as userActions from 'modules/user/user.actions';\nimport * as statsActions from 'modules/stats/stats.actions';\nimport * as notifActions from 'modules/activity/activity.actions';\nimport * as errorActions from 'modules/ui/error.actions';\nimport * as investActions from 'modules/post/invest.actions';\nimport * as animationActions from 'modules/animation/animation.actions';\nimport * as navigationActions from 'modules/navigation/navigation.actions';\nimport CustomListView from 'modules/listview/mobile/customList.component';\nimport Tabs from 'modules/navigation/mobile/tabs.component';\nimport get from 'lodash/get';\nimport ProfileComponent from './profile.component';\n\nlet styles;\n\nclass Profile extends Component {\n  static propTypes = {\n    navigation: PropTypes.object,\n    usersState: PropTypes.object,\n    auth: PropTypes.object,\n    refresh: PropTypes.number,\n    reload: PropTypes.number,\n    actions: PropTypes.object,\n    posts: PropTypes.object,\n    investments: PropTypes.object,\n    error: PropTypes.bool\n  };\n\n  state = {\n    user: {},\n    handle: null,\n    isOwner: false,\n    view: 0,\n    loaded: false\n  };\n\n  constructor(props, context) {\n    super(props, context);\n    this.renderHeader = this.renderHeader.bind(this);\n    this.renderRow = this.renderRow.bind(this);\n    this.load = this.load.bind(this);\n    this.loadUser = this.loadUser.bind(this);\n    this.changeView = this.changeView.bind(this);\n    this.offset = 0;\n    this.needsReload = new Date().getTime();\n    // this.tabs = [{ id: 0, title: 'Posts' }, { id: 1, title: 'Upvotes' }];\n    this.tabs = [{ id: 0, title: 'Posts' }];\n\n    this.scrollTo = this.scrollTo.bind(this);\n  }\n\n  static getDerivedStateFromProps(props) {\n    const { auth, navigation, usersState } = props;\n    let handle = get(navigation, 'state.params.id');\n    if (!handle && auth.user) handle = auth.user.handle;\n    const userId = usersState.handleToId[handle];\n    const user = usersState.users[userId];\n    if (!user) return { handle };\n    const isOwner = auth.user && user._id === auth.user._id;\n    // const loaded = true;\n    return { user: isOwner ? auth.user : user, isOwner, handle };\n  }\n\n  componentDidMount() {\n    const { handle, user } = this.state;\n\n    this.onInteraction = InteractionManager.runAfterInteractions(() => {\n      if (user) this.loadUser();\n    });\n\n    requestAnimationFrame(() => {\n      if (!user) this.loadUser();\n      this.setState({ loaded: true });\n    });\n    // if (!isOwner && !loaded) {\n    //   return requestAnimationFrame(() => {\n    //     this.setState({ loaded: true });\n    //   });\n    // }\n    if (handle) return this.props.navigation.setParams({ title: handle });\n    return null;\n  }\n\n  componentDidUpdate(prev) {\n    if (this.props.refresh !== prev.refresh) {\n      this.scrollToTop();\n    }\n    if (this.props.reload !== prev.reload) {\n      this.needsReload = new Date().getTime();\n    }\n  }\n\n  shouldComponentUpdate(next) {\n    if (next.auth.community !== this.props.auth.community) {\n      return true;\n    }\n    return next.navigation.isFocused();\n  }\n\n  componentWillUnmount() {\n    if (this.onInteraction) this.onInteraction.cancel();\n  }\n\n  loadUser() {\n    this.props.actions.getSelectedUser(this.state.handle);\n  }\n\n  load(view, length) {\n    const { handle, user } = this.state;\n    if (view === undefined) view = this.state.view;\n    if (length === undefined) length = 0;\n\n    if (this.state.view === 0) {\n      this.props.actions.getUserPosts(length, 5, handle);\n    } else {\n      this.props.actions.getInvestments(user._id, length, 10);\n    }\n  }\n\n  renderRow(rowData, view) {\n    const { posts, investments } = this.props;\n    if (view === 0) {\n      const post = posts.posts[rowData];\n      if (!post) return null;\n      let link = posts.links[post.metaPost];\n\n      let parentPost;\n      const parentId = post.parentPost;\n      if (parentId) {\n        parentPost = this.props.posts.posts[parentId];\n      }\n      if (!link && parentPost) {\n        link = this.props.posts.links[parentPost.metaPost];\n      }\n\n      return (\n        <Post\n          {...this.props}\n          post={parentPost || post}\n          commentary={parentPost ? [post] : []}\n          link={link}\n        />\n      );\n    }\n    if (view === 1) {\n      const investment = investments.investments[rowData];\n      const post = posts.posts[investment.post];\n      if (!post) return null;\n      const link = posts.links[post.metaPost];\n      return <Post {...this.props} post={post} commentary={[post]} link={link} />;\n    }\n    return null;\n  }\n\n  scrollToTop() {\n    if (!this.tabs[this.state.view].component) return;\n    const view = this.tabs[this.state.view].component.listview;\n    if (view) view.scrollToLocation({ sectionIndex: 0, itemIndex: 0 });\n  }\n\n  scrollTo(y) {\n    if (!this.tabs[this.state.view].component) return;\n    const view = this.tabs[this.state.view].component.listview;\n    if (view) view.scrollToLocation({ sectionIndex: 0, itemIndex: 0, viewOffset: -y });\n  }\n\n  renderHeader() {\n    const { isOwner, user } = this.state;\n    return user ? (\n      <View>\n        <ProfileComponent\n          key={0}\n          {...this.props}\n          isOwner={isOwner}\n          user={user}\n          styles={styles}\n          scrollTo={this.scrollTo}\n        />\n      </View>\n    ) : null;\n  }\n\n  // <Tabs key={1} tabs={this.tabs} active={view} handleChange={this.changeView} />,\n  // <View key={2} style={{ height: 0 }} />\n\n  getViewData(props, view) {\n    const { posts, investments } = this.props;\n    const { handle, user } = this.state;\n    switch (view) {\n      case 0:\n        return {\n          data: posts.userPosts[handle],\n          loaded: this.props.posts.loaded.userPosts\n        };\n      case 1:\n        return {\n          data: investments.userInvestments[user._id],\n          loaded: investments.loadedProfileInv\n        };\n      default:\n        return null;\n    }\n  }\n\n  changeView(view) {\n    if (view === this.state.view) this.scrollToTop();\n    this.setState({ view });\n  }\n\n  render() {\n    const { error } = this.props;\n    const { user, loaded, view } = this.state;\n    let listEl = <CustomSpinner />;\n\n    if (user && loaded) {\n      listEl = [];\n      this.tabs.forEach(tab => {\n        const tabData = this.getViewData(this.props, tab.id);\n        const active = this.state.view === tab.id;\n        const data = tabData.data || [];\n        const postCount = user.postCount !== undefined ? user.postCount : '';\n        const Upvotes = user.investmentCount !== undefined ? user.investmentCount : '';\n\n        if (tab.id === 0) {\n          tab.title = 'Posts ' + postCount;\n          tab.type = 'posts';\n        }\n        if (tab.id === 1) {\n          tab.title = 'Upvotes ' + Upvotes;\n          tab.type = 'upvotes';\n        }\n\n        const sections = [\n          {\n            title: 'header',\n            data: [0],\n            renderItem: this.renderHeader\n          },\n          {\n            title: 'main',\n            data,\n            header: (\n              <Tabs\n                key={1}\n                tabs={this.tabs}\n                active={view}\n                handleChange={this.changeView}\n              />\n            )\n          }\n        ];\n\n        listEl.push(\n          <CustomListView\n            ref={c => {\n              this.tabs[tab.id].component = c;\n            }}\n            key={tab.id}\n            data={data}\n            sections={sections}\n            parent={'profile'}\n            loaded={tabData.loaded}\n            renderRow={this.renderRow}\n            load={this.load}\n            view={tab.id}\n            stickyHeaderIndices={[1]}\n            type={tab.type}\n            active={active}\n            needsReload={this.needsReload}\n            onReload={this.loadUser}\n            error={error}\n            headerData={user}\n          />\n        );\n      });\n    }\n\n    return <View style={styles.profileContainer}>{listEl}</View>;\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    posts: state.posts,\n    usersState: state.user,\n    online: state.online,\n    error: state.error.profile,\n    view: state.view,\n    stats: state.stats,\n    investments: state.investments,\n    refresh: state.navigation.myProfile.refresh,\n    reload: state.navigation.myProfile.reload,\n    tabs: state.navigation.tabs,\n    navState: state.navigation\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        ...statsActions,\n        ...authActions,\n        ...postActions,\n        ...notifActions,\n        ...errorActions,\n        ...animationActions,\n        ...tagActions,\n        ...userActions,\n        ...investActions,\n        ...createPostActions,\n        ...navigationActions,\n        ...tooltipActions\n      },\n      dispatch\n    )\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\n\nconst localStyles = StyleSheet.create({\n  postsHeader: {\n    padding: 10\n  },\n  profileContainer: {\n    position: 'relative',\n    flex: 1,\n    flexGrow: 1,\n    alignItems: 'stretch',\n    backgroundColor: 'white'\n  },\n  wrap: {\n    flexDirection: 'row',\n    flexWrap: 'nowrap'\n  },\n  centering: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 8\n  }\n});\n\nstyles = { ...localStyles, ...globalStyles };\n"],"file":"profile.container.js"}
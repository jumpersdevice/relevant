{"version":3,"sources":["../../../../src/modules/createPost/web/createPostModal.header.js"],"names":["Select","ModalHeader","propTypes","history","PropTypes","object","dispatch","state","community","communities","list","active","com","map","id","options","c","label","name","value","slug","activeCommunity","find","browserAlerts","alert","image","uri","require","zIndex","bottom","customStyles","e","push","pathname","search","location","menu","provided","borderRadius","padding","maxWidth","container","option","borderBottom","colors","lightBorder","fonts","body","color","isSelected","blue","black","cursor","indicatorSeparator","dropdownIndicator","valueContainer","overflow","paddingRight","control","border","display","menuList","fontSize","singleValue","opacity","isDisabled","transition","lineHeight"],"mappings":"4XAAA,oDACA,+DACA,6DACA,uCACA,gDACA,qCACA,uCACA,sEACA,2C,25BAEA,GAAMA,CAAAA,MAAM,CAAG,6SAAS,mHAAa,cAAb,OAAT,yhBAAf,CAEAC,WAAW,CAACC,SAAZ,CAAwB,CACtBC,OAAO,CAAEC,mBAAUC,MADG,CAAxB,CAIA,QAASJ,CAAAA,WAAT,MAAkC,IAAXE,CAAAA,OAAW,MAAXA,OAAW,CAChC,GAAMG,CAAAA,QAAQ,CAAG,6BAAjB,CADgC,iBAEM,4BAAY,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACC,SAAV,EAAjB,CAFN,CAExBC,WAFwB,cAExBA,WAFwB,CAEXC,IAFW,cAEXA,IAFW,CAELC,MAFK,cAELA,MAFK,CAIhC,GAAMC,CAAAA,GAAG,CAAGF,IAAI,CAACG,GAAL,CAAS,SAAAC,EAAE,QAAIL,CAAAA,WAAW,CAACK,EAAD,CAAf,EAAX,CAAZ,CACA,GAAMC,CAAAA,OAAO,CAAGH,GAAG,CAACC,GAAJ,CAAQ,SAAAG,CAAC,QAAK,CAAEC,KAAK,CAAED,CAAC,CAACE,IAAX,CAAiBC,KAAK,CAAEH,CAAC,CAACI,IAA1B,CAAL,EAAT,CAAhB,CACA,GAAMC,CAAAA,eAAe,CAAGT,GAAG,CAACU,IAAJ,CAAS,SAAAN,CAAC,QAAIA,CAAAA,CAAC,CAACI,IAAF,GAAWT,MAAf,EAAV,CAAxB,CACA,GAAI,CAACU,eAAL,CAAsB,CACpBf,QAAQ,CAAC,2BAAD,CAAR,CACAiB,qBAAcC,KAAd,CAAoB,iCAApB,CAAuD,OAAvD,EACA,MAAO,KAAP,CACD,CACD,GAAML,CAAAA,KAAK,CAAG,CAAEF,KAAK,CAAEI,eAAe,CAACH,IAAzB,CAA+BC,KAAK,CAAER,MAAtC,CAAd,CAEA,GAAMc,CAAAA,KAAK,CAAGJ,eAAe,CAACI,KAAhB,CACV,CAAEC,GAAG,CAAEL,eAAe,CAACI,KAAvB,CADU,CAEVE,OAAO,gDAFX,CAIA,MACE,8BAAC,SAAD,EAAM,KAAK,CAAE,CAAEC,MAAM,CAAE,CAAV,CAAb,CAA4B,UAAU,CAAC,KAAvC,CAA6C,KAAK,CAAE,UAApD,gEACE,6BAAC,UAAD,EAAO,EAAE,CAAE,GAAX,2EADF,CAEE,6BAAC,UAAD,EACE,CAAC,CAAE,CADL,CAEE,CAAC,CAAE,CAFL,CAGE,EAAE,CAAE,CAHN,CAIE,EAAE,CAAE,IAJN,CAKE,KAAK,CAAE,CAAEC,MAAM,CAAE,MAAV,CALT,CAME,MAAM,CAAEJ,KANV,CAOE,UAAU,CAAE,OAPd,gEAFF,CAWE,6BAAC,MAAD,EACE,YAAY,CAAE,KADhB,CAEE,MAAM,CAAEK,YAFV,CAGE,KAAK,CAAEX,KAHT,CAIE,QAAQ,CAAE,kBAAAY,CAAC,QACT5B,CAAAA,OAAO,CAAC6B,IAAR,CAAa,CAAEC,QAAQ,YAAMF,CAAC,CAACZ,KAAR,QAAV,CAA+Be,MAAM,CAAE/B,OAAO,CAACgC,QAAR,CAAiBD,MAAxD,CAAb,CADS,EAJb,CAOE,OAAO,CAAEnB,OAPX,gEAXF,CADF,CAuBD,CAED,GAAMe,CAAAA,YAAY,CAAG,CACnBM,IAAI,CAAE,cAAAC,QAAQ,wCACTA,QADS,MAEZC,YAAY,CAAE,CAFF,CAGZC,OAAO,CAAE,CAHG,CAIZC,QAAQ,CAAE,GAJE,IADK,CAOnBC,SAAS,CAAE,2BAAO,CAChBF,OAAO,CAAE,KADO,CAAP,EAPQ,CAUnBG,MAAM,CAAE,gBAACL,QAAD,CAAW9B,KAAX,sCACNoC,YAAY,qBAAeC,eAAOC,WAAtB,CADN,EAEHC,cAAMC,IAFH,MAGNC,KAAK,CAAEzC,KAAK,CAAC0C,UAAN,CAAmBL,eAAOM,IAA1B,CAAiCN,eAAOO,KAHzC,CAINZ,OAAO,CAAE,mBAAO,CAAP,CAJH,CAKNa,MAAM,CAAE,SALF,IAVW,CAiBnBC,kBAAkB,CAAE,6BAAM,CAAE,CAjBT,CAkBnBC,iBAAiB,CAAE,2BAAAjB,QAAQ,wCACtBA,QADsB,MAEzBE,OAAO,CAAE,CAFgB,CAGzBa,MAAM,CAAE,SAHiB,IAlBR,CAuBnBG,cAAc,CAAE,wBAAAlB,QAAQ,wCACnBA,QADmB,MAEtBE,OAAO,CAAE,CAFa,CAGtBiB,QAAQ,CAAE,SAHY,CAItBC,YAAY,CAAE,EAJQ,CAKtBL,MAAM,CAAE,SALc,IAvBL,CA8BnBM,OAAO,CAAE,yBAAO,CACdC,MAAM,CAAE,MADM,CAEdC,OAAO,CAAE,MAFK,CAGdrB,OAAO,CAAE,CAHK,CAAP,EA9BU,CAmCnBsB,QAAQ,CAAE,0BAAO,CAAEC,QAAQ,CAAE,mBAAO,CAAP,CAAZ,CAAP,EAnCS,CAoCnBC,WAAW,CAAE,qBAAC1B,QAAD,CAAW9B,KAAX,CAAqB,CAChC,GAAMyD,CAAAA,OAAO,CAAGzD,KAAK,CAAC0D,UAAN,CAAmB,GAAnB,CAAyB,CAAzC,CACA,GAAMC,CAAAA,UAAU,CAAG,eAAnB,CACA,sCACKpB,cAAMC,IADX,MAEEK,MAAM,CAAE,SAFV,CAGEU,QAAQ,CAAE,mBAAO,GAAP,CAHZ,CAIEK,UAAU,CAAE,mBAAO,GAAP,CAJd,CAKEH,OAAO,CAAPA,OALF,CAMEE,UAAU,CAAVA,UANF,GAQD,CA/CkB,CAArB,C,aAkDe,+BAAWjE,WAAX,C","sourcesContent":["import React from 'react';\nimport { hideModal } from 'modules/navigation/navigation.actions';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { View, Title, Image } from 'modules/styled/uni';\nimport { colors, fonts, sizing } from 'app/styles';\nimport loadable from '@loadable/component';\nimport { browserAlerts } from 'utils/alert';\n\nconst Select = loadable(() => import('react-select'));\n\nModalHeader.propTypes = {\n  history: PropTypes.object\n};\n\nfunction ModalHeader({ history }) {\n  const dispatch = useDispatch();\n  const { communities, list, active } = useSelector(state => state.community);\n\n  const com = list.map(id => communities[id]);\n  const options = com.map(c => ({ label: c.name, value: c.slug }));\n  const activeCommunity = com.find(c => c.slug === active);\n  if (!activeCommunity) {\n    dispatch(hideModal());\n    browserAlerts.alert('Please select a community first', 'error');\n    return null;\n  }\n  const value = { label: activeCommunity.name, value: active };\n\n  const image = activeCommunity.image\n    ? { uri: activeCommunity.image }\n    : require('public/img/default_community.png');\n\n  return (\n    <View style={{ zIndex: 1 }} fdirection=\"row\" align={'baseline'}>\n      <Title mr={1.5}>Post to:</Title>\n      <Image\n        w={2}\n        h={2}\n        mr={1}\n        mt={0.25}\n        style={{ bottom: '-1px' }}\n        source={image}\n        resizeMode={'cover'}\n      />\n      <Select\n        isSearchable={false}\n        styles={customStyles}\n        value={value}\n        onChange={e =>\n          history.push({ pathname: `/${e.value}/new`, search: history.location.search })\n        }\n        options={options}\n      />\n    </View>\n  );\n}\n\nconst customStyles = {\n  menu: provided => ({\n    ...provided,\n    borderRadius: 0,\n    padding: 0,\n    maxWidth: 300\n  }),\n  container: () => ({\n    padding: '0px'\n  }),\n  option: (provided, state) => ({\n    borderBottom: `1px solid ${colors.lightBorder}`,\n    ...fonts.body,\n    color: state.isSelected ? colors.blue : colors.black,\n    padding: sizing(2),\n    cursor: 'pointer'\n  }),\n  indicatorSeparator: () => {},\n  dropdownIndicator: provided => ({\n    ...provided,\n    padding: 0,\n    cursor: 'pointer'\n  }),\n  valueContainer: provided => ({\n    ...provided,\n    padding: 0,\n    overflow: 'visible',\n    paddingRight: 10,\n    cursor: 'pointer'\n  }),\n  control: () => ({\n    border: 'none',\n    display: 'flex',\n    padding: 0\n  }),\n  menuList: () => ({ fontSize: sizing(2) }),\n  singleValue: (provided, state) => {\n    const opacity = state.isDisabled ? 0.5 : 1;\n    const transition = 'opacity 300ms';\n    return {\n      ...fonts.body,\n      cursor: 'pointer',\n      fontSize: sizing(2.5),\n      lineHeight: sizing(2.5),\n      opacity,\n      transition\n    };\n  }\n};\n\nexport default withRouter(ModalHeader);\n"],"file":"createPostModal.header.js"}
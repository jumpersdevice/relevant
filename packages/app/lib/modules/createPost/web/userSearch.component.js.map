{"version":3,"sources":["../../../../src/modules/createPost/web/userSearch.component.js"],"names":["UserSelect","View","colors","lightGrey","p","selected","Container","USER_ELEMENT_HEIGHT","UserSuggestion","updateScrollPosition","offset","Math","max","props","userSearchIndex","el","scrollTop","users","length","inner","map","user","i","onChange","Component","PropTypes","number","array","func"],"mappings":"6zBAAA,qDACA,6DACA,iFACA,qCACA,gFACA,uC,m0BAEA,GAAMA,CAAAA,UAAU,CAAG,wBAAOC,SAAP,CAAH,oHAEEC,eAAOC,SAFT,CAIZ,SAAAC,CAAC,QACDA,CAAAA,CAAC,CAACC,QAAF,6BAEcH,eAAOC,SAFrB,UAII,EALH,EAJW,CAAhB,CAYA,GAAMG,CAAAA,SAAS,CAAG,wBAAOL,SAAP,CAAH,8KAAf,CAQA,GAAMM,CAAAA,mBAAmB,CAAG,EAA5B,C,GAEqBC,CAAAA,c,sUAOC,CAClB,KAAKC,oBAAL,GACD,C,+DAEoB,CACnB,KAAKA,oBAAL,GACD,C,mEAEsB,CACrB,GAAMC,CAAAA,MAAM,CAAGC,IAAI,CAACC,GAAL,CAAS,KAAKC,KAAL,CAAWC,eAAX,CAA6B,CAAtC,CAAyC,CAAzC,EAA8CP,mBAA7D,CACA,GAAI,KAAKQ,EAAT,CAAa,KAAKA,EAAL,CAAQC,SAAR,CAAoBN,MAApB,CACd,C,uCAEQ,gBACP,GAAI,CAAC,KAAKG,KAAL,CAAWI,KAAZ,EAAqB,CAAC,KAAKJ,KAAL,CAAWI,KAAX,CAAiBC,MAA3C,CAAmD,CACjD,MAAO,KAAP,CACD,CACD,GAAMb,CAAAA,QAAQ,CAAG,KAAKQ,KAAL,CAAWC,eAA5B,CACA,GAAMK,CAAAA,KAAK,CAAG,KAAKN,KAAL,CAAWI,KAAX,CAAiBG,GAAjB,CAAqB,SAACC,IAAD,CAAOC,CAAP,QACjC,8BAAC,UAAD,EACE,CAAC,CAAE,KADL,CAEE,GAAG,CAAEA,CAFP,CAGE,QAAQ,CAAEjB,QAAQ,GAAKiB,CAAb,CAAiB,UAAjB,CAA8B,EAH1C,CAIE,OAAO,CAAE,yBAAM,CAAA,KAAI,CAACT,KAAL,CAAWU,QAAX,CAAoBF,IAApB,CAAN,EAJX,gEAME,6BAAC,kBAAD,EAAQ,IAAI,CAAEA,IAAd,CAAoB,MAAM,KAA1B,gEANF,CADiC,EAArB,CAAd,CAUA,MACE,8BAAC,SAAD,EACE,IAAI,KADN,CAEE,UAAU,CAAE,KAFd,CAGE,EAAE,KAHJ,CAIE,EAAE,KAJJ,CAKE,EAAE,KALJ,CAME,EAAE,CAAE,KANN,CAOE,GAAG,CAAE,aAAAN,EAAE,CAAI,CACT,KAAI,CAACA,EAAL,CAAUA,EAAV,CACD,CATH,CAUE,SAAS,CAAC,YAVZ,gEAYGI,KAZH,CADF,CAgBD,C,4BAnDyCK,gB,8DAAvBhB,c,aACA,CACjBM,eAAe,CAAEW,mBAAUC,MADV,CAEjBT,KAAK,CAAEQ,mBAAUE,KAFA,CAGjBJ,QAAQ,CAAEE,mBAAUG,IAHH,C","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Avatar from 'modules/user/avatarbox.component';\nimport { View } from 'modules/styled/uni';\nimport styled from 'styled-components/primitives';\nimport { colors } from 'app/styles';\n\nconst UserSelect = styled(View)`\n  &:hover {\n    background: ${colors.lightGrey};\n  }\n  ${p =>\n    p.selected\n      ? `\n    background: ${colors.lightGrey};\n  `\n      : ''}\n`;\n\nconst Container = styled(View)`\n  max-height: 250px;\n  min-width: 250px;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  background: white;\n`;\n\nconst USER_ELEMENT_HEIGHT = 38;\n\nexport default class UserSuggestion extends Component {\n  static propTypes = {\n    userSearchIndex: PropTypes.number,\n    users: PropTypes.array,\n    onChange: PropTypes.func\n  };\n\n  componentDidMount() {\n    this.updateScrollPosition();\n  }\n\n  componentDidUpdate() {\n    this.updateScrollPosition();\n  }\n\n  updateScrollPosition() {\n    const offset = Math.max(this.props.userSearchIndex - 1, 0) * USER_ELEMENT_HEIGHT;\n    if (this.el) this.el.scrollTop = offset;\n  }\n\n  render() {\n    if (!this.props.users || !this.props.users.length) {\n      return null;\n    }\n    const selected = this.props.userSearchIndex;\n    const inner = this.props.users.map((user, i) => (\n      <UserSelect\n        p={'1 3'}\n        key={i}\n        selected={selected === i ? 'selected' : ''}\n        onClick={() => this.props.onChange(user)}\n      >\n        <Avatar user={user} noLink />\n      </UserSelect>\n    ));\n    return (\n      <Container\n        wrap\n        fdirection={'row'}\n        bl\n        bb\n        br\n        mt={'1px'}\n        ref={el => {\n          this.el = el;\n        }}\n        className=\"userSearch\"\n      >\n        {inner}\n      </Container>\n    );\n  }\n}\n"],"file":"userSearch.component.js"}
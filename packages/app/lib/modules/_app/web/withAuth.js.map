{"version":3,"sources":["../../../../src/modules/_app/web/withAuth.js"],"names":["withAuth","Component","role","AuthComponent","props","authenticated","user","pathname","state","from","location","propTypes","PropTypes","object","isRequired","bool","auth","isAuthenticated"],"mappings":"gQAAA,oDACA,6DACA,uCACA,gDACA,yC,8FAEA,GAAMA,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,SAAD,CAAYC,IAAZ,CAAqB,CACpC,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAC,KAAK,CAAI,IACvBC,CAAAA,aADuB,CACLD,KADK,CACvBC,aADuB,CAE7B,GAAIH,IAAI,EAAIE,KAAK,CAACE,IAAlB,CAAwB,CACtB,GAAIJ,IAAI,GAAKE,KAAK,CAACE,IAAN,CAAWJ,IAAxB,CAA8BG,aAAa,CAAG,KAAhB,CAC/B,CACD,MAAOA,CAAAA,aAAa,CAClB,6BAAC,SAAD,0BAAeD,KAAf,kEADkB,CAGlB,6BAAC,qBAAD,EAAU,EAAE,CAAE,CAAEG,QAAQ,CAAE,GAAZ,CAAiBC,KAAK,CAAE,CAAEC,IAAI,CAAEL,KAAK,CAACM,QAAd,CAAxB,CAAd,gEAHF,CAKD,CAVD,CAYAP,aAAa,CAACQ,SAAd,CAA0B,CACxBD,QAAQ,CAAEE,mBAAUC,MAAV,CAAiBC,UADH,CAExBT,aAAa,CAAEO,mBAAUG,IAAV,CAAeD,UAFN,CAGxBR,IAAI,CAAEM,mBAAUC,MAHQ,CAA1B,CAMA,MAAO,+BACL,wBAAQ,SAAAL,KAAK,QAAK,CAChBH,aAAa,CAAEG,KAAK,CAACQ,IAAN,CAAWC,eADV,CAEhBX,IAAI,CAAEE,KAAK,CAACQ,IAAN,CAAWV,IAFD,CAAL,EAAb,EAGIH,aAHJ,CADK,CAAP,CAMD,CAzBD,C,aA2BeH,Q","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { Redirect } from 'react-router';\n\nconst withAuth = (Component, role) => {\n  const AuthComponent = props => {\n    let { authenticated } = props;\n    if (role && props.user) {\n      if (role !== props.user.role) authenticated = false;\n    }\n    return authenticated ? (\n      <Component {...props} />\n    ) : (\n      <Redirect to={{ pathname: '/', state: { from: props.location } }} />\n    );\n  };\n\n  AuthComponent.propTypes = {\n    location: PropTypes.object.isRequired,\n    authenticated: PropTypes.bool.isRequired,\n    user: PropTypes.object\n  };\n\n  return withRouter(\n    connect(state => ({\n      authenticated: state.auth.isAuthenticated,\n      user: state.auth.user\n    }))(AuthComponent)\n  );\n};\n\nexport default withAuth;\n"],"file":"withAuth.js"}
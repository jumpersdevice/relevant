{"version":3,"sources":["../../../../src/modules/discover/mobile/discover.container.js"],"names":["styles","POST_PAGE_SIZE","Discover","props","context","next","active","navigation","isFocused","state","offsetY","view","renderRow","bind","renderHeader","load","scrollToTop","needsReload","Date","getTime","myTabs","id","title","type","loaded","find","tab","params","topic","_id","filter","tags","selectedTags","refresh","scrollOffset","reload","auth","community","data","posts","topics","top","new","listview","scrollToOffset","offset","length","actions","getPosts","paddingBottom","paddingHorizontal","mainPadding","smallInfo","paddingTop","textAlign","rowData","i","dataEl","tabData","getViewData","c","onScroll","error","backgroundColor","flex","Component","PropTypes","string","object","number","bool","func","PostEl","propTypes","index","post","commentary","map","link","links","metaPost","parseInt","localStyles","StyleSheet","create","padding20","padding","listStyle","height","listScroll","borderWidth","borderColor","scrollPadding","marginTop","globalStyles","mapStateToProps","animation","stats","userList","user","list","discover","showTopics","mapDispatchToProps","dispatch","postActions","animationActions","tagActions","investActions","statsActions","authActions","navigationActions","createPostActions"],"mappings":"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","sourcesContent":["import React, { Component, useMemo } from 'react';\nimport { StyleSheet, View, Text } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport Post from 'modules/post/mobile/post.component';\nimport get from 'lodash/get';\nimport * as statsActions from 'modules/stats/stats.actions';\nimport * as authActions from 'modules/auth/auth.actions';\nimport * as postActions from 'modules/post/post.actions';\nimport * as tagActions from 'modules/tag/tag.actions';\nimport * as investActions from 'modules/post/invest.actions';\nimport * as animationActions from 'modules/animation/animation.actions';\nimport * as navigationActions from 'modules/navigation/navigation.actions';\nimport * as createPostActions from 'modules/createPost/createPost.actions';\nimport { globalStyles, mainPadding } from 'app/styles/global';\nimport CustomListView from 'modules/listview/mobile/customList.component';\nimport TwitterButton from 'modules/auth/mobile/TwitterButton.component';\n\nlet styles;\nconst POST_PAGE_SIZE = 15;\n\nclass Discover extends Component {\n  static propTypes = {\n    type: PropTypes.string,\n    navigation: PropTypes.object,\n    tags: PropTypes.object,\n    refresh: PropTypes.number,\n    active: PropTypes.bool,\n    reload: PropTypes.number,\n    offsetY: PropTypes.number,\n    actions: PropTypes.object,\n    auth: PropTypes.object,\n    onScroll: PropTypes.func,\n    error: PropTypes.bool,\n    posts: PropTypes.object\n  };\n\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      offsetY: 50,\n      view: 0\n    };\n    this.renderRow = this.renderRow.bind(this);\n    this.renderHeader = this.renderHeader.bind(this);\n    this.load = this.load.bind(this);\n    this.scrollToTop = this.scrollToTop.bind(this);\n\n    this.needsReload = new Date().getTime();\n    this.myTabs = [\n      { id: 0, title: 'Trending', type: 'top' },\n      { id: 1, title: 'New', type: 'new' },\n      { id: 2, title: 'People', type: 'people' },\n      { id: 3, title: 'Twitter', type: 'twitterFeed' }\n    ];\n    this.loaded = true;\n    this.type = this.props.type;\n    this.state.view = this.myTabs.find(tab => tab.type === this.type).id;\n  }\n\n  componentDidMount() {\n    if (this.props.navigation.state.params) {\n      this.topic = this.props.navigation.state.params.topic;\n      this.topic = this.topic && this.topic._id ? this.topic._id : this.topic;\n      this.filter = this.topic ? [this.topic] : [];\n    }\n  }\n\n  componentWillReceiveProps(next) {\n    const { type } = this.myTabs[this.state.view];\n    if (this.props.tags.selectedTags !== next.tags.selectedTags && type !== 'people') {\n      this.filter = next.tags.selectedTags;\n      this.needsReload = new Date().getTime();\n    }\n    if (this.props.refresh !== next.refresh && this.props.active) {\n      if (this.scrollOffset !== -50) this.scrollToTop();\n    }\n    if (this.props.reload !== next.reload) {\n      this.needsReload = new Date().getTime();\n    }\n\n    if (this.props.auth.community !== next.auth.community) {\n      this.needsReload = new Date().getTime();\n    }\n  }\n\n  shouldComponentUpdate = next => next.active && next.navigation.isFocused();\n\n  getViewData(props, view) {\n    switch (view) {\n      case 0:\n        if (this.topic) {\n          return {\n            data: props.posts.topics.top[this.topic],\n            loaded: props.posts.loaded.topics[this.topic]\n              ? props.posts.loaded.topics[this.topic].top\n              : false\n          };\n        }\n        return {\n          data: props.posts.top,\n          loaded: props.posts.loaded.top\n        };\n      case 1:\n        if (this.topic) {\n          return {\n            data: props.posts.topics.new[this.topic],\n            loaded: props.posts.loaded.topics[this.topic]\n              ? props.posts.loaded.topics[this.topic].new\n              : false\n          };\n        }\n        return {\n          data: props.posts.new,\n          loaded: props.posts.loaded.new\n        };\n      default:\n        return null;\n    }\n  }\n\n  scrollToTop() {\n    const view = this.listview;\n    if (view && view.listview) {\n      view.listview.scrollToOffset({ offset: -this.props.offsetY });\n    }\n  }\n\n  load(view, length) {\n    if (!view) view = this.state.view;\n    if (!length) length = 0;\n    const tags = this.filter;\n    switch (view) {\n      case 0:\n        this.props.actions.getPosts(length, tags, 'rank', POST_PAGE_SIZE);\n        break;\n      case 1:\n        this.props.actions.getPosts(length, tags, null, POST_PAGE_SIZE);\n        break;\n      default:\n    }\n  }\n\n  renderHeader() {\n    if (this.state.view !== 3 || get(this.props.auth, 'user.twitterId')) {\n      return null;\n    }\n    return (\n      <View style={{ paddingBottom: 20, paddingHorizontal: mainPadding }}>\n        <TwitterButton auth={this.props.auth} actions={this.props.actions}>\n          Connect Twitter Account\n        </TwitterButton>\n        <Text style={[styles.smallInfo, { paddingTop: 5, textAlign: 'center' }]}>\n          Connect your accont to see relevant post from your twitter feed\n        </Text>\n      </View>\n    );\n  }\n\n  renderRow(rowData, view, i) {\n    const { posts } = this.props;\n    const { type } = this.myTabs[view];\n    return <PostEl type={type} rowData={rowData} posts={posts} index={i} />;\n  }\n\n  render() {\n    let dataEl = [];\n\n    if (this.loaded) {\n      const tabData = this.getViewData(this.props, this.state.view) || [];\n      dataEl = (\n        <CustomListView\n          ref={c => (this.listview = c)}\n          key={this.state.view + this.topic}\n          data={tabData.data || []}\n          loaded={tabData.loaded}\n          renderRow={this.renderRow}\n          renderHeader={this.renderHeader}\n          load={this.load}\n          type={'posts'}\n          parent={'discover'}\n          view={this.state.view}\n          active={this.props.active}\n          YOffset={this.props.offsetY}\n          onScroll={this.props.onScroll}\n          needsReload={this.needsReload}\n          scrollableTab\n          error={this.props.error}\n        />\n      );\n    }\n\n    return <View style={{ backgroundColor: 'hsl(0,0%,100%)', flex: 1 }}>{dataEl}</View>;\n  }\n}\n\nPostEl.propTypes = {\n  posts: PropTypes.object,\n  rowData: PropTypes.string,\n  type: PropTypes.string,\n  index: PropTypes.number\n};\n\nfunction PostEl({ posts, rowData, type, index }) {\n  const post = posts.posts[rowData];\n\n  const commentary = useMemo(() => {\n    if (!post) return null;\n    return post[type].map(c => posts.posts[c]);\n  }, [posts.posts, post, type]);\n\n  if (!post) return null;\n  const link = posts.links[post.metaPost];\n\n  return (\n    <Post\n      tooltip={parseInt(index, 10) === 0 || false}\n      post={post}\n      commentary={commentary}\n      link={link}\n      styles={styles}\n      posts={posts}\n    />\n  );\n}\n\nconst localStyles = StyleSheet.create({\n  padding20: {\n    padding: 20\n  },\n  listStyle: {\n    height: 100\n  },\n  listScroll: {\n    height: 100,\n    borderWidth: 1,\n    borderColor: 'red'\n  },\n  scrollPadding: {\n    marginTop: 300\n  }\n});\n\nstyles = { ...localStyles, ...globalStyles };\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    posts: state.posts,\n    animation: state.animation,\n    stats: state.stats,\n    userList: state.user.list,\n    tags: state.tags,\n    error: state.error.discover,\n    refresh: state.navigation.discover.refresh,\n    reload: state.navigation.discover.reload,\n    topics: state.navigation.showTopics\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        ...postActions,\n        ...animationActions,\n        ...tagActions,\n        ...investActions,\n        ...statsActions,\n        ...authActions,\n        ...navigationActions,\n        ...createPostActions\n      },\n      dispatch\n    )\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Discover);\n"],"file":"discover.container.js"}
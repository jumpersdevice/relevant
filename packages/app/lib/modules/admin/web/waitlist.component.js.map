{"version":3,"sources":["../../../../src/modules/admin/web/waitlist.component.js"],"names":["process","env","BROWSER","require","Waitlist","props","handleChange","bind","sendInvites","state","number","actions","getWaitlist","invite","c","window","confirm","destroy","userIds","admin","waitList","slice","users","map","id","wait","inviteFromWaitlist","event","setState","target","name","value","waitlistId","user","email","status","deleteWaitlistUser","waitlist","renderWaitlist","width","textAlign","maxWidth","Component","PropTypes","object","propTypes","auth","dispatch","adminActions"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport * as adminActions from 'modules/admin/admin.actions';\nimport ShadowButton from 'modules/ui/web/ShadowButton';\n\nif (process.env.BROWSER === true) {\n  require('./admin.css');\n}\n\nclass Waitlist extends Component {\n  static propTypes = {\n    actions: PropTypes.object,\n    admin: PropTypes.object\n  };\n\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.sendInvites = this.sendInvites.bind(this);\n    this.state = {\n      number: 1\n    };\n  }\n\n  componentDidMount() {\n    this.props.actions.getWaitlist();\n  }\n\n  destroy(invite) {\n    const c = window.confirm('Are you sure you would like to delete this invite?');\n    if (c) this.props.actions.destroy(invite);\n  }\n\n  sendInvites() {\n    const userIds = this.props.admin.waitList.slice(0, this.state.number);\n    const users = userIds.map(id => this.props.admin.wait[id]);\n    this.props.actions.inviteFromWaitlist(users);\n  }\n\n  handleChange(event) {\n    this.setState({ [event.target.name]: event.target.value });\n  }\n\n  renderWaitlist(waitlistId) {\n    const user = this.props.admin.wait[waitlistId];\n    if (!user) return null;\n    return (\n      <div key={waitlistId} className={'adminRow'}>\n        <span>{user.name}</span>\n        <span>{user.email}</span>\n        <span>{user.status}</span>\n        <button onClick={() => this.props.actions.inviteFromWaitlist([user])}>\n          Send Invite\n        </button>\n        <button onClick={() => this.props.actions.deleteWaitlistUser(user)}>\n          Remove\n        </button>\n      </div>\n    );\n  }\n\n  render() {\n    const waitlist = this.props.admin.waitList.map(id => this.renderWaitlist(id));\n\n    return (\n      <div className=\"adminContainer\">\n        <h2>Waitlist</h2>\n\n        <div className=\"adminInner\">\n          <input\n            className={'blueInput'}\n            style={{ width: '40px', textAlign: 'right' }}\n            type={'text'}\n            name={'number'}\n            placeholder={'number of users'}\n            value={this.state.number}\n            onChange={this.handleChange}\n          />\n\n          <ShadowButton\n            backgroundColor={'white'}\n            color={'#3E3EFF'}\n            onClick={this.sendInvites}\n          >\n            {'Invite the next ' +\n              (this.state.number === 1 ? 'user' : this.state.number + ' users')}\n          </ShadowButton>\n        </div>\n\n        <div key={'inviteId'} className={'titleRow'}>\n          <span>Name</span>\n          <span>Email</span>\n          <span>Status</span>\n          <span style={{ maxWidth: 130 }} />\n        </div>\n        {waitlist}\n      </div>\n    );\n  }\n}\n\nWaitlist.propTypes = {\n  actions: PropTypes.object,\n  admin: PropTypes.object\n};\n\nexport default connect(\n  state => ({\n    auth: state.auth,\n    admin: state.admin\n  }),\n  dispatch => ({\n    actions: bindActionCreators(adminActions, dispatch)\n  })\n)(Waitlist);\n"],"file":"waitlist.component.js"}
{"version":3,"sources":["../../../../src/modules/admin/web/downvotes.container.js"],"names":["PAGE_SIZE","Downvotes","props","renderDownvote","bind","load","hasMore","downvote","_id","investor","author","createdAt","post","page","l","admin","downvotes","length","actions","getDownvotes","downvoteEl","map","d","Component","PropTypes","object","state","auth","dispatch","adminActions"],"mappings":"y6BAAA,qDACA,6DACA,4BACA,uCACA,sEACA,yFACA,+C,6zBAEA,GAAMA,CAAAA,SAAS,CAAG,EAAlB,C,GAEMC,CAAAA,S,sGAMJ,mBAAYC,KAAZ,CAAmB,wDACjB,uBAAMA,KAAN,EACA,MAAKC,cAAL,CAAsB,MAAKA,cAAL,CAAoBC,IAApB,4CAAtB,CACA,MAAKC,IAAL,CAAY,MAAKA,IAAL,CAAUD,IAAV,4CAAZ,CACA,MAAKE,OAAL,CAAe,IAAf,CAJiB,aAKlB,C,yFAEcC,Q,CAAU,CACvB,MACE,qCAAK,SAAS,CAAE,cAAhB,CAAgC,GAAG,CAAEA,QAAQ,CAACC,GAA9C,gEACE,oCAAK,SAAS,CAAE,OAAhB,gEAA0BD,QAAQ,CAACE,QAAnC,CADF,CAEE,wGAAQF,QAAQ,CAACG,MAAjB,CAFF,CAGE,mGAAM,sCAAyBH,QAAQ,CAACI,SAAlC,CAAN,CAHF,CAIE,mGACGJ,QAAQ,CAACK,IAAT,CACG,sCAAyBL,QAAQ,CAACK,IAAT,CAAcD,SAAvC,CADH,CAEG,WAHN,CAJF,CADF,CAYD,C,kCAEIE,I,CAAM,CACT,GAAMC,CAAAA,CAAC,CAAG,KAAKZ,KAAL,CAAWa,KAAX,CAAiBC,SAAjB,CAA2BC,MAArC,CACA,KAAKX,OAAL,CAAe,CAACO,IAAI,CAAG,CAAR,EAAab,SAAb,EAA0Bc,CAAzC,CACA,GAAI,KAAKR,OAAT,CAAkB,CAChB,KAAKJ,KAAL,CAAWgB,OAAX,CAAmBC,YAAnB,CAAgCL,CAAhC,CAAmCd,SAAnC,EACD,CACF,C,uCAEQ,iBACP,GAAMoB,CAAAA,UAAU,CAAG,KAAKlB,KAAL,CAAWa,KAAX,CAAiBC,SAAjB,CAA2BK,GAA3B,CAA+B,SAAAC,CAAC,QAAI,CAAA,MAAI,CAACnB,cAAL,CAAoBmB,CAApB,CAAJ,EAAhC,CAAnB,CAEA,MACE,oGACE,8GADF,CAEE,6BAAC,kBAAD,EACE,IAAI,CAAE,KAAKpB,KAAL,CAAWa,KAAX,CAAiBC,SADzB,CAEE,SAAS,CAAE,gBAFb,CAGE,QAAQ,CAAE,KAAKX,IAHjB,CAIE,OAAO,CAAE,KAAKC,OAJhB,gEAMGc,UANH,CAFF,CADF,CAaD,C,uBApDqBG,gB,+BAAlBtB,S,aACe,CACjBc,KAAK,CAAES,mBAAUC,MADA,CAEjBP,OAAO,CAAEM,mBAAUC,MAFF,C,eAsDN,wBACb,SAAAC,KAAK,QAAK,CACRC,IAAI,CAAED,KAAK,CAACC,IADJ,CAERZ,KAAK,CAAEW,KAAK,CAACX,KAFL,CAAL,EADQ,CAKb,SAAAa,QAAQ,QAAK,CACXV,OAAO,CAAE,8BAAmBW,YAAnB,CAAiCD,QAAjC,CADE,CAAL,EALK,EAQb3B,SARa,C","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport * as adminActions from 'modules/admin/admin.actions';\nimport InfScroll from 'modules/listview/web/infScroll.component';\nimport { getDayMonthYearTimestamp } from 'app/utils/numbers';\n\nconst PAGE_SIZE = 40;\n\nclass Downvotes extends Component {\n  static propTypes = {\n    admin: PropTypes.object,\n    actions: PropTypes.object\n  };\n\n  constructor(props) {\n    super(props);\n    this.renderDownvote = this.renderDownvote.bind(this);\n    this.load = this.load.bind(this);\n    this.hasMore = true;\n  }\n\n  renderDownvote(downvote) {\n    return (\n      <div className={'downvoteList'} key={downvote._id}>\n        <div className={'dUser'}>{downvote.investor}</div>\n        <div>- {downvote.author}</div>\n        <div>{getDayMonthYearTimestamp(downvote.createdAt)}</div>\n        <div>\n          {downvote.post\n            ? getDayMonthYearTimestamp(downvote.post.createdAt)\n            : '[deleted]'}\n        </div>\n      </div>\n    );\n  }\n\n  load(page) {\n    const l = this.props.admin.downvotes.length;\n    this.hasMore = (page - 1) * PAGE_SIZE <= l;\n    if (this.hasMore) {\n      this.props.actions.getDownvotes(l, PAGE_SIZE);\n    }\n  }\n\n  render() {\n    const downvoteEl = this.props.admin.downvotes.map(d => this.renderDownvote(d));\n\n    return (\n      <div>\n        <h2>Downvotes</h2>\n        <InfScroll\n          data={this.props.admin.downvotes}\n          className={'adminContainer'}\n          loadMore={this.load}\n          hasMore={this.hasMore}\n        >\n          {downvoteEl}\n        </InfScroll>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  state => ({\n    auth: state.auth,\n    admin: state.admin\n  }),\n  dispatch => ({\n    actions: bindActionCreators(adminActions, dispatch)\n  })\n)(Downvotes);\n"],"file":"downvotes.container.js"}
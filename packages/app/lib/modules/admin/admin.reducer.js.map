{"version":3,"sources":["../../../src/modules/admin/admin.reducer.js"],"names":["initialState","inviteList","invites","waitList","wait","currentInvite","downvotes","count","admin","state","action","type","types","DESTROY_INVITE","payload","_id","SET_INVITE_COUNT","DELETE_WAITLIST_USER","users","forEach","u","filter","SET_WAITLIST","result","entities","SET_INVITES","community","data","skip","slice","UPDATE_INVITE","Set","SET_DOWNVOTES","LOGOUT_USER"],"mappings":"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","sourcesContent":["import * as types from 'core/actionTypes';\n\nconst initialState = {\n  inviteList: {},\n  invites: {},\n  waitList: [],\n  wait: {},\n  currentInvite: null,\n  downvotes: [],\n  count: {}\n};\n\nexport default function admin(state = initialState, action) {\n  switch (action.type) {\n    case types.DESTROY_INVITE: {\n      const invites = { ...state.invites };\n      delete invites[action.payload._id];\n      return {\n        ...state,\n        invites\n      };\n    }\n\n    case types.SET_INVITE_COUNT: {\n      return {\n        ...state,\n        count: {\n          ...state.count,\n          ...action.payload\n        }\n      };\n    }\n\n    case types.DELETE_WAITLIST_USER: {\n      const users = {};\n      action.payload.forEach(u => (users[u._id] = null));\n      const waitList = state.waitList.filter(u => users[u] !== null);\n      return {\n        ...state,\n        wait: {\n          ...state.wait,\n          ...users\n        },\n        waitList\n      };\n    }\n\n    case types.SET_WAITLIST: {\n      return {\n        ...state,\n        waitList: [...action.payload.result.wait, ...state.waitList],\n        wait: {\n          ...state.wait,\n          ...action.payload.entities.wait\n        }\n      };\n    }\n\n    case types.SET_INVITES: {\n      const { community, data, skip } = action.payload;\n      return {\n        ...state,\n        inviteList: {\n          ...state.inviteList,\n          [community]: [\n            ...(state.inviteList[community] || []).slice(0, skip),\n            ...data.result.invites\n          ]\n        },\n        invites: {\n          ...state.invites,\n          ...data.entities.invites\n        }\n      };\n    }\n\n    case types.UPDATE_INVITE: {\n      const { community, _id } = action.payload;\n      if (action.payload === null) {\n        return {\n          ...state,\n          currentInvite: null\n        };\n      }\n      return {\n        ...state,\n        currentInvite: action.payload,\n        inviteList: {\n          ...state.inviteList,\n          [community]: [...new Set([_id, ...(state.inviteList[community] || [])])]\n        },\n        invites: {\n          ...state.invites,\n          [action.payload._id]: {\n            ...state.invites[action.payload._id],\n            ...action.payload\n          }\n        }\n      };\n    }\n\n    case types.SET_DOWNVOTES: {\n      return {\n        ...state,\n        downvotes: [...state.downvotes, ...action.payload]\n      };\n    }\n\n    case types.LOGOUT_USER: {\n      return { ...initialState };\n    }\n\n    default:\n      return state;\n  }\n}\n"],"file":"admin.reducer.js"}
{"version":3,"sources":["../../../../src/modules/web_about/countUp/countUp.box.js"],"names":["CountUpBoxContainer","View","p","c","CountUpBoxShadow","Headline","Text","hide","CountUpBox","animate","oldProps","headline","props","onHeadlineFinished","len","length","lastIndex","tween","remove","t","add","duration","easing","circOut","update","obj","roundedIndex","Math","round","label","innerHTML","substr","labelRest","finished","type","color","children","height","width","ref","PureComponent","PropTypes","number","string","func","oneOfType","array","object"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { Text, View, InlineText } from 'modules/styled/web';\nimport styled from 'styled-components';\nimport { sizing, size } from 'app/styles';\nimport { tween } from 'app/utils';\n\nconst CountUpBoxContainer = styled(View)`\n  justify-content: flex-start;\n  flex-direction: row;\n  align-items: center;\n  transition: background-color 0.5s ease;\n  ${p => (p.c ? `color: ${p.c};` : '')};\n`;\n\nconst CountUpBoxShadow = styled(View)`\n  position: absolute;\n  top: 0;\n  box-shadow: -4px 0px 5px -1px #dddddd;\n  z-index: -1;\n`;\n\nconst Headline = styled(Text)`\n  text-transform: uppercase;\n  font-size: ${() => size([5, 3])};\n  line-height: ${() => size([5, 3])};\n  ${p => (p.hide ? 'visibility: hidden;' : '')}\n`;\n\nexport default class CountUpBox extends PureComponent {\n  static propTypes = {\n    height: PropTypes.number,\n    type: PropTypes.string,\n    headline: PropTypes.string,\n    color: PropTypes.string,\n    onHeadlineFinished: PropTypes.func,\n    children: PropTypes.oneOfType([PropTypes.array, PropTypes.object])\n  };\n\n  componentDidMount() {\n    this.animate();\n  }\n\n  componentDidUpdate(oldProps) {\n    if (oldProps.headline !== this.props.headline) {\n      this.animate();\n    }\n  }\n\n  animate() {\n    const { headline, onHeadlineFinished } = this.props;\n    const len = headline.length;\n    let lastIndex = 0;\n    tween.remove(this.t);\n    this.t = tween.add({\n      duration: 500,\n      easing: tween.easing.circOut,\n      update: (obj, t) => {\n        const roundedIndex = Math.round(t * len);\n        if (lastIndex !== roundedIndex) {\n          lastIndex = roundedIndex;\n          this.label.innerHTML = headline.substr(0, roundedIndex);\n          this.labelRest.innerHTML = headline.substr(roundedIndex, headline.length - 1);\n        }\n      },\n      finished: () => {\n        if (onHeadlineFinished) onHeadlineFinished();\n      }\n    });\n  }\n\n  render() {\n    const { type, color, children, height } = this.props;\n    const width = [sizing(75), '65%'];\n\n    return (\n      <CountUpBoxContainer\n        h={height}\n        w={width}\n        bg={color}\n        c={type === 'relevant' ? 'white' : 'black'}\n        pr={1}\n      >\n        {children}\n        <InlineText>\n          <Headline inline={1} ref={ref => (this.label = ref)} />\n          <Headline inline={1} hide ref={ref => (this.labelRest = ref)} />\n        </InlineText>\n        <CountUpBoxShadow h={height} w={width} />\n      </CountUpBoxContainer>\n    );\n  }\n}\n"],"file":"countUp.box.js"}
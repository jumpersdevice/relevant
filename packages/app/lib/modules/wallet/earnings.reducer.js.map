{"version":3,"sources":["../../../src/modules/wallet/earnings.reducer.js"],"names":["initialState","list","entities","pending","earnings","state","action","type","types","SET_EARNINGS","payload","status","slice","skip","data","result","ADD_EARNING","_id","REMOVE_EARNING","id","UPDATE_EARNING"],"mappings":"ycAAA,qEACA,gE,yyBAEA,GAAMA,CAAAA,YAAY,CAAG,CACnBC,IAAI,CAAE,EADa,CAEnBC,QAAQ,CAAE,EAFS,CAGnBC,OAAO,CAAE,EAHU,CAArB,CAMe,QAASC,CAAAA,QAAT,EAAgD,IAA9BC,CAAAA,KAA8B,2DAAtBL,YAAsB,IAARM,CAAAA,MAAQ,2CAC7D,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKC,CAAAA,KAAK,CAACC,YAAX,CAAyB,oBACvB,sCACKJ,KADL,oEAEGC,MAAM,CAACI,OAAP,CAAeC,MAAf,EAAyB,MAF5B,2CAGON,KAAK,CAACC,MAAM,CAACI,OAAP,CAAeC,MAAf,EAAyB,MAA1B,CAAL,CAAuCC,KAAvC,CAA6C,CAA7C,CAAgDN,MAAM,CAACI,OAAP,CAAeG,IAA/D,CAHP,kCAIOP,MAAM,CAACI,OAAP,CAAeI,IAAf,CAAoBC,MAJ3B,0FAOOV,KAAK,CAACH,QAPb,EAQOI,MAAM,CAACI,OAAP,CAAeI,IAAf,CAAoBZ,QAApB,CAA6BE,QARpC,oBAWD,CAED,IAAKI,CAAAA,KAAK,CAACQ,WAAX,CAAwB,oBACtB,sCACKX,KADL,oEAEGC,MAAM,CAACI,OAAP,CAAeC,MAFlB,EAGIL,MAAM,CAACI,OAAP,CAAeO,GAHnB,yCAIQZ,KAAK,CAACC,MAAM,CAACI,OAAP,CAAeC,MAAhB,CAAL,EAAgC,EAJxC,0FAOON,KAAK,CAACH,QAPb,qCAQKI,MAAM,CAACI,OAAP,CAAeO,GARpB,CAQ0BX,MAAM,CAACI,OARjC,wDAUSJ,MAAM,CAACI,OAAP,CAAeO,GAVxB,yCAUgCZ,KAAK,CAACJ,IAVtC,qBAYD,CAED,IAAKO,CAAAA,KAAK,CAACU,cAAX,CAA2B,IACjBD,CAAAA,GADiB,CACTX,MAAM,CAACI,OADE,CACjBO,GADiB,IAEjBd,CAAAA,OAFiB,CAECE,KAFD,CAEjBF,OAFiB,CAERF,IAFQ,CAECI,KAFD,CAERJ,IAFQ,CAGzB,sCACKI,KADL,MAEEF,OAAO,CAAE,oBAAO,SAAAgB,EAAE,QAAIA,CAAAA,EAAE,GAAKF,GAAX,EAAT,CAAyBd,OAAzB,CAFX,CAGEF,IAAI,CAAE,oBAAO,SAAAkB,EAAE,QAAIA,CAAAA,EAAE,GAAKF,GAAX,EAAT,CAAyBhB,IAAzB,CAHR,CAIEC,QAAQ,gCACHG,KAAK,CAACH,QADH,qCAELI,MAAM,CAACI,OAAP,CAAeO,GAFV,CAEgB,IAFhB,EAJV,GASD,CAED,IAAKT,CAAAA,KAAK,CAACY,cAAX,CAA2B,qBACDd,MAAM,CAACI,OADN,CACjBO,IADiB,iBACjBA,GADiB,CACZN,MADY,iBACZA,MADY,IAEjBR,CAAAA,QAFiB,CAELE,KAFK,CAEjBF,OAFiB,CAGzB,sCACKE,KADL,MAEEF,OAAO,CAAEQ,MAAM,GAAK,SAAX,CAAuB,oBAAO,SAAAQ,EAAE,QAAIA,CAAAA,EAAE,GAAKF,IAAX,EAAT,CAAyBd,QAAzB,CAAvB,CAA2DA,QAFtE,CAGED,QAAQ,gCACHG,KAAK,CAACH,QADH,qCAELI,MAAM,CAACI,OAAP,CAAeO,GAFV,CAEgBX,MAAM,CAACI,OAFvB,EAHV,GAQD,CAED,QACE,MAAOL,CAAAA,KAAP,CA1DJ,CA4DD","sourcesContent":["import * as types from 'core/actionTypes';\nimport remove from 'lodash/fp/remove';\n\nconst initialState = {\n  list: [],\n  entities: {},\n  pending: []\n};\n\nexport default function earnings(state = initialState, action) {\n  switch (action.type) {\n    case types.SET_EARNINGS: {\n      return {\n        ...state,\n        [action.payload.status || 'list']: [\n          ...state[action.payload.status || 'list'].slice(0, action.payload.skip),\n          ...action.payload.data.result\n        ],\n        entities: {\n          ...state.entities,\n          ...action.payload.data.entities.earnings\n        }\n      };\n    }\n\n    case types.ADD_EARNING: {\n      return {\n        ...state,\n        [action.payload.status]: [\n          action.payload._id,\n          ...(state[action.payload.status] || [])\n        ],\n        entities: {\n          ...state.entities,\n          [action.payload._id]: action.payload\n        },\n        list: [action.payload._id, ...state.list]\n      };\n    }\n\n    case types.REMOVE_EARNING: {\n      const { _id } = action.payload;\n      const { pending, list } = state;\n      return {\n        ...state,\n        pending: remove(id => id === _id, pending),\n        list: remove(id => id === _id, list),\n        entities: {\n          ...state.entities,\n          [action.payload._id]: null\n        }\n      };\n    }\n\n    case types.UPDATE_EARNING: {\n      const { _id, status } = action.payload;\n      const { pending } = state;\n      return {\n        ...state,\n        pending: status !== 'pending' ? remove(id => id === _id, pending) : pending,\n        entities: {\n          ...state.entities,\n          [action.payload._id]: action.payload\n        }\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n"],"file":"earnings.reducer.js"}
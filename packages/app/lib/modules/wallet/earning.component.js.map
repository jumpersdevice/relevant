{"version":3,"sources":["../../../src/modules/wallet/earning.component.js"],"names":["Earning","props","earning","month","payout","screenSize","PostPreview","community","post","status","payoutTime","text","cashOutAttempt","toLowerCase","monthEl","toUpperCase","_id","createdAt","cashOutAmt","PureComponent","PropTypes","object","string","number","elementTypePropTypeChecker","Header","propTypes","amount","date","bb","bool","colors","secondaryBG","numbers","getDayMonthYearTimestamp","secondaryText","red","abbreviateNumber","green"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { numbers } from 'app/utils';\nimport { colors } from 'app/styles';\nimport { View, BodyText } from 'modules/styled/uni';\nimport { elementTypePropTypeChecker } from 'utils/propValidation';\nimport { getTimestamp } from 'utils/numbers';\n\nexport default class Earning extends PureComponent {\n  static propTypes = {\n    earning: PropTypes.object,\n    month: PropTypes.string,\n    payout: PropTypes.number,\n    screenSize: PropTypes.number,\n    PostPreview: elementTypePropTypeChecker\n  };\n\n  render() {\n    const { earning, month, payout, screenSize, PostPreview } = this.props;\n    const { community, post } = earning;\n    if (!earning) return null;\n\n    const { status = '' } = earning;\n    const payoutTime = status === 'pending' && getTimestamp(earning.payoutTime);\n\n    const text = earning.cashOutAttempt\n      ? `Transfer tokens to Ethereum wallet: ${status}`\n      : `${status}${payoutTime ? ' ' + payoutTime.toLowerCase() : ''}`;\n\n    const monthEl = month && (\n      <View mt={4}>\n        <BodyText>{month.toUpperCase()}</BodyText>\n      </View>\n    );\n\n    return (\n      <View m={['0 4', '0 2']} key={earning._id}>\n        {monthEl}\n        <Header\n          date={earning.createdAt}\n          amount={payout || -earning.cashOutAmt}\n          text={text}\n          bb={!post}\n        />\n        {post ? (\n          <View border={screenSize ? null : 1}>\n            <PostPreview screenSize={screenSize} community={community} postId={post} />\n          </View>\n        ) : null}\n      </View>\n    );\n  }\n}\n\nHeader.propTypes = {\n  text: PropTypes.string,\n  amount: PropTypes.number,\n  date: PropTypes.string,\n  bb: PropTypes.bool\n};\n\nfunction Header({ date, amount, text, bb }) {\n  return (\n    <View\n      bt\n      bl\n      br\n      bb={bb}\n      p={'1.5 1'}\n      fdirection=\"row\"\n      mt={2}\n      bg={colors.secondaryBG}\n      grow={1}\n      justify=\"space-between\"\n    >\n      <View display=\"flex\" fdirection=\"row\" wrap flex={1}>\n        <BodyText mr={[4, 2]}>{date && numbers.getDayMonthYearTimestamp(date)}</BodyText>\n        <BodyText c={colors.secondaryText}>{text}</BodyText>\n      </View>\n      {amount < 0 ? (\n        <BodyText c={colors.red}>{numbers.abbreviateNumber(amount)} REL</BodyText>\n      ) : (\n        <BodyText c={colors.green}>+ {numbers.abbreviateNumber(amount)} REL</BodyText>\n      )}\n    </View>\n  );\n}\n"],"file":"earning.component.js"}
{"version":3,"sources":["../../../../src/modules/stats/mobile/statCategoryView.component.js"],"names":["styles","StatCategory","props","context","state","loaded","setState","topic","actions","goToPeople","stats","title","button","level","tag","charAt","toUpperCase","slice","active","untilNext","Math","round","floor","color","index","relGoal","relevance","container","statSection","flexDirection","justifyContent","bebas","rowTitle","innerContainer","col","vBorder","statRow","hBorder","rowText","numberText","rank","fontWeight","fontSize","alignSelf","marginVertical","marginBottom","parseInt","flex","alignItems","Component","PropTypes","object","localStyles","StyleSheet","create","linearGradient","height","width","fullWidth","paddingRight","backgroundColor","fontFamily","paddingVertical","darkGrey","defaultText","letterSpacing","textAlign","lineHeight","borderBottomWidth","hairlineWidth","borderColor","borderRightWidth","marginTop","paddingHorizontal","globalStyles"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { StyleSheet, Text, View } from 'react-native';\nimport PropTypes from 'prop-types';\nimport * as Progress from 'react-native-progress';\nimport { globalStyles, fullWidth, darkGrey } from 'app/styles/global';\nimport Stats from 'modules/stats/mobile/stats.component';\n\nlet styles;\n\nexport default class StatCategory extends Component {\n  static propTypes = {\n    actions: PropTypes.object,\n    stats: PropTypes.object,\n    index: PropTypes.object\n  };\n\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      loaded: false\n    };\n  }\n\n  componentDidMount() {\n    this.setState({ loaded: true });\n  }\n\n  goToPeople(topic) {\n    this.props.actions.goToPeople(topic);\n  }\n\n  render() {\n    const { stats } = this.props;\n    let title;\n    let button;\n\n    if (typeof stats.level !== 'number') return null;\n\n    if (stats.tag) {\n      title = stats.tag.charAt(0).toUpperCase() + stats.tag.slice(1);\n      button = (\n        <Text\n          onPress={() => this.goToPeople(title)}\n          style={[styles.button, styles.active]}\n        >\n          See top users in {title}\n        </Text>\n      );\n    } else {\n      title = 'Relevance Stats';\n      button = (\n        <Text\n          onPress={() => this.goToPeople(null)}\n          style={[styles.button, styles.active]}\n        >\n          See all users\n        </Text>\n      );\n    }\n\n    const untilNext = Math.round((10 * stats.level) % 100) / 100;\n    const level = Math.floor(stats.level / 10);\n    const color = this.props.index * 80 + 240;\n    const relGoal = Math.round((stats.relevance / stats.level) * (level + 1) * 10);\n\n    return (\n      <View style={[styles.container, styles.statSection]}>\n        <View style={{ flexDirection: 'row', justifyContent: 'center' }}>\n          <Text style={[styles.bebas, styles.rowTitle]}>{title}</Text>\n        </View>\n\n        <View style={styles.innerContainer}>\n          <View style={[styles.col, styles.vBorder]}>\n            <View style={[styles.statRow, styles.hBorder]}>\n              <Text style={[styles.rowText, styles.numberText]}>{level}</Text>\n              <Text style={[styles.rowText]}>Level</Text>\n            </View>\n\n            <View style={[styles.statRow, styles.hBorder]}>\n              <Text style={[styles.rowText, styles.numberText]}>#{stats.rank}</Text>\n              <Text style={[styles.rowText]}>Rank</Text>\n            </View>\n\n            <View style={[styles.statRow]}>\n              <Stats\n                textStyle={{ fontWeight: 'bold', fontSize: 16 }}\n                style={{ alignSelf: 'center', marginVertical: 2 }}\n                type={'relevance'}\n                entity={stats}\n                renderLeft={title ? title + '  ' : null}\n              />\n            </View>\n          </View>\n\n          <View style={styles.col}>\n            <View style={styles.statRow}>\n              <Text style={[styles.rowText, { marginBottom: 5 }]}>Next Goal:</Text>\n              <Text style={[styles.rowText]}>\n                Level:{' '}\n                <Text style={[styles.rowText, styles.numberText]}>{level + 1}</Text>\n              </Text>\n              <Progress.Circle\n                style={{ marginVertical: 10 }}\n                color={'hsla(' + parseInt(color, 10) + ',      80%, 50%, 1)'}\n                size={60}\n                showsText\n                progress={this.state.loaded ? untilNext : 0}\n              />\n              <Stats\n                textStyle={{ fontWeight: 'bold', fontSize: 16 }}\n                style={{ alignSelf: 'center', marginVertical: 2 }}\n                type={'relevance'}\n                entity={{ relevance: relGoal }}\n                renderLeft={title ? title + '  ' : null}\n              />\n            </View>\n          </View>\n        </View>\n        <View style={{ flex: 1, alignItems: 'center' }}>{button}</View>\n      </View>\n    );\n  }\n}\n\nconst localStyles = StyleSheet.create({\n  linearGradient: {\n    height: 60,\n    width: fullWidth,\n    justifyContent: 'flex-end'\n  },\n  rowTitle: {\n    fontSize: 17,\n    paddingRight: 5,\n    backgroundColor: 'transparent',\n    fontFamily: 'System',\n    paddingVertical: 20,\n    color: darkGrey\n  },\n  defaultText: {\n    fontFamily: 'System',\n    fontSize: 15\n  },\n  numberText: {\n    fontFamily: 'BebasNeueRelevantRegular',\n    fontWeight: 'bold',\n    letterSpacing: 0.5,\n    fontSize: 16\n  },\n  rowText: {\n    fontSize: 14,\n    paddingRight: 5,\n    paddingVertical: 1,\n    textAlign: 'center',\n    lineHeight: 17,\n    color: darkGrey\n  },\n  container: {\n    flex: 1\n  },\n  innerContainer: {\n    flexDirection: 'row',\n    flex: 1\n  },\n  hBorder: {\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    borderColor: 'hsl(0,0%,80%)'\n  },\n  vBorder: {\n    borderRightWidth: StyleSheet.hairlineWidth,\n    borderColor: 'hsl(0,0%,80%)'\n  },\n  col: {\n    marginTop: 10,\n    marginBottom: 30,\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  statRow: {\n    flex: 1,\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingVertical: 10\n  },\n  statSection: {\n    flexDirection: 'column',\n    backgroundColor: 'white'\n  },\n  button: {\n    flex: 0,\n    marginBottom: 20,\n    paddingVertical: 8,\n    paddingHorizontal: 10\n  }\n});\n\nstyles = { ...globalStyles, ...localStyles };\n"],"file":"statCategoryView.component.js"}
{"version":3,"sources":["../../src/notifications/index.js"],"names":["relevantEnv","process","env","RELEVANT_ENV","sendNotification","user","alert","payload","err","console","log"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA,MAAMA,WAAW,GAAGC,OAAO,CAACC,GAAR,CAAYC,YAAhC;;AAEO,eAAeC,gBAAf,CAAgCC,IAAhC,EAAsCC,KAAtC,EAA6CC,OAA7C,EAAsD;AAC3D,MAAI;AACF,QAAIP,WAAW,KAAK,YAApB,EAAkC;AAClC,0DAAyBO,OAAzB;AACA,sDAAuB,EAAE,GAAGA,OAAL;AAAcD,MAAAA;AAAd,KAAvB;AACA,4DAA0BD,IAA1B,EAAgCC,KAAhC,EAAuCC,OAAvC;AACA;AACD,GAND,CAME,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,EADY,CACM;AACnB;AACF","sourcesContent":["import { handleEmailNotifications } from 'server/notifications/emailPushNotifications';\nimport { handleWebNotifications } from 'server/notifications/webPushNotifications';\nimport { handleMobileNotifications } from 'server/notifications/mobilePushNotifications';\n\nconst relevantEnv = process.env.RELEVANT_ENV;\n\nexport async function sendNotification(user, alert, payload) {\n  try {\n    if (relevantEnv !== 'production') return;\n    handleEmailNotifications(payload);\n    handleWebNotifications({ ...payload, alert });\n    handleMobileNotifications(user, alert, payload);\n    return;\n  } catch (err) {\n    console.log(err); // eslint-disable-line\n  }\n}\n"],"file":"index.js"}
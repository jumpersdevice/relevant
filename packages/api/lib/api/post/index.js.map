{"version":3,"sources":["../../../src/api/post/index.js"],"names":["express","require","controller","auth","asyncMiddleware","router","Router","post","isAuthenticated","communityMember","create","hasRole","sendPostNotification","put","update","flag","get","flagged","readable","topPosts","blocked","index","userPosts","preview","delete","remove","module","exports"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,UAAU,GAAGD,OAAO,qBAA1B;;AACA,IAAME,IAAI,GAAGF,OAAO,2BAApB;;AACA,IAAM;AAAEG,EAAAA;AAAF,IAAsBH,OAAO,2BAAnC;;AAEA,IAAMI,MAAM,GAAGL,OAAO,CAACM,MAAR,EAAf;AAEAD,MAAM,CAACE,IAAP,CAAY,GAAZ,EAAiBJ,IAAI,CAACK,eAAL,EAAjB,EAAyCL,IAAI,CAACM,eAAL,EAAzC,EAAiEP,UAAU,CAACQ,MAA5E;AACAL,MAAM,CAACE,IAAP,CACE,uBADF,EAEEJ,IAAI,CAACQ,OAAL,CAAa,OAAb,CAFF,EAGET,UAAU,CAACU,oBAHb;AAMAP,MAAM,CAACQ,GAAP,CAAW,GAAX,EAAgBV,IAAI,CAACK,eAAL,EAAhB,EAAwCL,IAAI,CAACM,eAAL,EAAxC,EAAgEP,UAAU,CAACY,MAA3E;AACAT,MAAM,CAACQ,GAAP,CAAW,OAAX,EAAoBV,IAAI,CAACK,eAAL,EAApB,EAA4CN,UAAU,CAACa,IAAvD;AAEAV,MAAM,CAACW,GAAP,CAAW,UAAX,EAAuBb,IAAI,CAACQ,OAAL,CAAa,OAAb,CAAvB,EAA8CT,UAAU,CAACe,OAAzD,E,CACA;;AACAZ,MAAM,CAACW,GAAP,CAAW,WAAX,EAAwBd,UAAU,CAACgB,QAAnC;AACAb,MAAM,CAACW,GAAP,CAAW,WAAX,EAAwBd,UAAU,CAACiB,QAAnC;AACAd,MAAM,CAACW,GAAP,CAAW,MAAX,EAAmBb,IAAI,CAACiB,OAAL,EAAnB,EAAmChB,eAAe,CAACF,UAAU,CAACmB,KAAZ,CAAlD;AACAhB,MAAM,CAACW,GAAP,CAAW,WAAX,EAAwBb,IAAI,CAACiB,OAAL,EAAxB,EAAwClB,UAAU,CAACoB,SAAnD;AACAjB,MAAM,CAACW,GAAP,CAAW,mBAAX,EAAgCd,UAAU,CAACqB,OAA3C;AAEAlB,MAAM,CAACmB,MAAP,CAAc,MAAd,EAAsBrB,IAAI,CAACK,eAAL,EAAtB,EAA8CN,UAAU,CAACuB,MAAzD;AAEAC,MAAM,CAACC,OAAP,GAAiBtB,MAAjB","sourcesContent":["const express = require('express');\nconst controller = require('./post.controller');\nconst auth = require('../../auth/auth.service');\nconst { asyncMiddleware } = require('../../utils/middlewares');\n\nconst router = express.Router();\n\nrouter.post('/', auth.isAuthenticated(), auth.communityMember(), controller.create);\nrouter.post(\n  '/sendPostNotification',\n  auth.hasRole('admin'),\n  controller.sendPostNotification\n);\n\nrouter.put('/', auth.isAuthenticated(), auth.communityMember(), controller.update);\nrouter.put('/flag', auth.isAuthenticated(), controller.flag);\n\nrouter.get('/flagged', auth.hasRole('admin'), controller.flagged);\n// router.get('/', auth.authMiddleware(), controller.index);\nrouter.get('/readable', controller.readable);\nrouter.get('/topPosts', controller.topPosts);\nrouter.get('/:id', auth.blocked(), asyncMiddleware(controller.index));\nrouter.get('/user/:id', auth.blocked(), controller.userPosts);\nrouter.get('/preview/generate', controller.preview);\n\nrouter.delete('/:id', auth.isAuthenticated(), controller.remove);\n\nmodule.exports = router;\n"],"file":"index.js"}